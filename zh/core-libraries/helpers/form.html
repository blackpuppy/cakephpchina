

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="FormHelper" lang="zh" name="title" />
<meta content="The FormHelper focuses on creating forms quickly, in a way that will streamline validation, re-population and layout." lang="zh" name="description" />
<meta content="html helper,cakephp html,form create,form input,form select,form file field,form label,form text,form password,form checkbox,form radio,form submit,form date time,form error,validate upload,unlock field,form security" lang="zh" name="keywords" />

    <title>FormHelper</title>
    <link href="../../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../../_static/app.js"></script>

    <link rel="alternate" hreflang="en" href="../../../en/core-libraries/helpers/form.html" /><link rel="alternate" hreflang="pt" href="../../../pt/core-libraries/helpers/form.html" /><link rel="alternate" hreflang="es" href="../../../es/core-libraries/helpers/form.html" /><link rel="alternate" hreflang="ja" href="../../../ja/core-libraries/helpers/form.html" /><link rel="alternate" hreflang="fr" href="../../../fr/core-libraries/helpers/form.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 2.x 文档" href="../../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 2.x 文档" href="../../index.html" />
    <link rel="up" title="助件" href="../../views/helpers.html" />
    <link rel="next" title="HtmlHelper" href="html.html" />
    <link rel="prev" title="Flash" href="flash.html" />

    <script type="text/javascript">
    window.lang = "zh";
    </script>
  </head>
  <body>

<div id="container">
	
	<header class="nav-down">
		<div class="container-fluid hidden-xs hidden-sm">
			<div class="row">
				<div class="col-sm-3 col-md-3">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-9 col-md-9">
					<nav class="navbar-right">
						<ul class="menu">
							<li class="first">
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
								<ul class="submenu">
									
<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
								</ul>
							</li>

							<li><a href="http://cakephp.org/business-solutions">Business Solutions</a></li>
							<li><a href="http://cakephp.org/showcase">Showcase</a></li>

							<li>
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
								<div class="megamenu full">
									<div class="row">
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
											</ul>
										</div>
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
											</ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>

		
		<div class="container-fluid hidden-md hidden-lg">
			<div class="row">
				<div class="col-sm-6 col-xs-6">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-6 col-xs-6">
					<div class="navbar-right">
						<button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
							<i class="fa fa-bars toggle-modal"></i>
						</button>
					</div>
					<div id="wrap">
						<form class="search" action="../../search.html" method="get">
							<input name="q" type="search" placeholder="What are you looking for?">
							<input id="search_submit" value="搜索" type="submit">
						</form>
					</div>
				</div>
			</div>
		</div>

		
		<section id="nav-cook" class="hidden-xs hidden-sm">
			<div class="container-fluid ">
				<div class="row ">
					<div class="col-md-12 back-book">
						<div class="col-md-4 col-md-offset-1 text-center t-cook-nav p0 hidden-sm hidden-xs">
							<h2>
								<a href="../../contents.html">
									<span class="glyph_range icon-submenu icon-submenu-cook">B</span>
									CakePHP 2.x <strong>Cookbook</strong>
								</a>
							</h2>
						</div>

						<div class="col-md-4 hidden-sm">
							<form class="search" action="../../search.html" method="get">
								<input type="hidden" name="check_keywords" value="yes" />
								<input type="hidden" name="area" value="default" />

								<div class="col-md-10 p0">
									<input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
								</div>
								<div class="col-md-2 p0 search-cook">
									<button type="submit">
										<span class="glyph_range icon-submenu icon-submenu-cook">A</span>
									</button>
								</div>
							</form>
						</div>

						
						<div class="col-md-3">
							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Language:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
													role="button" aria-haspopup="true" aria-expanded="false" href="#">
														zh
														<i class="fa fa-menu-en fa-chevron-down"></i>
													</a>
											<ul class="dropdown-menu">
											
												<li><a href="../../../en/core-libraries/helpers/form.html">en</a></li>
											
												<li><a href="../../../pt/core-libraries/helpers/form.html">pt</a></li>
											
												<li><a href="../../../es/core-libraries/helpers/form.html">es</a></li>
											
												<li><a href="../../../ja/core-libraries/helpers/form.html">ja</a></li>
											
												<li><a href="../../../fr/core-libraries/helpers/form.html">fr</a></li>
											
												<li></li>
											
											</ul>
										</li>
									</ul>
								</div>
							</div>

							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Version:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">2.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
											<ul class="dropdown-menu">
												<li><a href="http://book.cakephp.org/3.0/zh">3.x Book</a></li>
												<li><a href="http://book.cakephp.org/2.0/zh">2.x Book</a></li>
												<li><a href="http://book.cakephp.org/1.3/zh/">1.3 Book</a></li>
												<li><a href="http://book.cakephp.org/1.2/zh/">1.2 Book</a></li>
												<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</section>
	</header>

	
	<section class="nav-btn visible-sm visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
				</div>

				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
				</div>
			</div>
		</div>
	</section>

	
	<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title-cookbook" id="modal-header"></h4>
				</div>
				<div class="modal-body"></div>
			</div>
		</div>
	</div>

<div class="container page-container"><div id="improve-slideout">
		<i class="fa fa-pencil icon-improve"></i>
		<a href="https://github.com/cakephp/docs/edit/master/zh/core-libraries/helpers/form.rst" target="_blank">
			<div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
		</a>
	</div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

	
	<div class="row">
		<div class="col-sm-12 col-md-9 col-md-push-3 space-left push-off"><div class="page-contents col-sm-5">
				<h3>Page Contents</h3>
				<ul>
<li><a class="reference internal" href="#">FormHelper</a><ul>
<li><a class="reference internal" href="#id1">创建表单</a></li>
<li><a class="reference internal" href="#creating-forms">Creating Forms</a><ul>
<li><a class="reference internal" href="#create">create() 方法的选项</a></li>
<li><a class="reference internal" href="#options-for-create">Options for create()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">结束表单</a></li>
<li><a class="reference internal" href="#closing-the-form">Closing the Form</a></li>
<li><a class="reference internal" href="#automagic-form-elements">创建表单元素</a></li>
<li><a class="reference internal" href="#creating-form-elements">Creating form elements</a><ul>
<li><a class="reference internal" href="#id5">字段命名约定</a></li>
<li><a class="reference internal" href="#field-naming-conventions">Field naming conventions</a></li>
<li><a class="reference internal" href="#id6">选项</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#get-input">GET 表单 input 字段</a></li>
<li><a class="reference internal" href="#get-form-inputs">GET Form Inputs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#input">生成特定类型的input元素</a></li>
<li><a class="reference internal" href="#generating-specific-types-of-inputs">Generating specific types of inputs</a><ul>
<li><a class="reference internal" href="#general-input-options">通用选项</a></li>
<li><a class="reference internal" href="#common-options">Common options</a></li>
<li><a class="reference internal" href="#select-checkbox-radio-input">select，checkbox 和 radio 类型的 input 元素的选项</a></li>
<li><a class="reference internal" href="#options-for-select-checkbox-and-radio-inputs">Options for select, checkbox and  radio inputs</a></li>
<li><a class="reference internal" href="#datetime">Datetime 选项</a></li>
<li><a class="reference internal" href="#datetime-options">Datetime options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">表单元素相关的方法</a></li>
<li><a class="reference internal" href="#form-element-specific-methods">Form Element-Specific Methods</a><ul>
<li><a class="reference internal" href="#id9">验证（文件）上载</a></li>
<li><a class="reference internal" href="#validating-uploads">Validating Uploads</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">创建按键和提交元素</a></li>
<li><a class="reference internal" href="#creating-buttons-and-submit-elements">Creating buttons and submit elements</a></li>
<li><a class="reference internal" href="#id11">创建日期和时间类型的 input 元素</a></li>
<li><a class="reference internal" href="#creating-date-and-time-inputs">Creating date and time inputs</a></li>
<li><a class="reference internal" href="#id12">显示及检查错误</a></li>
<li><a class="reference internal" href="#displaying-and-checking-errors">Displaying and checking errors</a></li>
<li><a class="reference internal" href="#id13">对所有字段设置默认值</a></li>
<li><a class="reference internal" href="#setting-defaults-for-all-fields">Setting Defaults for all fields</a></li>
<li><a class="reference internal" href="#securitycomponent">与 SecurityComponent 组件一起使用</a></li>
<li><a class="reference internal" href="#working-with-securitycomponent">Working with SecurityComponent</a></li>
<li><a class="reference internal" href="#updates">2.0 updates</a></li>
</ul>
</li>
</ul>

			</div><div class="document-body">
			
  <div class="section" id="formhelper">
<h1>FormHelper<a class="headerlink" href="#formhelper" title="永久链接至标题">¶</a></h1>
<dl class="class">
<dt id="FormHelper">
<em class="property">class </em><code class="descname">FormHelper</code><span class="sig-paren">(</span><em>View $view</em>, <em>array $settings = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>FormHelper 助件在创建表单的过程中承担了大部分繁重的工作。FormHelper 助件注重快速创建表单，简化
验证、重新填充和布局。FormHelper 助件也是灵活的——它几乎做任何
事情都使用约定，当然你也可以用特定的方法获得你需要的（不同）效果。</p>
<p>The FormHelper does most of the heavy lifting in form creation.
The FormHelper focuses on creating forms quickly, in a way that
will streamline validation, re-population and layout. The
FormHelper is also flexible - it will do almost everything for
you using conventions, or you can use specific methods to get
only what you need.</p>
<div class="section" id="id1">
<h2>创建表单<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="creating-forms">
<h2>Creating Forms<a class="headerlink" href="#creating-forms" title="永久链接至标题">¶</a></h2>
<p>为了利用 FormHelper 助件，首先要使用的一个方法是 <code class="docutils literal"><span class="pre">create()</span></code> 方法。这个特别的方法
输出一个开始的 form 标签。</p>
<p>The first method you&#8217;ll need to use in order to take advantage of
the FormHelper is <code class="docutils literal"><span class="pre">create()</span></code>. This special method outputs an
opening form tag.</p>
<dl class="method">
<dt id="FormHelper::create">
<code class="descclassname">FormHelper::</code><code class="descname">create</code><span class="sig-paren">(</span><em>string $model = null</em>, <em>array $options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::create" title="永久链接至目标">¶</a></dt>
<dd><p>所有的参数都是可选的。如果调用 <code class="docutils literal"><span class="pre">create()</span></code> 方法时没有提供参数，就会认为构建
的表单是通过当前的网址（<em>URL</em>）提交给当前的控制器。提交表单的默认方法是
POST。返回的 form 元素带有一个 DOM ID。这个 ID 是用模型的名称和控制器动作的名称，
按照驼峰命名方式（<em>CamelCased</em>）生成的。例如在 UsersController 的视图中调用
<code class="docutils literal"><span class="pre">create()</span></code> 方法，在渲染得到的视图中会看到下面的输出:</p>
<p>All parameters are optional. If <code class="docutils literal"><span class="pre">create()</span></code> is called with no
parameters supplied, it assumes you are building a form that
submits to the current controller, via the current URL.
The default method for form submission is POST.
The form element is also returned with a DOM ID. The ID is
generated using the name of the model, and the name of the
controller action, CamelCased. If I were to call <code class="docutils literal"><span class="pre">create()</span></code>
inside a UsersController view, I&#8217;d see something like the following
output in the rendered view:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserAddForm&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/users/add&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>你也可以给 <code class="docutils literal"><span class="pre">$model</span></code> 参数传入 <code class="docutils literal"><span class="pre">false</span></code>。这样就会把表单数据放进数组：
<code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> 中（而不是次级数组
<code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data['Model']</span></code> 中）。这对于不代表任何数据库中的数据的
简易表单，是很方便的。</p>
<p class="last">You can also pass <code class="docutils literal"><span class="pre">false</span></code> for <code class="docutils literal"><span class="pre">$model</span></code>. This will place your
form data into the array: <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> (instead of in the
sub-array: <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data['Model']</span></code>). This can be handy for short
forms that may not represent anything in your database.</p>
</div>
<p>其实，<code class="docutils literal"><span class="pre">create()</span></code> 方法允许我们用参数对表单做更多定制。首先，你可以指定模型
名称。为表单指定模型，就是创建了表单的 <em>上下文（context）</em>。所有的字段都认为是属于
该模型（除非另外说明），所有引用的模型都与之关联。如果你不指定模型，就认为是
使用当前控制器的默认模型:</p>
<p>The <code class="docutils literal"><span class="pre">create()</span></code> method allows us to customize much more using the
parameters, however. First, you can specify a model name. By
specifying a model for a form, you are creating that form&#8217;s
<em>context</em>. All fields are assumed to belong to this model (unless
otherwise specified), and all models referenced are assumed to be
associated with it. If you do not specify a model, then it assumes
you are using the default model for the current controller:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// 如果你在 /recipes/add 页面</span>
<span class="c1">// If you are on /recipes/add</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;Recipe&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;form id=&quot;RecipeAddForm&quot; method=&quot;post&quot; action=&quot;/recipes/add&quot;&gt;</span>
</pre></div>
</div>
<p>这会把表单数据以 POST 方式提交给 RecipesController 控制器的 <code class="docutils literal"><span class="pre">add()</span></code> 动作。当然，
你也可以用同样的逻辑创建编辑（<em>edit</em>）表单。FormHelper助件用
<code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> 属性来自动探知是创建新增（<em>add</em>）还是编辑（<em>edit</em>）表单。如果
<code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> 包含一个以表单的模型命名的数组元素，而且该数组包含
模型主键的非空值，那么 FormHelper 助件就会为该记录创建一个编辑表单。例如，如果
我们浏览 <a class="reference external" href="http://site.com/recipes/edit/5">http://site.com/recipes/edit/5</a> 页面，我们会得到下面的输出:</p>
<p>This will POST the form data to the <code class="docutils literal"><span class="pre">add()</span></code> action of
RecipesController. However, you can also use the same logic to
create an edit form. The FormHelper uses the <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code>
property to automatically detect whether to create an add or edit
form. If <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> contains an array element named after the
form&#8217;s model, and that array contains a non-empty value of the
model&#8217;s primary key, then the FormHelper will create an edit form
for that record. For example, if we browse to
<a class="reference external" href="http://site.com/recipes/edit/5">http://site.com/recipes/edit/5</a>, we would get the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Controller/RecipesController.php:</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">edit</span><span class="p">(</span><span class="nv">$id</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">))</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Recipe</span><span class="o">-&gt;</span><span class="na">findById</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Save logic goes here</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// View/Recipes/edit.ctp:</span>
<span class="c1">// 因为 $this-&gt;request-&gt;data[&#39;Recipe&#39;][&#39;id&#39;] = 5，</span>
<span class="c1">// 我们会得到编辑表单</span>
<span class="c1">// Since $this-&gt;request-&gt;data[&#39;Recipe&#39;][&#39;id&#39;] = 5,</span>
<span class="c1">// we will get an edit form</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;Recipe&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;RecipeEditForm&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/recipes/edit/5&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;_method&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;PUT&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>因为这是一个编辑表单，生成了一个 hidden 类型的 input 字段来取代默认的 HTTP 方法。</p>
<p class="last">Since this is an edit form, a hidden input field is generated to
override the default HTTP method.</p>
</div>
<p>在为插件中的模型创建表单时，你应当总是使用 <a class="reference internal" href="../../appendices/glossary.html#term-plugin-syntax"><span class="xref std std-term">plugin syntax</span></a> 来创建表单。
这会确保生成正确的表单:</p>
<p>When creating forms for models in plugins, you should always use
<a class="reference internal" href="../../appendices/glossary.html#term-plugin-syntax"><span class="xref std std-term">plugin syntax</span></a> when creating a form. This will ensure the form is
correctly generated:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;ContactManager.Contact&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>绝大部分对表单的配置是通过 <code class="docutils literal"><span class="pre">$options</span></code> 数组进行的。这个特殊的数组可以包含
一系列不同的键-值对，影响生成的表单标签。</p>
<p>The <code class="docutils literal"><span class="pre">$options</span></code> array is where most of the form configuration
happens. This special array can contain a number of different
key-value pairs that affect the way the form tag is generated.</p>
<div class="versionchanged">
<p><span class="versionmodified">在 2.0 版更改: </span>所有表单的默认网址，现在是当前的网址，包括传入（<em>passed</em>）、命名（<em>named</em>
）和查询字符串（<em>querystring</em>）参数。你可以通过给
<code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;create()</span></code> 方法的第二个参数中提供 <code class="docutils literal"><span class="pre">$options['url']</span></code> 来
改变这个默认值。
The default URL for all forms, is now the current URL including
passed, named, and querystring parameters. You can override this
default by supplying <code class="docutils literal"><span class="pre">$options['url']</span></code> in the second parameter of
<code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;create()</span></code>.</p>
</div>
</dd></dl>

<div class="section" id="create">
<h3>create() 方法的选项<a class="headerlink" href="#create" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="options-for-create">
<h3>Options for create()<a class="headerlink" href="#options-for-create" title="永久链接至标题">¶</a></h3>
<p>create() 方法有一些选项:</p>
<p>There are a number of options for create():</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['type']</span></code> 这个键用来指明要创建的表单的类型。合法的值包括&#8217;post&#8217;、
&#8216;get&#8217;、&#8217;file&#8217;、&#8217;put&#8217;和&#8217;delete&#8217;。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['type']</span></code> This key is used to specify the type of form to be created. Valid
values include &#8216;post&#8217;, &#8216;get&#8217;, &#8216;file&#8217;, &#8216;put&#8217; and &#8216;delete&#8217;.</p>
<p>提供&#8217;post&#8217;或者&#8217;get&#8217;会相应地改变表单提交的方法:</p>
<p>Supplying either &#8216;post&#8217; or &#8216;get&#8217; changes the form submission method
accordingly:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;get&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserAddForm&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;get&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/users/add&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>指定&#8217;file&#8217;会把表单提交方法改为&#8217;post&#8217;，并且在表单标签中包括一个值为
&#8220;multipart/form-data&#8221;的 enctype 属性。如果表单中有任何 file 元素，就应该使用这个（
属性）。如果没有正确的 enctype 属性，文件上传就无法工作:</p>
<p>Specifying &#8216;file&#8217; changes the form submission method to &#8216;post&#8217;, and
includes an enctype of &#8220;multipart/form-data&#8221; on the form tag. This
is to be used if there are any file elements inside the form. The
absence of the proper enctype attribute will cause the file uploads
not to function:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserAddForm&quot;</span> <span class="na">enctype</span><span class="o">=</span><span class="s">&quot;multipart/form-data&quot;</span>
   <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/users/add&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>当使用&#8217;put&#8217;或者&#8217;delete&#8217;时，表单功能上等同于&#8217;post&#8217;表单，但在提交时，HTTP请求
方法会被相应地改变为&#8217;PUT&#8217;或&#8217;DELETE&#8217;。这让 CakePHP 可以在网络浏览器中模拟正确的
REST 支持。</p>
<p>When using &#8216;put&#8217; or &#8216;delete&#8217;, your form will be functionally
equivalent to a &#8216;post&#8217; form, but when submitted, the HTTP request
method will be overridden with &#8216;PUT&#8217; or &#8216;DELETE&#8217;, respectively.
This allows CakePHP to emulate proper REST support in web
browsers.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['action']</span></code> action键让你可以把表单指向当前控制器中的某一特定动作。
例如，如果你要把表单指向当前控制器的login()动作，你可以提供下面这样的$options
数组:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['action']</span></code> The action key allows you to point the form to a
specific action in your current controller. For example, if you&#8217;d like to
point the form to the login() action of the current controller, you would
supply an $options array like the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;login&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserLoginForm&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/users/login&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="deprecated">
<p><span class="versionmodified">2.8.0 版后已移除: </span>在 2.8.0 版本中，<code class="docutils literal"><span class="pre">$options['action']</span></code> 选项已经作废。
请使用 <code class="docutils literal"><span class="pre">$options['url']</span></code> 和 <code class="docutils literal"><span class="pre">$options['id']</span></code> 选项。
The <code class="docutils literal"><span class="pre">$options['action']</span></code> option was deprecated as of 2.8.0.
Use the <code class="docutils literal"><span class="pre">$options['url']</span></code> and <code class="docutils literal"><span class="pre">$options['id']</span></code> options instead.</p>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['url']</span></code> 如果需要的表单动作不在当前控制器中，你可以用$options数组的
‘url’键来为表单动作指定一个网址。提供的网址可以是相对于你的CakePHP应用程序:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['url']</span></code> If the desired form action isn&#8217;t in the current
controller, you can specify a URL for the form action using the &#8216;url&#8217; key of
the $options array. The supplied URL can be relative to your CakePHP
application:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;recipes&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;add&#39;</span><span class="p">),</span>
    <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;RecipesAdd&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/recipes/add&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>或者也可以指向外部域名:</p>
<p>or can point to an external domain:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http://www.google.com/search&#39;</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;get&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;get&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;http://www.google.com/search&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>也请查看 <a class="reference internal" href="html.html#HtmlHelper::url" title="HtmlHelper::url"><code class="xref php php-meth docutils literal"><span class="pre">HtmlHelper::url()</span></code></a> 方法，以了解更多不同类型的网址的例子。</p>
<p>Also check <a class="reference internal" href="html.html#HtmlHelper::url" title="HtmlHelper::url"><code class="xref php php-meth docutils literal"><span class="pre">HtmlHelper::url()</span></code></a> method for more examples of
different types of URLs.</p>
<div class="versionchanged">
<p><span class="versionmodified">在 2.8.0 版更改: </span>如果你不希望输出网址作为表单的动作（<em>action</em>），请使用 <code class="docutils literal"><span class="pre">'url'</span> <span class="pre">=&gt;</span> <span class="pre">false</span></code>。</p>
<p>Use <code class="docutils literal"><span class="pre">'url'</span> <span class="pre">=&gt;</span> <span class="pre">false</span></code> if you don’t want to output a URL as the form action.</p>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['default']</span></code> 如果&#8217;default&#8217;被设为布尔值false，表单的提交动作就会改成
按动提交按键时不会提交表单。如果表单要通过AJAX提交，设置&#8217;default&#8217;为false阻止了
表单默认的行为，你就可以抓取数据并通过AJAX提交。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['default']</span></code> If &#8216;default&#8217; has been set to boolean false, the form&#8217;s
submit action is changed so that pressing the submit button does not submit
the form. If the form is meant to be submitted via AJAX, setting &#8216;default&#8217; to
false suppresses the form&#8217;s default behavior so you can grab the data and
submit it via AJAX instead.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['inputDefaults']</span></code> 你可以用 <code class="docutils literal"><span class="pre">inputDefaults</span></code> 键为 <code class="docutils literal"><span class="pre">input()</span></code>
方法设置一组默认选项，来自定义默认的输入项（<em>input</em>）的创建方式。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['inputDefaults']</span></code> You can declare a set of default options for
<code class="docutils literal"><span class="pre">input()</span></code> with the <code class="docutils literal"><span class="pre">inputDefaults</span></code> key to customize your default input
creation:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;inputDefaults&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>之后所有创建的input标签就会继承inputDefaults中指定的选项。你可以在对input()方法
的调用中声明选项来改变默认选项:</p>
<p>All inputs created from that point forward would inherit the
options declared in inputDefaults. You can override the
default options by declaring the option in the input() call:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">);</span> <span class="c1">// 没有 div，没有 label No div, no label</span>
<span class="c1">// 有一个 label 元素</span>
<span class="c1">// has a label element</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span>
    <span class="s1">&#39;username&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Username&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h2>结束表单<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="closing-the-form">
<h2>Closing the Form<a class="headerlink" href="#closing-the-form" title="永久链接至标题">¶</a></h2>
<dl class="method">
<dt id="FormHelper::end">
<code class="descclassname">FormHelper::</code><code class="descname">end</code><span class="sig-paren">(</span><em>$options = null</em>, <em>$secureAttributes = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::end" title="永久链接至目标">¶</a></dt>
<dd><p>FormHelper助件有一个 <code class="docutils literal"><span class="pre">end()</span></code> 方法，用来完成表单。<code class="docutils literal"><span class="pre">end()</span></code> 方法经常只输出一个结束表单标签，但使用 <code class="docutils literal"><span class="pre">end()</span></code> 方法也可以让FormHelper助件插入 <a class="reference internal" href="../components/security-component.html#SecurityComponent" title="SecurityComponent"><code class="xref php php-class docutils literal"><span class="pre">SecurityComponent</span></code></a> 组件要求的隐藏表单元素:</p>
<p>The FormHelper includes an <code class="docutils literal"><span class="pre">end()</span></code> method that completes the
form. Often, <code class="docutils literal"><span class="pre">end()</span></code> only outputs a closing form tag, but
using <code class="docutils literal"><span class="pre">end()</span></code> also allows the FormHelper to insert needed hidden
form elements that <a class="reference internal" href="../components/security-component.html#SecurityComponent" title="SecurityComponent"><code class="xref php php-class docutils literal"><span class="pre">SecurityComponent</span></code></a> requires:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;!-- Form elements go here --&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>如果提供一个字符串作为 <code class="docutils literal"><span class="pre">end()</span></code> 方法的第一个参数，FormHelper助件就会和结束表单标签一起输出一个相应(以输入参数)命名的submit按键。</p>
<p>If a string is supplied as the first parameter to <code class="docutils literal"><span class="pre">end()</span></code>, the
FormHelper outputs a submit button named accordingly along with the
closing form tag:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">(</span><span class="s1">&#39;Finish&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>就会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Finish&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>你可以传入一个数组给 <code class="docutils literal"><span class="pre">end()</span></code> 方法来指定详细设置:</p>
<p>You can specify detail settings by passing an array to <code class="docutils literal"><span class="pre">end()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Update&#39;</span><span class="p">,</span>
    <span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;glass-pill&#39;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">(</span><span class="nv">$options</span><span class="p">);</span>
</pre></div>
</div>
<p>就会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;glass-pill&quot;</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Update&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;Update&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>欲知更多细节，请参看 <a class="reference external" href="http://api.cakephp.org/2.8/class-FormHelper.html">Form Helper API</a>。</p>
<p>See the <a class="reference external" href="http://api.cakephp.org/2.8/class-FormHelper.html">Form Helper API</a> for further details.</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>如果你在应用程序中使用 <a class="reference internal" href="../components/security-component.html#SecurityComponent" title="SecurityComponent"><code class="xref php php-class docutils literal"><span class="pre">SecurityComponent</span></code></a> 组件，你应当总是用 <code class="docutils literal"><span class="pre">end()</span></code> 方法结束表单。</p>
<p class="last">If you are using <a class="reference internal" href="../components/security-component.html#SecurityComponent" title="SecurityComponent"><code class="xref php php-class docutils literal"><span class="pre">SecurityComponent</span></code></a> in your application you
should always end your forms with <code class="docutils literal"><span class="pre">end()</span></code>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">在 2.5 版更改: </span>在2.5版本中增加了 <code class="docutils literal"><span class="pre">$secureAttributes</span></code> 参数。
The <code class="docutils literal"><span class="pre">$secureAttributes</span></code> parameter was added in 2.5.</p>
</div>
</dd></dl>

</div>
<div class="section" id="automagic-form-elements">
<span id="id4"></span><h2>创建表单元素<a class="headerlink" href="#automagic-form-elements" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="creating-form-elements">
<h2>Creating form elements<a class="headerlink" href="#creating-form-elements" title="永久链接至标题">¶</a></h2>
<p>使用FormHelper助件，有多种方法可以创建表单 input 元素。我们从 <code class="docutils literal"><span class="pre">input()</span></code> 方法开始说起。这个方法会自动检查提供给它的模型字段，从而为那个字段创建适当的input元素。在内部 <code class="docutils literal"><span class="pre">input()</span></code> 方法调用FormHelper助件的其他方法。</p>
<p>There are a few ways to create form inputs with the FormHelper. We&#8217;ll start by
looking at <code class="docutils literal"><span class="pre">input()</span></code>. This method will automatically inspect the model field it
has been supplied in order to create an appropriate input for that
field. Internally <code class="docutils literal"><span class="pre">input()</span></code> delegates to other methods in FormHelper.</p>
<dl class="method">
<dt id="FormHelper::input">
<code class="descclassname">FormHelper::</code><code class="descname">input</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::input" title="永久链接至目标">¶</a></dt>
<dd><p>根据给定的 <code class="docutils literal"><span class="pre">Model.field</span></code> 创建下列元素:</p>
<p>Creates the following elements given a particular <code class="docutils literal"><span class="pre">Model.field</span></code>:</p>
<ul class="simple">
<li>包裹的div元素。</li>
<li>Label元素</li>
<li>（一个或多个）input元素</li>
<li>如果适用，错误消息元素</li>
<li>Wrapping div.</li>
<li>Label element</li>
<li>Input element(s)</li>
<li>Error element with message if applicable.</li>
</ul>
<p>创建的input元素的类型取决于列的数据类型:</p>
<p>The type of input created depends on the column datatype:</p>
<dl class="docutils">
<dt>列的类型</dt>
<dd>获得的表单输入字段</dd>
<dt>Column Type</dt>
<dd>Resulting Form Field</dd>
<dt>string (char, varchar, etc.)</dt>
<dd>text</dd>
<dt>boolean, tinyint(1)</dt>
<dd>checkbox</dd>
<dt>text</dt>
<dd>textarea</dd>
<dt>以password、passwd或psword命名的文字类型</dt>
<dd>password</dd>
<dt>text, with name of password, passwd, or psword</dt>
<dd>password</dd>
<dt>以email命名的文字类型</dt>
<dd>email</dd>
<dt>text, with name of email</dt>
<dd>email</dd>
<dt>以tel、telephone或phone命名的文字类型</dt>
<dd>tel</dd>
<dt>text, with name of tel, telephone, or phone</dt>
<dd>tel</dd>
<dt>date</dt>
<dd>日、月和年的select输入项</dd>
<dt>date</dt>
<dd>day, month, and year selects</dd>
<dt>datetime, timestamp</dt>
<dd>日、月、年、小时、分钟和上下午的select输入项</dd>
<dt>datetime, timestamp</dt>
<dd>day, month, year, hour, minute, and meridian selects</dd>
<dt>time</dt>
<dd>小时、分钟和上下午的select输入项</dd>
<dt>time</dt>
<dd>hour, minute, and meridian selects</dd>
<dt>binary 二进制类型</dt>
<dd>file</dd>
</dl>
<p><code class="docutils literal"><span class="pre">$options</span></code> 参数让你定制 <code class="docutils literal"><span class="pre">input()</span></code> 方法如何工作，并微调生成的内容。</p>
<p>The <code class="docutils literal"><span class="pre">$options</span></code> parameter allows you to customize how <code class="docutils literal"><span class="pre">input()</span></code> works,
and finely control what is generated.</p>
<p>如果模型字段的验证规则没有指定 <code class="docutils literal"><span class="pre">allowEmpty</span> <span class="pre">=&gt;</span>
<span class="pre">true</span></code>，包裹的div元素就会带有 <code class="docutils literal"><span class="pre">required</span></code> 的（样式）类名。这种行为的一个局限是，字段所在的模型在当前请求（的处理过程）中必须已经加载，或者直接与提供给 <a class="reference internal" href="#FormHelper::create" title="FormHelper::create"><code class="xref php php-meth docutils literal"><span class="pre">create()</span></code></a> 方法的模型相关联。</p>
<p>The wrapping div will have a <code class="docutils literal"><span class="pre">required</span></code> class name appended if the
validation rules for the Model&#8217;s field do not specify <code class="docutils literal"><span class="pre">allowEmpty</span> <span class="pre">=&gt;</span>
<span class="pre">true</span></code>. One limitation of this behavior is the field&#8217;s model must have
been loaded during this request. Or be directly associated to the
model supplied to <a class="reference internal" href="#FormHelper::create" title="FormHelper::create"><code class="xref php php-meth docutils literal"><span class="pre">create()</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">2.5 新版功能: </span>binary类型现在映射成file类型的input元素。
The binary type now maps to a file input.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">2.3 新版功能.</span></p>
</div>
<p id="html5-required">自2.3版本起，HTML5的 <code class="docutils literal"><span class="pre">required</span></code> 属性也会根据验证规则被添加到input元素上。你可以对某一字段在options数组中显式地设置 <code class="docutils literal"><span class="pre">required</span></code> 键，来改变这一点。要对整个表单省略浏览器验证的触发，你可以对使用 <a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a> 方法生成的input按键设置选项 <code class="docutils literal"><span class="pre">'formnovalidate'</span> <span class="pre">=&gt;</span> <span class="pre">true</span></code>，或者在 <a class="reference internal" href="#FormHelper::create" title="FormHelper::create"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::create()</span></code></a> 方法的选项中设置 <code class="docutils literal"><span class="pre">'novalidate'</span> <span class="pre">=&gt;</span> <span class="pre">true</span></code>。</p>
<p>Since 2.3 the HTML5 <code class="docutils literal"><span class="pre">required</span></code> attribute will also be added to the input
based on validation rules. You can explicitly set <code class="docutils literal"><span class="pre">required</span></code> key in
options array to override it for a field. To skip browser validation
triggering for the whole form you can set option <code class="docutils literal"><span class="pre">'formnovalidate'</span> <span class="pre">=&gt;</span> <span class="pre">true</span></code>
for the input button you generate using <a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a> or
set <code class="docutils literal"><span class="pre">'novalidate'</span> <span class="pre">=&gt;</span> <span class="pre">true</span></code> in options for <a class="reference internal" href="#FormHelper::create" title="FormHelper::create"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::create()</span></code></a>.</p>
<p>例如，假设User模型包括username（varchar）、password（varchar）、approved（datetime）和quote（text）这些字段。你可以用FormHelper助件的input()方法为所有这些表单字段创建适当的input元素:</p>
<p>For example, let&#8217;s assume that your User model includes fields for a
username (varchar), password (varchar), approved (datetime) and
quote (text). You can use the input() method of the FormHelper to
create appropriate inputs for all of these form fields:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">);</span>   <span class="c1">//text</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">);</span>   <span class="c1">//password</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;approved&#39;</span><span class="p">);</span>   <span class="c1">//day, month, year, hour, minute,</span>
                                       <span class="c1">//meridian 日，月，年，小时，分钟，上下午</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;quote&#39;</span><span class="p">);</span>      <span class="c1">//textarea</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">(</span><span class="s1">&#39;Add&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>（下面是）说明日期字段的一些选项的一个更详细的例子:</p>
<p>A more extensive example showing some options for a date field:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;birth_dt&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Date of birth&#39;</span><span class="p">,</span>
    <span class="s1">&#39;dateFormat&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;DMY&#39;</span><span class="p">,</span>
    <span class="s1">&#39;minYear&#39;</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">70</span><span class="p">,</span>
    <span class="s1">&#39;maxYear&#39;</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span> <span class="o">-</span> <span class="mi">18</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">input()</span></code> 方法除了下面这些选项，你可以指定input类型的任何选项和任何html属性（例如onfocus）。欲知关于 <code class="docutils literal"><span class="pre">$options</span></code> 和 <code class="docutils literal"><span class="pre">$htmlAttributes</span></code> 的更多信息，请参看 <a class="reference internal" href="html.html"><span class="doc">HtmlHelper</span></a>。</p>
<p>Besides the specific options for <code class="docutils literal"><span class="pre">input()</span></code> found below, you can specify
any option for the input type &amp; any HTML attribute (for instance onfocus).
For more information on <code class="docutils literal"><span class="pre">$options</span></code> and <code class="docutils literal"><span class="pre">$htmlAttributes</span></code> see
<a class="reference internal" href="html.html"><span class="doc">HtmlHelper</span></a>.</p>
<p>假设User hasAndBelongsToMany Group。在控制器中，设置一个驼峰命名（<em>camelCase</em>）的复数变量（在这里就是group -&gt; groups，或者ExtraFunkyModel -&gt; extraFunkyModels）作为select的可选项。在控制器动作中你可以这样写:</p>
<p>Assuming that User hasAndBelongsToMany Group. In your controller, set a
camelCase plural variable (group -&gt; groups in this case, or ExtraFunkyModel
-&gt; extraFunkyModels) with the select options. In the controller action you
would put the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;groups&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">Group</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>然后在视图中就可以用这样简单的代码创建多选项:</p>
<p>And in the view a multiple select can be created with this simple
code:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Group&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>如果你要在使用belongsTo或hasOne关系时创建select字段，你可以在Users控制器中添加下面的代码（假设User belongsTo Group）:</p>
<p>If you want to create a select field while using a belongsTo - or
hasOne - Relation, you can add the following to your Users-controller
(assuming your User belongsTo Group):</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;groups&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">Group</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>然后，在你的表单视图中添加下面的代码:</p>
<p>Afterwards, add the following to your form-view:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;group_id&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>如果你的模型名称由两个或多个单词组成，例如，&#8221;UserGroup&#8221;，在使用set()方法传递数据时，你应当把数据命名为复数、驼峰命名的格式，象下面这样:</p>
<p>If your model name consists of two or more words, e.g.,
&#8220;UserGroup&#8221;, when passing the data using set() you should name your
data in a pluralised and camelCased format as follows:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;userGroups&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">UserGroup</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">));</span>
<span class="c1">// 或者</span>
<span class="c1">// or</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span>
    <span class="s1">&#39;reallyInappropriateModelNames&#39;</span><span class="p">,</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">ReallyInappropriateModelName</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>尽量避免使用 <cite>FormHelper::input()</cite> 方法来创建提交按键。而是使用 <a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a> 方法。</p>
<p class="last">Try to avoid using <cite>FormHelper::input()</cite> to generate submit buttons. Use
<a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::inputs">
<code class="descclassname">FormHelper::</code><code class="descname">inputs</code><span class="sig-paren">(</span><em>mixed $fields = null</em>, <em>array $blacklist = null</em>, <em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::inputs" title="永久链接至目标">¶</a></dt>
<dd><p>为 <code class="docutils literal"><span class="pre">$fields</span></code> 生成一组input标签。如果$fields是null，就会使用当前模型中除了在 <code class="docutils literal"><span class="pre">$blacklist</span></code> 参数中指定的字段之外的所有字段。</p>
<p>Generate a set of inputs for <code class="docutils literal"><span class="pre">$fields</span></code>. If <code class="docutils literal"><span class="pre">$fields</span></code> is null all fields,
except of those defined in <code class="docutils literal"><span class="pre">$blacklist</span></code>, of the current model will be used.</p>
<p>除了控制字段输出，还可以用 <code class="docutils literal"><span class="pre">$fields</span></code> 参数通过 <code class="docutils literal"><span class="pre">fieldset</span></code> 及 <code class="docutils literal"><span class="pre">legend</span></code> 键来控制legend和fieldset的渲染。<code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;inputs(array('legend'</span> <span class="pre">=&gt;</span> <span class="pre">'My</span> <span class="pre">legend'));</span></code> 会输出一个带有自定义的legend的input元素集合。你也可以通过 <code class="docutils literal"><span class="pre">$fields</span></code> 参数单独定制每个input。:</p>
<p>In addition to controlling fields output, <code class="docutils literal"><span class="pre">$fields</span></code> can be used to control
legend and fieldset rendering with the <code class="docutils literal"><span class="pre">fieldset</span></code> and <code class="docutils literal"><span class="pre">legend</span></code> keys.
<code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;inputs(array('legend'</span> <span class="pre">=&gt;</span> <span class="pre">'My</span> <span class="pre">legend'));</span></code>
Would generate an input set with a custom legend. You can customize
individual inputs through <code class="docutils literal"><span class="pre">$fields</span></code> as well.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">inputs</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;custom label&#39;</span><span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>除了对字段的控制，inputs()方法还允许你使用一些其他的选项。</p>
<p>In addition to fields control, inputs() allows you to use a few additional
options.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">fieldset</span></code> 设置为false来禁用fieldset。如果提供的是字符串，就会被用作fieldset元素的（样式）类名（<em>classname</em>）。</li>
<li><code class="docutils literal"><span class="pre">legend</span></code> 设置为false来对生成的input元素集合禁用legend。也可以提供一个字符串来自定义legend的文字。</li>
<li><code class="docutils literal"><span class="pre">fieldset</span></code> Set to false to disable the fieldset. If a string is supplied
it will be used as the class name for the fieldset element.</li>
<li><code class="docutils literal"><span class="pre">legend</span></code> Set to false to disable the legend for the generated input set.
Or supply a string to customize the legend text.</li>
</ul>
</dd></dl>

<div class="section" id="id5">
<h3>字段命名约定<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="field-naming-conventions">
<h3>Field naming conventions<a class="headerlink" href="#field-naming-conventions" title="永久链接至标题">¶</a></h3>
<p>表单助件相当聪明。只要你用表单助件的方法指定一个字段名称，它就会自动使用当前模型名以下面这样的格式来构建一个input元素：</p>
<p>The Form helper is pretty smart. Whenever you specify a field name
with the form helper methods, it&#8217;ll automatically use the current
model name to build an input with a format like the following:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ModelnameFieldname&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Modelname][fieldname]&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>在针对一个模型创建的表单中，为该模型生成input元素时，可以省略模型名称。你可以为关联模型或任意模型创建input元素，只需把Modelname.fieldname作为第一个参数传入即可:</p>
<p>This allows you to omit the model name when generating inputs for the model that
the form was created for. You can create inputs for associated models, or
arbitrary models by passing in Modelname.fieldname as the first parameter:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Modelname.fieldname&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>如果你要使用同样的字段名称来创建多个输入字段，从而生成一个可以用saveAll()方法一起保存的数组，请使用下面的约定:</p>
<p>If you need to specify multiple fields using the same field name,
thus creating an array that can be saved in one shot with
saveAll(), use the following convention:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Modelname.0.fieldname&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Modelname.1.fieldname&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Modelname0Fieldname&quot;</span>
    <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Modelname][0][fieldname]&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Modelname1Fieldname&quot;</span>
    <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Modelname][1][fieldname]&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>FormHelper助件对datetime input 元素的创建，在内部使用几个字段后缀。如果你使用名称带有 <code class="docutils literal"><span class="pre">year</span></code>、<code class="docutils literal"><span class="pre">month</span></code>、<code class="docutils literal"><span class="pre">day</span></code>、<code class="docutils literal"><span class="pre">hour</span></code>、<code class="docutils literal"><span class="pre">minute</span></code> 或者 <code class="docutils literal"><span class="pre">meridian</span></code> 的字段，并无法得到正确的输入项，你可以设置 <code class="docutils literal"><span class="pre">name</span></code> 属性来取代默认的行为:</p>
<p>FormHelper uses several field-suffixes internally for datetime input creation.
If you are using fields named <code class="docutils literal"><span class="pre">year</span></code>, <code class="docutils literal"><span class="pre">month</span></code>, <code class="docutils literal"><span class="pre">day</span></code>, <code class="docutils literal"><span class="pre">hour</span></code>,
<code class="docutils literal"><span class="pre">minute</span></code>, or <code class="docutils literal"><span class="pre">meridian</span></code> and having issues getting the correct input, you can
set the <code class="docutils literal"><span class="pre">name</span></code> attribute to override the default behavior:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Model.year&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;data[Model][year]&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h3>选项<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="options">
<h3>Options<a class="headerlink" href="#options" title="永久链接至标题">¶</a></h3>
<p><code class="docutils literal"><span class="pre">FormHelper::input()</span></code> 方法支持很多选项。除了它自身的选项，<code class="docutils literal"><span class="pre">input()</span></code> 方法也接受生成的inout元素类型的选项，以及HTML属性（<em>attribute</em>）。以下列出 <code class="docutils literal"><span class="pre">FormHelper::input()</span></code> 相关的选项。</p>
<p><code class="docutils literal"><span class="pre">FormHelper::input()</span></code> supports a large number of options. In addition to its
own options <code class="docutils literal"><span class="pre">input()</span></code> accepts options for the generated input types, as well as
HTML attributes. The following will cover the options specific to
<code class="docutils literal"><span class="pre">FormHelper::input()</span></code>.</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['type']</span></code> 你可以提供一个类型，来强制指定输入项的类型，忽略对模型的检测。除了在 <a class="reference internal" href="#automagic-form-elements"><span class="std std-ref">创建表单元素</span></a> 中介绍的字段类型，你也可以创建&#8217;file&#8217;、&#8217;password&#8217;和任何HTML5支持的类型:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['type']</span></code> You can force the type of an input, overriding model
introspection, by specifying a type. In addition to the field types found in
the <a class="reference internal" href="#automagic-form-elements"><span class="std std-ref">创建表单元素</span></a>, you can also create &#8216;file&#8217;, &#8216;password&#8217;,
and any type supported by HTML5:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file&#39;</span><span class="p">));</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;email&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input file&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span><span class="p">&gt;</span>Field<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input email&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserEmail&quot;</span><span class="p">&gt;</span>Email<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;email&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][email]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserEmail&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['div']</span></code> 用这个选项来设置包含input元素的div的属性。使用字符串就会设置div的（样式）类名。用数组就可以把div的属性设为数组的键/值对。或者，你也可以把这个键设置为false从而不输出div。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['div']</span></code> Use this option to set attributes of the input&#8217;s
containing div. Using a string value will set the div&#8217;s class name. An array
will set the div&#8217;s attributes to those specified by the array&#8217;s keys/values.
Alternatively, you can set this key to false to disable the output of the div.</p>
<p>设置（样式）类名:</p>
<p>Setting the class name:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;class_name&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;class_name&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span><span class="p">&gt;</span>Name<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][name]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>设置多个属性:</p>
<p>Setting multiple attributes:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mainDiv&#39;</span><span class="p">,</span>
        <span class="s1">&#39;title&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Div Title&#39;</span><span class="p">,</span>
        <span class="s1">&#39;style&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;display:block&#39;</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input text&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;mainDiv&quot;</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;Div Title&quot;</span>
    <span class="na">style</span><span class="o">=</span><span class="s">&quot;display:block&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span><span class="p">&gt;</span>Name<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][name]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>禁止div输出:</p>
<p>Disabling div output:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span><span class="p">&gt;</span>Name<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][name]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['label']</span></code> 把这个键设置为你要显示在通常伴随input元素的label元素内的字符串:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['label']</span></code> Set this key to the string you would like to be
displayed within the label that usually accompanies the input:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The User Alias&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span><span class="p">&gt;</span>The User Alias<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][name]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>或者，设置该键为false，从而禁止label元素的输出:</p>
<p>Alternatively, set this key to false to disable the output of the
label:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][name]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>把它设置为数组来为 <code class="docutils literal"><span class="pre">label</span></code> 元素提供额外的选项。如果这么做，你可以在数组中用 <code class="docutils literal"><span class="pre">text</span></code> 键来自定义label元素的文字:</p>
<p>Set this to an array to provide additional options for the
<code class="docutils literal"><span class="pre">label</span></code> element. If you do this, you can use a <code class="docutils literal"><span class="pre">text</span></code> key in
the array to customize the label text:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;thingy&#39;</span><span class="p">,</span>
        <span class="s1">&#39;text&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;The User Alias&#39;</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;thingy&quot;</span><span class="p">&gt;</span>The User Alias<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][name]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['error']</span></code> 使用这个键让你可以改变默认的模型错误消息，以及用于，例如，设置国际化（<em>i18n</em>）消息。它有一些子选项，用来控制包裹的元素，包裹元素的（样式）类名，以及错误消息中的HTML是否要转义。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['error']</span></code> Using this key allows you to override the default model
error messages and can be used, for example, to set i18n messages. It has a
number of suboptions which control the wrapping element, wrapping element
class name, and whether HTML in the error message will be escaped.</p>
<p>要禁用错误消息输出和字段的（样式）类，设置error键为false:</p>
<p>To disable error message output &amp; field classes set the error key to false:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Model.field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;error&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
<p>要只禁用错误消息，但保持字段的（样式）类，设置errorMessage键为false:</p>
<p>To disable only the error message, but retain the field classes, set the
errorMessage key to false:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Model.field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;errorMessage&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
<p>要改变包裹元素的类型和它的（样式）类（<em>class</em>），使用下面的格式:</p>
<p>To modify the wrapping element type and its class, use the
following format:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Model.field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;error&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;attributes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;wrap&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bzzz&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>为防止在错误消息输出中的HTML被自动转义，设置escape子选项为false:</p>
<p>To prevent HTML being automatically escaped in the error message
output, set the escape suboption to false:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Model.field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;error&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;attributes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;escape&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>要改变模型的错误消息，用键与验证规则名称匹配的数组:</p>
<p>To override the model error messages use an array with
the keys matching the validation rule names:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Model.field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;error&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;tooShort&#39;</span> <span class="o">=&gt;</span> <span class="nx">__</span><span class="p">(</span><span class="s1">&#39;This is not long enough&#39;</span><span class="p">))</span>
<span class="p">));</span>
</pre></div>
</div>
<p>如上所示，你可以为模型中的每个验证规则设置错误消息。而且，你可以为表单提供国际化的消息。</p>
<p>As seen above you can set the error message for each validation
rule you have in your models. In addition you can provide i18n
messages for your forms.</p>
<div class="versionadded">
<p><span class="versionmodified">2.3 新版功能: </span>在2.3版本中增加了对 <code class="docutils literal"><span class="pre">errorMessage</span></code> 的支持。
Support for the <code class="docutils literal"><span class="pre">errorMessage</span></code> option was added in 2.3</p>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['before']</span></code>、<code class="docutils literal"><span class="pre">$options['between']</span></code>、<code class="docutils literal"><span class="pre">$options['separator']</span></code>
和 <code class="docutils literal"><span class="pre">$options['after']</span></code></p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['before']</span></code>, <code class="docutils literal"><span class="pre">$options['between']</span></code>, <code class="docutils literal"><span class="pre">$options['separator']</span></code>,
and <code class="docutils literal"><span class="pre">$options['after']</span></code></p>
<p>如果你要在input()方法的输出中间插入一些标记语言代码，就可以使用这些键:</p>
<p>Use these keys if you need to inject some markup inside the output
of the input() method:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;before&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;--before--&#39;</span><span class="p">,</span>
    <span class="s1">&#39;after&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;--after--&#39;</span><span class="p">,</span>
    <span class="s1">&#39;between&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;--between---&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input&quot;</span><span class="p">&gt;</span>
--before--
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span><span class="p">&gt;</span>Field<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
--between---
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span> <span class="p">/&gt;</span>
--after--
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>对radio类型的input元素，&#8217;separator&#8217;属性可用来插入标记语言代码，来分隔每对input/label:</p>
<p>For radio inputs the &#8216;separator&#8217; attribute can be used to
inject markup to separate each input/label pair:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;before&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;--before--&#39;</span><span class="p">,</span>
    <span class="s1">&#39;after&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;--after--&#39;</span><span class="p">,</span>
    <span class="s1">&#39;between&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;--between---&#39;</span><span class="p">,</span>
    <span class="s1">&#39;separator&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;--separator--&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">),</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;radio&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input&quot;</span><span class="p">&gt;</span>
--before--
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField1&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserField1&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
--separator--
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField2&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserField2&quot;</span><span class="p">&gt;</span>2<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
--between---
--after--
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>对于 <code class="docutils literal"><span class="pre">date</span></code> 和 <code class="docutils literal"><span class="pre">datetime</span></code> 类型的元素，&#8217;separator&#8217;属性可用来改变select元素之间的字符串。默认为 &#8216;-&#8216;。</p>
<p>For <code class="docutils literal"><span class="pre">date</span></code> and <code class="docutils literal"><span class="pre">datetime</span></code> type elements the &#8216;separator&#8217;
attribute can be used to change the string between select elements.
Defaults to &#8216;-&#8216;.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['format']</span></code> FormHelper助件生成的html的顺序也是可以控制的。&#8217;format&#8217;选项支持使用一个字符串数组来描述上述元素遵从的模板。支持的数组的键为 <code class="docutils literal"><span class="pre">array('before',</span> <span class="pre">'input',</span> <span class="pre">'between',</span> <span class="pre">'label',</span> <span class="pre">'after',</span> <span class="pre">'error')</span></code>。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['format']</span></code> The ordering of the HTML generated by FormHelper is
controllable as well. The &#8216;format&#8217; options supports an array of strings
describing the template you would like said element to follow. The supported
array keys are:
<code class="docutils literal"><span class="pre">array('before',</span> <span class="pre">'input',</span> <span class="pre">'between',</span> <span class="pre">'label',</span> <span class="pre">'after',</span> <span class="pre">'error')</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['inputDefaults']</span></code> 如果你发现在对input()方法的多次调用中重复相同的选项，你可以使用 <code class="docutils literal"><span class="pre">inputDefaults</span></code> 来保持你的代码dry（译注: <a class="reference external" href="http://tech.it168.com/a2009/0622/593/000000593268.shtml">Don&#8217;t Repeat Yourself</a> ，不要重复代码。）</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['inputDefaults']</span></code> If you find yourself repeating the same options
in multiple input() calls, you can use <cite>inputDefaults`</cite> to keep your code dry:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;inputDefaults&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>在这之后创建的所有input元素就都会继承inputDefaults之中声明的选项。你可以在input()方法的调用中声明选项来改变默认的选项:</p>
<p>All inputs created from that point forward would inherit the
options declared in inputDefaults. You can override the
default options by declaring the option in the input() call:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// 没有div，没有label</span>
<span class="c1">// No div, no label</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">);</span>

<span class="c1">// 有label元素</span>
<span class="c1">// has a label element</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Username&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>如果你以后需要改变默认（选项），你可以使用 <code class="xref php php-meth docutils literal"><span class="pre">FormHelper::inputDefaults()</span></code> 方法。</p>
<p>If you need to later change the defaults you can use
<code class="xref php php-meth docutils literal"><span class="pre">FormHelper::inputDefaults()</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['maxlength']</span></code> 设置该键来设置 <code class="docutils literal"><span class="pre">input</span></code> 字段的 <code class="docutils literal"><span class="pre">maxlength</span></code> 属性为特定值。当该键省略时，且 input 类型是 <code class="docutils literal"><span class="pre">text</span></code>、<code class="docutils literal"><span class="pre">textarea</span></code>、<code class="docutils literal"><span class="pre">email</span></code>、<code class="docutils literal"><span class="pre">tel</span></code>、<code class="docutils literal"><span class="pre">url</span></code> 或 <code class="docutils literal"><span class="pre">search</span></code> 时，而字段定义不是 <code class="docutils literal"><span class="pre">decimal</span></code>、<code class="docutils literal"><span class="pre">time</span></code> 或 <code class="docutils literal"><span class="pre">datetime</span></code> 之一，就会使用数据库字段的长度。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['maxlength']</span></code> Set this key to set the <code class="docutils literal"><span class="pre">maxlength</span></code> attribute of the <code class="docutils literal"><span class="pre">input</span></code>
field to a specific value. When this key is omitted and the input-type is <code class="docutils literal"><span class="pre">text</span></code>,
<code class="docutils literal"><span class="pre">textarea</span></code>, <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">tel</span></code>, <code class="docutils literal"><span class="pre">url</span></code> or <code class="docutils literal"><span class="pre">search</span></code> and the field-definition is not
one of <code class="docutils literal"><span class="pre">decimal</span></code>, <code class="docutils literal"><span class="pre">time</span></code> or <code class="docutils literal"><span class="pre">datetime</span></code>, the length option of the database field is
used.</p>
</li>
</ul>
</div>
<div class="section" id="get-input">
<h3>GET 表单 input 字段<a class="headerlink" href="#get-input" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="get-form-inputs">
<h3>GET Form Inputs<a class="headerlink" href="#get-form-inputs" title="永久链接至标题">¶</a></h3>
<p>当使用 <code class="docutils literal"><span class="pre">FormHelper</span></code> 来生成 <code class="docutils literal"><span class="pre">GET</span></code> 的 input 元素时，input 的 name 会自动缩写，提供更易读的名称。例如:</p>
<p>When using <code class="docutils literal"><span class="pre">FormHelper</span></code> to generate inputs for <code class="docutils literal"><span class="pre">GET</span></code> forms, the input names
will automatically be shortened to provide more human friendly names. For
example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// 生成 &lt;input name=&quot;email&quot; type=&quot;text&quot; /&gt;</span>
<span class="c1">// Makes &lt;input name=&quot;email&quot; type=&quot;text&quot; /&gt;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.email&#39;</span><span class="p">);</span>

<span class="c1">// 生成 &lt;select name=&quot;Tags&quot; multiple=&quot;multiple&quot;&gt;</span>
<span class="c1">// Makes &lt;select name=&quot;Tags&quot; multiple=&quot;multiple&quot;&gt;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Tags.Tags&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;multiple&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
</pre></div>
</div>
<p>如果你想要改变生成的 name 属性，可以使用 <code class="docutils literal"><span class="pre">name</span></code> 选项:</p>
<p>If you want to override the generated name attributes you can use the <code class="docutils literal"><span class="pre">name</span></code>
option:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// 生成更标准的 &lt;input name=&quot;data[User][email]&quot; type=&quot;text&quot; /&gt;</span>
<span class="c1">// Makes the more typical &lt;input name=&quot;data[User][email]&quot; type=&quot;text&quot; /&gt;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;User.email&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;data[User][email]&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="input">
<h2>生成特定类型的input元素<a class="headerlink" href="#input" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="generating-specific-types-of-inputs">
<h2>Generating specific types of inputs<a class="headerlink" href="#generating-specific-types-of-inputs" title="永久链接至标题">¶</a></h2>
<p>除了通用的 <code class="docutils literal"><span class="pre">input()</span></code> 方法，<code class="docutils literal"><span class="pre">FormHelper</span></code> 助件有特定的方法来生成一系列不同类型的input元素。这些方法可以用来只是生成input部件本身，也可以结合其他象 <a class="reference internal" href="#FormHelper::label" title="FormHelper::label"><code class="xref php php-meth docutils literal"><span class="pre">label()</span></code></a> 和 <a class="reference internal" href="#FormHelper::error" title="FormHelper::error"><code class="xref php php-meth docutils literal"><span class="pre">error()</span></code></a> 这样的方法来生成完全定制的表单布局。</p>
<p>In addition to the generic <code class="docutils literal"><span class="pre">input()</span></code> method, <code class="docutils literal"><span class="pre">FormHelper</span></code> has specific
methods for generating a number of different types of inputs. These can be used
to generate just the input widget itself, and combined with other methods like
<a class="reference internal" href="#FormHelper::label" title="FormHelper::label"><code class="xref php php-meth docutils literal"><span class="pre">label()</span></code></a> and <a class="reference internal" href="#FormHelper::error" title="FormHelper::error"><code class="xref php php-meth docutils literal"><span class="pre">error()</span></code></a> to
generate fully custom form layouts.</p>
<div class="section" id="general-input-options">
<span id="id7"></span><h3>通用选项<a class="headerlink" href="#general-input-options" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="common-options">
<h3>Common options<a class="headerlink" href="#common-options" title="永久链接至标题">¶</a></h3>
<p>许多不同的input元素方法支持一组通用的选项。<code class="docutils literal"><span class="pre">input()</span></code> 方法也支持所有这些选项 。为避免重复，所有输入项方法共用的通用选项在此说明:</p>
<p>Many of the various input element methods support a common set of options. All
of these options are also supported by <code class="docutils literal"><span class="pre">input()</span></code>. To reduce repetition the
common options shared by all input methods are as follows:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['class']</span></code> 你可以为input元素设置（样式）类名(classname):</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['class']</span></code> You can set the class name for an input:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;custom-class&#39;</span><span class="p">));</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['id']</span></code> 设置此键来强制指定input元素的 DOM id 的值。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['id']</span></code> Set this key to force the value of the DOM id for the input.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['default']</span></code> 用来设置输入项的默认值。如果传给表单的数据不包含该字段的值(或者根本没有数据传入)，该值就会被使用。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['default']</span></code> Used to set a default value for the input field. The
value is used if the data passed to the form does not contain a value for the
field (or if no data is passed at all).</p>
<p>使用的例子:</p>
<p>Example usage:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;ingredient&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;default&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Sugar&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>select 字段的例子(尺寸&#8221;Medium&#8221;会作为默认值被选中):</p>
<p>Example with select field (Size &#8220;Medium&#8221; will be selected as
default):</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$sizes</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;s&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Small&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Medium&#39;</span><span class="p">,</span> <span class="s1">&#39;l&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Large&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span>
    <span class="s1">&#39;size&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="nv">$sizes</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>你无法使用 <code class="docutils literal"><span class="pre">default</span></code> 来勾选 checkbox —— 为此你可以在控制器中设置 <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> 的值，或者把input元素的选项 <code class="docutils literal"><span class="pre">checked</span></code> 设为 true。</p>
<p>You cannot use <code class="docutils literal"><span class="pre">default</span></code> to check a checkbox - instead you might
set the value in <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> in your controller,
or set the input option <code class="docutils literal"><span class="pre">checked</span></code> to true.</p>
<p>Date 和 datetime 字段的默认值可以用&#8217;selected&#8217;键来设置。</p>
<p>Date and datetime fields&#8217; default values can be set by using the
&#8216;selected&#8217; key.</p>
<p>当心使用 false 来设置默认值。false 值用来禁用/排除input元素的选项，所以 <code class="docutils literal"><span class="pre">'default'</span> <span class="pre">=&gt;</span> <span class="pre">false</span></code> 完全不会设置任何值。而是(应当)使用 <code class="docutils literal"><span class="pre">'default'</span> <span class="pre">=&gt;</span> <span class="pre">0</span></code>。</p>
<p class="last">Beware of using false to assign a default value. A false value is used to
disable/exclude options of an input field, so <code class="docutils literal"><span class="pre">'default'</span> <span class="pre">=&gt;</span> <span class="pre">false</span></code> would
not set any value at all. Instead use <code class="docutils literal"><span class="pre">'default'</span> <span class="pre">=&gt;</span> <span class="pre">0</span></code>.</p>
</div>
</li>
</ul>
<p>除了上述的选项之外，你可以混入(<em>mixin</em>)任何你想使用的 HTML 属性。任何未特别提到的选项名称，会被当作 HTML 属性，并应用于生成的 HTML input元素。</p>
<p>In addition to the above options, you can mixin any HTML attribute you wish to
use. Any non-special option name will be treated as an HTML attribute, and
applied to the generated HTML input element.</p>
</div>
<div class="section" id="select-checkbox-radio-input">
<h3>select，checkbox 和 radio 类型的 input 元素的选项<a class="headerlink" href="#select-checkbox-radio-input" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="options-for-select-checkbox-and-radio-inputs">
<h3>Options for select, checkbox and  radio inputs<a class="headerlink" href="#options-for-select-checkbox-and-radio-inputs" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['selected']</span></code> 与选择类型（即 select，date，time，datetime 这些类型）的 input 元素结合使用。设置‘selected’为 input 元素渲染时你要在默认情况下选中的项目的值:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['selected']</span></code> Used in combination with a select-type input (i.e.
For types select, date, time, datetime). Set &#8216;selected&#8217; to the value of the
item you wish to be selected by default when the input is rendered:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;close_time&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
    <span class="s1">&#39;selected&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;13:30:00&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>date 和 datetime 类型的 input 元素的 selected 键也可以是 UNIX 时间戳(timestamp)。</p>
<p class="last">The selected key for date and datetime inputs may also be a UNIX
timestamp.</p>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['empty']</span></code> 如果设置为 true，就会强制 input 元素保持为空。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['empty']</span></code> If set to true, forces the input to remain empty.</p>
<p>当传递给一个 select 列表时，这会在下拉列表中创建一个带有空值的空 option 元素。如果你要空值有文字显示，而不是只是空 option 元素，给 empty 键传入一个字符串:</p>
<p>When passed to a select list, this creates a blank option with an
empty value in your drop down list. If you want to have a empty
value with text displayed instead of just a blank option, pass in a
string to empty:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="s1">&#39;empty&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;(choose one)&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span><span class="p">&gt;</span>Field<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>(choose one)<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;</span>2<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2&quot;</span><span class="p">&gt;</span>3<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;3&quot;</span><span class="p">&gt;</span>4<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;4&quot;</span><span class="p">&gt;</span>5<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>如果你要设置一个密码（<em>password</em>）字段为空，请使用 &#8216;value&#8217; =&gt; &#8216;&#8217;。</p>
<p>If you need to set the default value in a password field to blank,
use &#8216;value&#8217; =&gt; &#8216;&#8217; instead.</p>
<p>对 date 或 datetime 类型的字段，可以提供键值对列表:</p>
<p>A list of key-value pairs can be supplied for a date or datetime field:</p>
<div class="last highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">dateTime</span><span class="p">(</span><span class="s1">&#39;Contact.date&#39;</span><span class="p">,</span> <span class="s1">&#39;DMY&#39;</span><span class="p">,</span> <span class="s1">&#39;12&#39;</span><span class="p">,</span>
  <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;empty&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;day&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;DAY&#39;</span><span class="p">,</span> <span class="s1">&#39;month&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;MONTH&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;YEAR&#39;</span><span class="p">,</span>
      <span class="s1">&#39;hour&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;HOUR&#39;</span><span class="p">,</span> <span class="s1">&#39;minute&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;MINUTE&#39;</span><span class="p">,</span> <span class="s1">&#39;meridian&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
  <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Contact][date][day]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ContactDateDay&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>DAY<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;01&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    // ...
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;31&quot;</span><span class="p">&gt;</span>31<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span> - <span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Contact][date][month]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ContactDateMonth&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>MONTH<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;01&quot;</span><span class="p">&gt;</span>January<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    // ...
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;12&quot;</span><span class="p">&gt;</span>December<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span> - <span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Contact][date][year]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ContactDateYear&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>YEAR<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2036&quot;</span><span class="p">&gt;</span>2036<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    // ...
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1996&quot;</span><span class="p">&gt;</span>1996<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Contact][date][hour]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ContactDateHour&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>HOUR<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;01&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    // ...
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;12&quot;</span><span class="p">&gt;</span>12<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>:<span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Contact][date][min]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ContactDateMin&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>MINUTE<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;00&quot;</span><span class="p">&gt;</span>00<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    // ...
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;59&quot;</span><span class="p">&gt;</span>59<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Contact][date][meridian]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ContactDateMeridian&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;am&quot;</span><span class="p">&gt;</span>am<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;pm&quot;</span><span class="p">&gt;</span>pm<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['hiddenField']</span></code> 对某些 input 类型(checkboxe、radio)会创建一个 hidden 类型的 input 元素，从而使 $this-&gt;request-&gt;data 中有一个键，即使没有值:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['hiddenField']</span></code> For certain input types (checkboxes, radios) a
hidden input is created so that the key in $this-&gt;request-&gt;data will exist
even without a value specified:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Post][Published]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;PostPublished_&quot;</span>
    <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Post][Published]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;PostPublished&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<p>这可以通过设置 <code class="docutils literal"><span class="pre">$options['hiddenField']</span> <span class="pre">=</span> <span class="pre">false</span></code> 来禁用:</p>
<p>This can be disabled by setting the <code class="docutils literal"><span class="pre">$options['hiddenField']</span> <span class="pre">=</span> <span class="pre">false</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">&#39;published&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;hiddenField&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
<p>这会输出:</p>
<p>Which outputs:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Post][Published]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;PostPublished&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<p>如果你要在一个表单上中创建成组的多组 input 元素，你就应该在除了第一个的所有 input 元素上使用这个参数。如果页面中的 hidden 类型的 input 元素分布在多个地方，只有最后一组 input 元素的值会被保存。</p>
<p>If you want to create multiple blocks of inputs on a form that are
all grouped together, you should use this parameter on all inputs
except the first. If the hidden input is on the page in multiple
places, only the last group of input&#8217;s values will be saved</p>
<p>在(下面)这个例子中，只有 tertiary colors 会被传递，primary colors 会被覆盖:</p>
<p>In this example, only the tertiary colors would be passed, and the
primary colors would be overridden:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Primary Colors<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Color][Color]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Colors_&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Color][Color][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;ColorsRed&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ColorsRed&quot;</span><span class="p">&gt;</span>Red<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Color][Color][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;ColorsBlue&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ColorsBlue&quot;</span><span class="p">&gt;</span>Blue<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Color][Color][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;ColorsYellow&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ColorsYellow&quot;</span><span class="p">&gt;</span>Yellow<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Tertiary Colors<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Color][Color]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;Colors_&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Color][Color][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;ColorsGreen&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ColorsGreen&quot;</span><span class="p">&gt;</span>Green<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Color][Color][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;ColorsPurple&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ColorsPurple&quot;</span><span class="p">&gt;</span>Purple<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Addon][Addon][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;5&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;ColorsOrange&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ColorsOrange&quot;</span><span class="p">&gt;</span>Orange<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>对第二组输入项禁用 <code class="docutils literal"><span class="pre">'hiddenField'</span></code>，就可以防止这样的事情。</p>
<p>Disabling the <code class="docutils literal"><span class="pre">'hiddenField'</span></code> on the second input group would
prevent this behavior.</p>
<p>你可以设置不是0的 hidden 字段值，比如 &#8216;N&#8217;:</p>
<p>You can set a different hidden field value other than 0 such as &#8216;N&#8217;:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">&#39;published&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;hiddenField&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="datetime">
<h3>Datetime 选项<a class="headerlink" href="#datetime" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="datetime-options">
<h3>Datetime options<a class="headerlink" href="#datetime-options" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['timeFormat']</span></code> 用于指定一组与时间相关的 select 类型的 input 元素的格式。合法的格式包括 <code class="docutils literal"><span class="pre">12</span></code>，<code class="docutils literal"><span class="pre">24</span></code> 和 <code class="docutils literal"><span class="pre">null</span></code>。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['timeFormat']</span></code> Used to specify the format of the select inputs for
a time-related set of inputs. Valid values include <code class="docutils literal"><span class="pre">12</span></code>, <code class="docutils literal"><span class="pre">24</span></code>, and <code class="docutils literal"><span class="pre">null</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['dateFormat']</span></code> 用于指定一组与日期相关的 select 类型的 input 元素的格式。合法的格式包括&#8217;D&#8217;，&#8217;M&#8217;和&#8217;Y&#8217;的任意组合，或者 <code class="docutils literal"><span class="pre">null</span></code>。input 元素会以 dateFormat 选项定义的顺序来放置。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['dateFormat']</span></code> Used to specify the format of the select inputs for
a date-related set of inputs. Valid values include any combination of &#8216;D&#8217;,
&#8216;M&#8217; and &#8216;Y&#8217; or <code class="docutils literal"><span class="pre">null</span></code>. The inputs will be put in the order defined by the
dateFormat option.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['minYear'],</span> <span class="pre">$options['maxYear']</span></code> 与 date/datetime input 元素一起使用。定义在年的 select 字段中显示的下限和/或上限的值。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['minYear'],</span> <span class="pre">$options['maxYear']</span></code> Used in combination with a
date/datetime input. Defines the lower and/or upper end of values shown in the
years select field.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['orderYear']</span></code> 与 date/datetime input 元素一起使用。定义年的值显示的顺序。有效的值包括 &#8216;asc&#8217;，&#8217;desc&#8217;。默认值为 &#8216;desc&#8217;。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['orderYear']</span></code> Used in combination with a date/datetime input.
Defines the order in which the year values will be set. Valid values include
&#8216;asc&#8217;, &#8216;desc&#8217;. The default value is &#8216;desc&#8217;.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['interval']</span></code> 这个选项指定分钟选择框中每个选项之间间隔的分钟数:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['interval']</span></code> This option specifies the number of minutes between
each option in the minutes select box:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Model.time&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
    <span class="s1">&#39;interval&#39;</span> <span class="o">=&gt;</span> <span class="mi">15</span>
<span class="p">));</span>
</pre></div>
</div>
<p>会在分钟选择框中创建4个选项，每15分钟一个。</p>
<p>Would create 4 options in the minute select. One for each 15
minutes.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['round']</span></code> 可以设置为 <cite>up</cite> 或者 <cite>down</cite>，强制向某一方向的舍入/取整。默认值为 null，即根据 <cite>interval</cite> 的一半向上取整。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['round']</span></code> Can be set to <cite>up</cite> or <cite>down</cite> to force rounding in either direction.
Defaults to null which rounds half up according to <cite>interval</cite>.</p>
<div class="versionadded">
<p><span class="versionmodified">2.4 新版功能.</span></p>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="id8">
<h2>表单元素相关的方法<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="form-element-specific-methods">
<h2>Form Element-Specific Methods<a class="headerlink" href="#form-element-specific-methods" title="永久链接至标题">¶</a></h2>
<p>在上面的例子中，所有的元素都是创建在针对 <code class="docutils literal"><span class="pre">User</span></code> 模型的表单中。所以，生成的 HTML 代码会包含引用 User 模型的属性。例如：name=data[User][username], id=UserUsername。</p>
<p>All elements are created under a form for the <code class="docutils literal"><span class="pre">User</span></code> model as in the examples above.
For this reason, the HTML code generated will contain attributes that reference to the User model.
Ex: name=data[User][username], id=UserUsername</p>
<dl class="method">
<dt id="FormHelper::label">
<code class="descclassname">FormHelper::</code><code class="descname">label</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>string $text</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::label" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 label 元素。<code class="docutils literal"><span class="pre">$fieldName</span></code> 用于生成 DOM id。如果 <code class="docutils literal"><span class="pre">$text</span></code> 未定义，<code class="docutils literal"><span class="pre">$fieldName</span></code> 会被用来转换（<em>inflect</em>）生成 label 元素的文字:</p>
<p>Create a label element. <code class="docutils literal"><span class="pre">$fieldName</span></code> is used for generating the
DOM id. If <code class="docutils literal"><span class="pre">$text</span></code> is undefined, <code class="docutils literal"><span class="pre">$fieldName</span></code> will be used to inflect
the label&#8217;s text:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="s1">&#39;Your username&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span><span class="p">&gt;</span>Name<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span><span class="p">&gt;</span>Your username<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">$options</span></code> 可以是一个 HTML 属性的数组，或者是一个会被用作样式类名的字符串:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="sb">``</span><span class="nv">$options</span><span class="sb">``</span> <span class="nx">can</span> <span class="nx">either</span> <span class="nx">be</span> <span class="nx">an</span> <span class="k">array</span> <span class="nx">of</span> <span class="nx">HTML</span> <span class="nx">attributes</span><span class="p">,</span> <span class="k">or</span> <span class="nx">a</span> <span class="nx">string</span> <span class="nx">that</span>
</pre></div>
</div>
<p>will be used as a class name:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;user-label&#39;</span><span class="p">));</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="s1">&#39;User.name&#39;</span><span class="p">,</span> <span class="s1">&#39;Your username&#39;</span><span class="p">,</span> <span class="s1">&#39;highlight&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;user-label&quot;</span><span class="p">&gt;</span>Name<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserName&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;highlight&quot;</span><span class="p">&gt;</span>Your username<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::text">
<code class="descclassname">FormHelper::</code><code class="descname">text</code><span class="sig-paren">(</span><em>string $name</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::text" title="永久链接至目标">¶</a></dt>
<dd><p>FormHelper助件的其他方法是用来创建特定的表单元素的。这些方法中的许多也用到特殊的 $options 参数。不过，在这种情况下，$options 主要是用来指定 HTML 标签的属性(比如表单中元素的值或者 DOM id):</p>
<p>The rest of the methods available in the FormHelper are for
creating specific form elements. Many of these methods also make
use of a special $options parameter. In this case, however,
$options is used primarily to specify HTML tag attributes (such as
the value or DOM id of an element in the form):</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][username]&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;users&quot;</span>
    <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserUsername&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::password">
<code class="descclassname">FormHelper::</code><code class="descname">password</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::password" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个密码字段。:</p>
<p>Creates a password field.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">password</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][password]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserPassword&quot;</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;password&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::hidden">
<code class="descclassname">FormHelper::</code><code class="descname">hidden</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::hidden" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 hidden 类型的表单 input 元素。例如:</p>
<p>Creates a hidden form input. Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">hidden</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][id]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserId&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<p>如果表单是用于修改（即，数组 <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> 会包含 <code class="docutils literal"><span class="pre">User</span></code> 模型已经保存的数据），对应 <code class="docutils literal"><span class="pre">id</span></code> 字段的值就会自动加到生成的 HTML 中。data[User][id] = 10 的例子：</p>
<p>If the form is edited (that is, the array <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> will
contain the information saved for the <code class="docutils literal"><span class="pre">User</span></code> model), the value
corresponding to <code class="docutils literal"><span class="pre">id</span></code> field will automatically be added to the HTML
generated. Example for data[User][id] = 10:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][id]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserId&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;10&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">在 2.0 版更改: </span>隐藏字段不再去除（样式的）class 属性。这意味着如果隐藏字段有验证错误，错误字段的（样式）class 就会被应用。
Hidden fields no longer remove the class attribute. This means
that if there are validation errors on hidden fields, the
error-field class name will be applied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::textarea">
<code class="descclassname">FormHelper::</code><code class="descname">textarea</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::textarea" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 textarea 类型的 input 字段。:</p>
<p>Creates a textarea input field.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">textarea</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][notes]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserNotes&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>如果表单是用于修改（即，数组 <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> 会包含 <code class="docutils literal"><span class="pre">User</span></code> 模型已经保存的数据），对应 <code class="docutils literal"><span class="pre">notes</span></code> 字段的值就会自动加到生成的 HTML 中。例如：</p>
<p>If the form is edited (that is, the array <code class="docutils literal"><span class="pre">$this-&gt;request-&gt;data</span></code> will
contain the information saved for the <code class="docutils literal"><span class="pre">User</span></code> model), the value
corresponding to <code class="docutils literal"><span class="pre">notes</span></code> field will automatically be added to the HTML
generated. Example:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][notes]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserNotes&quot;</span><span class="p">&gt;</span>
This text is to be edited.
<span class="p">&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p><code class="docutils literal"><span class="pre">textarea</span></code> input 元素类型允许 <code class="docutils literal"><span class="pre">$options</span></code> 的属性 <code class="docutils literal"><span class="pre">'escape'</span></code>，这决定 textarea 的内容是否要被转义。默认值为 <code class="docutils literal"><span class="pre">true</span></code>。</p>
<p class="last">The <code class="docutils literal"><span class="pre">textarea</span></code> input type allows for the <code class="docutils literal"><span class="pre">$options</span></code> attribute
of <code class="docutils literal"><span class="pre">'escape'</span></code> which determines whether or not the contents of the
textarea should be escaped. Defaults to <code class="docutils literal"><span class="pre">true</span></code>.</p>
</div>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">textarea</span><span class="p">(</span><span class="s1">&#39;notes&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;escape&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">);</span>
<span class="c1">// 或者......</span>
<span class="c1">// OR....</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span>
    <span class="s1">&#39;notes&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;textarea&#39;</span><span class="p">,</span> <span class="s1">&#39;escape&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p><strong>选项</strong></p>
<p><strong>Options</strong></p>
<p>除了 <a class="reference internal" href="#general-input-options"><span class="std std-ref">通用选项</span></a>，textarea() 方法支持一些特定的选项:</p>
<p>In addition to the <a class="reference internal" href="#general-input-options"><span class="std std-ref">通用选项</span></a>, textarea() supports a few
specific options:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['rows']，$options['cols']</span></code> 这两个键指定行数和列数:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$options['rows'],</span> <span class="pre">$options['cols']</span></code> These two keys specify the number of
rows and columns:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">textarea</span><span class="p">(</span>
    <span class="s1">&#39;textarea&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;rows&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;cols&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;5&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">textarea</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Form][textarea]&quot;</span> <span class="na">cols</span><span class="o">=</span><span class="s">&quot;5&quot;</span> <span class="na">rows</span><span class="o">=</span><span class="s">&quot;5&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;FormTextarea&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">textarea</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="FormHelper::checkbox">
<code class="descclassname">FormHelper::</code><code class="descname">checkbox</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::checkbox" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 checkbox 表单元素。该方法也会生成一个关联的 hidden 类型的表单 input 元素，强制提交指定字段的数据。:</p>
<p>Creates a checkbox form element. This method also generates an
associated hidden form input to force the submission of data for
the specified field.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][done]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserDone_&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][done]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserDone&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<p>可以用 $options 数组来给出 checkbox 的值:</p>
<p>It is possible to specify the value of the checkbox by using the
$options array:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="mi">555</span><span class="p">));</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][done]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserDone_&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][done]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;555&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserDone&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
<p>如果你不想让 Form 助件创建 hidden 类型的 input 元素:</p>
<p>If you don&#8217;t want the Form helper to create a hidden input:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">checkbox</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;hiddenField&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][done]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserDone&quot;</span> <span class="p">/&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::radio">
<code class="descclassname">FormHelper::</code><code class="descname">radio</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::radio" title="永久链接至目标">¶</a></dt>
<dd><p>创建一组 radio 按钮类型的 input 元素。</p>
<p>Creates a set of radio button inputs.</p>
<p><strong>选项</strong></p>
<p><strong>Options</strong></p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['value']</span></code> 设置哪个值作为默认值被选中。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['value']</span></code> to set which value should be selected default.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['separator']</span></code> 给出 radio 按钮之间的 HTML(例如 &lt;br /)。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['separator']</span></code> to specify HTML in between radio
buttons (e.g. &lt;br /&gt;).</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['between']</span></code> 给出在 legend 和第一个元素之间插入的内容。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['between']</span></code> specify some content to be inserted between the
legend and first element.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> 设置这个属性为 <code class="docutils literal"><span class="pre">true</span></code> 或 <code class="docutils literal"><span class="pre">'disabled'</span></code> 会禁用所有生成的 radio 按钮。</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> Setting this to <code class="docutils literal"><span class="pre">true</span></code> or <code class="docutils literal"><span class="pre">'disabled'</span></code>
will disable all of the generated radio buttons.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['legend']</span></code> 默认情况下 radio 元素会包裹在 label 和 fieldset 之中。设置 <code class="docutils literal"><span class="pre">$attributes['legend']</span></code> 为 false 来去掉这些。:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['legend']</span></code> Radio elements are wrapped with a legend and
fieldset by default. Set <code class="docutils literal"><span class="pre">$attributes['legend']</span></code> to false to remove
them.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;M&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Female&#39;</span><span class="p">);</span>
<span class="nv">$attributes</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;legend&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">radio</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="nv">$attributes</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][gender]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserGender_&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][gender]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserGenderM&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;M&quot;</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserGenderM&quot;</span><span class="p">&gt;</span>Male<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][gender]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserGenderF&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;F&quot;</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;radio&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;UserGenderF&quot;</span><span class="p">&gt;</span>Female<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
</ul>
<p>如果出于某些原因你不想要 hidden 类型的 input 元素，设置 <code class="docutils literal"><span class="pre">$attributes['value']</span></code> 为选中的值或布尔值 false 就可以了。</p>
<p>If for some reason you don&#8217;t want the hidden input, setting
<code class="docutils literal"><span class="pre">$attributes['value']</span></code> to a selected value or boolean false will
do just that.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$attributes['fieldset']</span></code> 如果 legend 属性没有设置成 false，那么这个属性可以用来设置 fieldset 元素的样式类名。</li>
<li><code class="docutils literal"><span class="pre">$attributes['fieldset']</span></code> If legend attribute is not set to false, then this
attribute can be used to set the class of the fieldset element.</li>
</ul>
<div class="versionchanged">
<p><span class="versionmodified">在 2.1 版更改: </span>在 2.1 版本中增加了 <code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> 选项。
The <code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> option was added in 2.1.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">在 2.8.5 版更改: </span>在 2.8.5 版本中增加了 <code class="docutils literal"><span class="pre">$attributes['fieldset']</span></code> 选项。
The <code class="docutils literal"><span class="pre">$attributes['fieldset']</span></code> option was added in 2.8.5.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::select">
<code class="descclassname">FormHelper::</code><code class="descname">select</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::select" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 select 元素，以 <code class="docutils literal"><span class="pre">$options</span></code> 中的项目填充，默认选中以 <code class="docutils literal"><span class="pre">$attributes['value']</span></code> 指定的选项。设置 <code class="docutils literal"><span class="pre">$attributes</span></code> 变量中的&#8217;empty&#8217;键为 false，就可以去掉默认的空选项:</p>
<p>Creates a select element, populated with the items in <code class="docutils literal"><span class="pre">$options</span></code>,
with the option specified by <code class="docutils literal"><span class="pre">$attributes['value']</span></code> shown as selected by
default. Set the &#8216;empty&#8217; key in the <code class="docutils literal"><span class="pre">$attributes</span></code> variable to false to
turn off the default empty option:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;M&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Female&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="nv">$options</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][gender]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserGender&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;M&quot;</span><span class="p">&gt;</span>Male<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;F&quot;</span><span class="p">&gt;</span>Female<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">select</span></code> 类型可以有一个特殊的 <code class="docutils literal"><span class="pre">$option</span></code> 属性，叫做 <code class="docutils literal"><span class="pre">'escape'</span></code>，它接受布尔值，决定是否对 select 选项的内容进行 HTML 实体编码(HTML entity encode)。默认为 true:</p>
<p>The <code class="docutils literal"><span class="pre">select</span></code> input type allows for a special <code class="docutils literal"><span class="pre">$option</span></code>
attribute called <code class="docutils literal"><span class="pre">'escape'</span></code> which accepts a bool and determines
whether to HTML entity encode the contents of the select options.
Defaults to true:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;M&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Male&#39;</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Female&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;escape&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['options']</span></code> 这个键允许你手动指定 select 元素或一组 radio 元素的选项。除非&#8217;type&#8217;设置为&#8217;radio&#8217;，否则 FormHelper 助件将会认为希望的输出为 select 元素:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['options']</span></code> This key allows you to manually specify options for a
select input, or for a radio group. Unless the &#8216;type&#8217; is specified as &#8216;radio&#8217;,
the FormHelper will assume that the target output is a select input:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="p">&gt;</span>2<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2&quot;</span><span class="p">&gt;</span>3<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;3&quot;</span><span class="p">&gt;</span>4<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;4&quot;</span><span class="p">&gt;</span>5<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>选项也可以用键-值对的方式提供:</p>
<p>Options can also be supplied as key-value pairs:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Value 1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Value 2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Value 3&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 3&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 1&quot;</span><span class="p">&gt;</span>Label 1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 2&quot;</span><span class="p">&gt;</span>Label 2<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 3&quot;</span><span class="p">&gt;</span>Label 3<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>如果你想要生成带有 optgroups 的 select 元素，只需传入层级结构的数据。这也适用于多个 checkbox 元素和 radio 按钮元素，只是不用  optgroups，而是用 fieldsets 来包裹元素:</p>
<p>If you would like to generate a select with optgroups, just pass
data in hierarchical format. This works on multiple checkboxes and radio
buttons too, but instead of optgroups wraps elements in fieldsets:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;Group 1&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;Value 1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 1&#39;</span><span class="p">,</span>
      <span class="s1">&#39;Value 2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 2&#39;</span>
   <span class="p">),</span>
   <span class="s1">&#39;Group 2&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;Value 3&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 3&#39;</span>
   <span class="p">)</span>
<span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">,</span> <span class="nv">$options</span><span class="p">);</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][field]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserField&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">optgroup</span> <span class="na">label</span><span class="o">=</span><span class="s">&quot;Group 1&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 1&quot;</span><span class="p">&gt;</span>Label 1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 2&quot;</span><span class="p">&gt;</span>Label 2<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">optgroup</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">optgroup</span> <span class="na">label</span><span class="o">=</span><span class="s">&quot;Group 2&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 3&quot;</span><span class="p">&gt;</span>Label 3<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">optgroup</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['multiple']</span></code> 如果对一个输出 select 的 input 设置&#8217;multiple&#8217;为 true，该 select 就会允许多选:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['multiple']</span></code> If &#8216;multiple&#8217; has been set to true for an input that
outputs a select, the select will allow multiple selections:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span>
    <span class="s1">&#39;Model.field&#39;</span><span class="p">,</span>
    <span class="nv">$options</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;multiple&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>另外也可以设置&#8217;multiple&#8217;为&#8217;checkbox&#8217;，来输出一组相互关联的 check box:</p>
<p>Alternatively set &#8216;multiple&#8217; to &#8216;checkbox&#8217; to output a list of
related check boxes:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Value 1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Value 2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 2&#39;</span>
<span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;Model.field&#39;</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;multiple&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;checkbox&#39;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input select&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ModelField&quot;</span><span class="p">&gt;</span>Field<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Model][field]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ModelField&quot;</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Model][field][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 1&quot;</span>
        <span class="na">id</span><span class="o">=</span><span class="s">&quot;ModelField1&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ModelField1&quot;</span><span class="p">&gt;</span>Label 1<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Model][field][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 2&quot;</span>
        <span class="na">id</span><span class="o">=</span><span class="s">&quot;ModelField2&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ModelField2&quot;</span><span class="p">&gt;</span>Label 2<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> 当创建 checkbox 时，可以设置这个选项为 <code class="docutils literal"><span class="pre">true</span></code> 来禁用全部或者一些 checkbox。要禁用全部 checkbox，设置 disabled 为 <code class="docutils literal"><span class="pre">true</span></code>:</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> When creating checkboxes, this option can be set
to disable all or some checkboxes. To disable all checkboxes set disabled
to <code class="docutils literal"><span class="pre">true</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Value 1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Value 2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Label 2&#39;</span>
<span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">&#39;Model.field&#39;</span><span class="p">,</span> <span class="nv">$options</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;multiple&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;checkbox&#39;</span><span class="p">,</span>
    <span class="s1">&#39;disabled&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Value 1&#39;</span><span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>输出:</p>
<p>Output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;input select&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ModelField&quot;</span><span class="p">&gt;</span>Field<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Model][field]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ModelField&quot;</span>
    <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Model][field][]&quot;</span> <span class="na">disabled</span><span class="o">=</span><span class="s">&quot;disabled&quot;</span>
        <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 1&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;ModelField1&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ModelField1&quot;</span><span class="p">&gt;</span>Label 1<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
   <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[Model][field][]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Value 2&quot;</span>
        <span class="na">id</span><span class="o">=</span><span class="s">&quot;ModelField2&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;checkbox&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;ModelField2&quot;</span><span class="p">&gt;</span>Label 2<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
   <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</li>
</ul>
<div class="versionchanged">
<p><span class="versionmodified">在 2.3 版更改: </span><code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> 对数组的支持是在2.3版本中增加的。
Support for arrays in <code class="docutils literal"><span class="pre">$attributes['disabled']</span></code> was added in 2.3.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::file">
<code class="descclassname">FormHelper::</code><code class="descname">file</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::file" title="永久链接至目标">¶</a></dt>
<dd><p>要在表单中增加一个文件上传字段，你必须首先确保表单的 enctype 设置为&#8221;multipart/form-data&#8221;，所以要用下面这样的 create 函数开始:</p>
<p>To add a file upload field to a form, you must first make sure that
the form enctype is set to &#8220;multipart/form-data&#8221;, so start off with
a create function such as the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;enctype&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;multipart/form-data&#39;</span>
<span class="p">));</span>
<span class="c1">// 或者</span>
<span class="c1">// OR</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;Document&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>然后添加下面两行之一到表单视图文件中:</p>
<p>Next add either of the two lines to your form view file:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;Document.submittedfile&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;between&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;br /&gt;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file&#39;</span>
<span class="p">));</span>

<span class="c1">// 或者</span>
<span class="c1">// OR</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">(</span><span class="s1">&#39;Document.submittedfile&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>鉴于 HTML 本身的限制，无法为&#8217;file&#8217;类型的 input 字段设置默认值。每次表单显示时，其值为空。</p>
<p>Due to the limitations of HTML itself, it is not possible to put
default values into input fields of type &#8216;file&#8217;. Each time the form
is displayed, the value inside will be empty.</p>
<p>在提交时，file 字段提供一个扩展的数据数组给接受表单数据的脚本（<em>script</em>）。</p>
<p>Upon submission, file fields provide an expanded data array to the
script receiving the form data.</p>
<p>对于上面的例子，如果 CakePHP 安装在 Windows 服务器上，在提交的数据数组中的值将有如下结构。在 Unix 环境下&#8217;tmp_name&#8217;会有不同的路径:</p>
<p>For the example above, the values in the submitted data array would
be organized as follows, if the CakePHP was installed on a Windows
server. &#8216;tmp_name&#8217; will have a different path in a Unix
environment:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">data</span><span class="p">[</span><span class="s1">&#39;Document&#39;</span><span class="p">][</span><span class="s1">&#39;submittedfile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;conference_schedule.pdf&#39;</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/pdf&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tmp_name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;C:/WINDOWS/TEMP/php1EE.tmp&#39;</span><span class="p">,</span>
    <span class="s1">&#39;error&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;size&#39;</span> <span class="o">=&gt;</span> <span class="mi">41737</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>这个数组是 PHP 本身生成的，所以要了解 PHP 如何处理通过 file 字段传递的数据，请 <a class="reference external" href="http://php.net/features.file-upload">阅读 PHP 手册中关于文件上载的章节</a>。</p>
<p>This array is generated by PHP itself, so for more detail on the
way PHP handles data passed via file fields
<a class="reference external" href="http://php.net/features.file-upload">read the PHP manual section on file uploads</a>.</p>
</dd></dl>

<div class="section" id="id9">
<h3>验证（文件）上载<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
</div>
<div class="section" id="validating-uploads">
<h3>Validating Uploads<a class="headerlink" href="#validating-uploads" title="永久链接至标题">¶</a></h3>
<p>下面是一个验证方法的例子，可以定义在模型中来验证文件上载是否成功:</p>
<p>Below is an example validation method you could define in your
model to validate whether a file has been successfully uploaded:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="k">function</span> <span class="nf">isUploadedFile</span><span class="p">(</span><span class="nv">$params</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$val</span> <span class="o">=</span> <span class="nb">array_shift</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">((</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$val</span><span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nv">$val</span><span class="p">[</span><span class="s1">&#39;error&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span>
        <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span> <span class="nv">$val</span><span class="p">[</span><span class="s1">&#39;tmp_name&#39;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nv">$val</span><span class="p">[</span><span class="s1">&#39;tmp_name&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;none&#39;</span><span class="p">)</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">is_uploaded_file</span><span class="p">(</span><span class="nv">$val</span><span class="p">[</span><span class="s1">&#39;tmp_name&#39;</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>创建 file 类型的 input 元素:</p>
<p>Creates a file input:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;file&#39;</span><span class="p">));</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">form</span> <span class="na">enctype</span><span class="o">=</span><span class="s">&quot;multipart/form-data&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;/users/add&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">input</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][avatar]&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserAvatar&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;file&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>当使用 <code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;file()</span></code> 方法时，记得要通过在 <code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;create()</span></code> 方法中设置类型选项为&#8217;file&#8217;来设置表单的编码类型。</p>
<p class="last">When using <code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;file()</span></code>, remember to set the form
encoding-type, by setting the type option to &#8216;file&#8217; in
<code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;create()</span></code></p>
</div>
</div>
</div>
<div class="section" id="id10">
<h2>创建按键和提交元素<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="creating-buttons-and-submit-elements">
<h2>Creating buttons and submit elements<a class="headerlink" href="#creating-buttons-and-submit-elements" title="永久链接至标题">¶</a></h2>
<dl class="method">
<dt id="FormHelper::submit">
<code class="descclassname">FormHelper::</code><code class="descname">submit</code><span class="sig-paren">(</span><em>string $caption</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::submit" title="永久链接至目标">¶</a></dt>
<dd><p>创建带有标题 <code class="docutils literal"><span class="pre">$caption</span></code> 的提交按键。如果给出的 <code class="docutils literal"><span class="pre">$caption</span></code> 是一个图像的网址（含有‘.’字符），提交按键就会渲染为图像。</p>
<p>Creates a submit button with caption <code class="docutils literal"><span class="pre">$caption</span></code>. If the supplied
<code class="docutils literal"><span class="pre">$caption</span></code> is a URL to an image (it contains a &#8216;.&#8217; character),
the submit button will be rendered as an image.</p>
<p>默认情况下它会被包括在 <code class="docutils literal"><span class="pre">div</span></code> 标签内；你可以通过声明 <code class="docutils literal"><span class="pre">$options['div']</span> <span class="pre">=</span> <span class="pre">false</span></code> 来避免:</p>
<p>It is enclosed between <code class="docutils literal"><span class="pre">div</span></code> tags by default; you can avoid this
by declaring <code class="docutils literal"><span class="pre">$options['div']</span> <span class="pre">=</span> <span class="pre">false</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">submit</span><span class="p">();</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Submit&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>你可以为 caption 参数传入一个图像的相对或绝对网址，而不是标题文字。:</p>
<p>You can also pass a relative or absolute URL to an image for the
caption parameter instead of caption text.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">submit</span><span class="p">(</span><span class="s1">&#39;ok.png&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;image&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/img/ok.png&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::button">
<code class="descclassname">FormHelper::</code><code class="descname">button</code><span class="sig-paren">(</span><em>string $title</em>, <em>array $options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::button" title="永久链接至目标">¶</a></dt>
<dd><p>创建 HTML 按键，带有指定的标题和默认的类型&#8221;button&#8221;。设置 <code class="docutils literal"><span class="pre">$options['type']</span></code> 可以输出三种可能的按键类型中的一种:</p>
<p>Creates an HTML button with the specified title and a default type
of &#8220;button&#8221;. Setting <code class="docutils literal"><span class="pre">$options['type']</span></code> will output one of the
three possible button types:</p>
<ol class="arabic simple">
<li>submit: 等同于``$this-&gt;Form-&gt;submit``方法——(默认值)。</li>
<li>reset: 创建一个表单重置按键。</li>
<li>button: 创建一个标准的按键。</li>
<li>submit: Same as the <code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;submit</span></code> method - (the
default).</li>
<li>reset: Creates a form reset button.</li>
<li>button: Creates a standard push button.</li>
</ol>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">button</span><span class="p">(</span><span class="s1">&#39;A Button&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">button</span><span class="p">(</span><span class="s1">&#39;Another Button&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;button&#39;</span><span class="p">));</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">button</span><span class="p">(</span><span class="s1">&#39;Reset the Form&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;reset&#39;</span><span class="p">));</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">button</span><span class="p">(</span><span class="s1">&#39;Submit Form&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;submit&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>A Button<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span><span class="p">&gt;</span>Another Button<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;reset&quot;</span><span class="p">&gt;</span>Reset the Form<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>Submit Form<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">button</span></code> 类型的 input 元素支持 <code class="docutils literal"><span class="pre">escape</span></code> 选项，该选项接受布尔值，决定是否 HTML 实体编码（<em>HTML entity encode</em>）按键的 $title。
默认值为 false:</p>
<p>The <code class="docutils literal"><span class="pre">button</span></code> input type supports the <code class="docutils literal"><span class="pre">escape</span></code> option, which accepts a
bool and determines whether to HTML entity encode the $title of the button.
Defaults to false:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">button</span><span class="p">(</span><span class="s1">&#39;Submit Form&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;submit&#39;</span><span class="p">,</span>
    <span class="s1">&#39;escape&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">));</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::postButton">
<code class="descclassname">FormHelper::</code><code class="descname">postButton</code><span class="sig-paren">(</span><em>string $title</em>, <em>mixed $url</em>, <em>array $options = array ()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::postButton" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 <code class="docutils literal"><span class="pre">&lt;button&gt;</span></code> 标签，包裹在用 POST 方式提交的 <code class="docutils literal"><span class="pre">&lt;form&gt;</span></code> 标签内。</p>
<p>Create a <code class="docutils literal"><span class="pre">&lt;button&gt;</span></code> tag with a surrounding <code class="docutils literal"><span class="pre">&lt;form&gt;</span></code> that submits via
POST.</p>
<p>这个方法创建 <code class="docutils literal"><span class="pre">&lt;form&gt;</span></code> 元素。所以不要在表单内使用这个方法，而是应当使用 <a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a> 或者 <a class="reference internal" href="#FormHelper::button" title="FormHelper::button"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::button()</span></code></a> 在表单内创建按键。</p>
<p>This method creates a <code class="docutils literal"><span class="pre">&lt;form&gt;</span></code> element. So do not use this method in some
opened form. Instead use <a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a> or
<a class="reference internal" href="#FormHelper::button" title="FormHelper::button"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::button()</span></code></a> to create buttons inside opened forms.</p>
</dd></dl>

<dl class="method">
<dt id="FormHelper::postLink">
<code class="descclassname">FormHelper::</code><code class="descname">postLink</code><span class="sig-paren">(</span><em>string $title</em>, <em>mixed $url = null</em>, <em>array $options = array ()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::postLink" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 HTML 链接，但使用 POST 来访问该链接。要求浏览器启用 javascript。</p>
<p>Creates an HTML link, but access the URL using method POST. Requires
JavaScript to be enabled in browser.</p>
<p>该方法创建一个 <code class="docutils literal"><span class="pre">&lt;form&gt;</span></code> 元素。如果你要在现有表单中使用该方法，必须用 <code class="docutils literal"><span class="pre">inline</span></code> 或 <code class="docutils literal"><span class="pre">block</span></code> 选项，这样新的表单就生成会在现有表单之外。</p>
<p>This method creates a <code class="docutils literal"><span class="pre">&lt;form&gt;</span></code> element. If you want to use this method
inside of an existing form, you must use the <code class="docutils literal"><span class="pre">inline</span></code> or <code class="docutils literal"><span class="pre">block</span></code> options
so that the new form can be rendered outside of the existing form.</p>
<p>如果你需要的只是一个按键来提交表单，那么就应当使用 <a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a>。</p>
<p>If all you are looking for is a button to submit your form, then you should
use <a class="reference internal" href="#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::submit()</span></code></a> instead.</p>
<div class="versionchanged">
<p><span class="versionmodified">在 2.3 版更改: </span>增加了 <code class="docutils literal"><span class="pre">method</span></code> 选项。
The <code class="docutils literal"><span class="pre">method</span></code> option was added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">在 2.5 版更改: </span>增加了 <code class="docutils literal"><span class="pre">inline</span></code> 和 <code class="docutils literal"><span class="pre">block</span></code> 选项。这允许缓存生成的 form 标签，而不是直接返回。这有助于避免嵌套的 form 标签。设置 <code class="docutils literal"><span class="pre">'inline'</span> <span class="pre">=&gt;</span> <span class="pre">false</span></code> 会把 form 标签加到 <code class="docutils literal"><span class="pre">postLink</span></code> 代码块，不过如果你想使用自定义的代码块，可以转而用 <code class="docutils literal"><span class="pre">block</span></code> 选项指定自定义代码块。
The <code class="docutils literal"><span class="pre">inline</span></code> and <code class="docutils literal"><span class="pre">block</span></code> options were added. They allow buffering
the generated form tag, instead of returning with the link. This helps
avoiding nested form tags. Setting <code class="docutils literal"><span class="pre">'inline'</span> <span class="pre">=&gt;</span> <span class="pre">false</span></code> will add
the form tag to the <code class="docutils literal"><span class="pre">postLink</span></code> content block, if you want to use a
custom block you can specify it using the <code class="docutils literal"><span class="pre">block</span></code> option instead.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">在 2.6 版更改: </span>参数 <code class="docutils literal"><span class="pre">$confirmMessage</span></code> 已经作废。请使用 <code class="docutils literal"><span class="pre">$options</span></code> 中的 <code class="docutils literal"><span class="pre">confirm</span></code> 键。
The argument <code class="docutils literal"><span class="pre">$confirmMessage</span></code> was deprecated. Use <code class="docutils literal"><span class="pre">confirm</span></code> key
in <code class="docutils literal"><span class="pre">$options</span></code> instead.</p>
</div>
</dd></dl>

</div>
<div class="section" id="id11">
<h2>创建日期和时间类型的 input 元素<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="creating-date-and-time-inputs">
<h2>Creating date and time inputs<a class="headerlink" href="#creating-date-and-time-inputs" title="永久链接至标题">¶</a></h2>
<dl class="method">
<dt id="FormHelper::dateTime">
<code class="descclassname">FormHelper::</code><code class="descname">dateTime</code><span class="sig-paren">(</span><em>$fieldName</em>, <em>$dateFormat = 'DMY'</em>, <em>$timeFormat = '12'</em>, <em>$attributes = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::dateTime" title="永久链接至目标">¶</a></dt>
<dd><p>为日期和时间创建一组 select 类型的标签。$dateFormat 的合法值为&#8217;DMY&#8217;，&#8217;MDY&#8217;，&#8217;YMD&#8217;或者&#8217;NONE&#8217;。$timeFormat的合法值为&#8216;12&#8217;，&#8216;24&#8217;和 null。</p>
<p>Creates a set of select inputs for date and time. Valid values for
$dateformat are &#8216;DMY&#8217;, &#8216;MDY&#8217;, &#8216;YMD&#8217; or &#8216;NONE&#8217;. Valid values for
$timeFormat are &#8216;12&#8217;, &#8216;24&#8217;, and null.</p>
<p>你可以通过在 attributes 参数中设置 &#8220;array(&#8216;empty&#8217; =&gt; false)&#8221;来不显示空值。它也会用当前日期和时间预选(相应的)字段。</p>
<p>You can specify not to display empty values by setting
&#8220;array(&#8216;empty&#8217; =&gt; false)&#8221; in the attributes parameter. It will also
pre-select the fields with the current datetime.</p>
</dd></dl>

<dl class="method">
<dt id="FormHelper::year">
<code class="descclassname">FormHelper::</code><code class="descname">year</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>int $minYear</em>, <em>int $maxYear</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::year" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 select 元素，填充以从 <code class="docutils literal"><span class="pre">$minYear</span></code> 到 <code class="docutils literal"><span class="pre">$maxYear</span></code> 的年份。HTML 属性可以在 $attributes 参数中提供。如果 <code class="docutils literal"><span class="pre">$attributes['empty']</span></code> 为 false，select 元素就不会包括空选项:</p>
<p>Creates a select element populated with the years from <code class="docutils literal"><span class="pre">$minYear</span></code>
to <code class="docutils literal"><span class="pre">$maxYear</span></code>. HTML attributes may be supplied in $attributes. If
<code class="docutils literal"><span class="pre">$attributes['empty']</span></code> is false, the select will not include an
empty option:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">year</span><span class="p">(</span><span class="s1">&#39;purchased&#39;</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="nb">date</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][purchased][year]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserPurchasedYear&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2009&quot;</span><span class="p">&gt;</span>2009<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2008&quot;</span><span class="p">&gt;</span>2008<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2007&quot;</span><span class="p">&gt;</span>2007<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2006&quot;</span><span class="p">&gt;</span>2006<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2005&quot;</span><span class="p">&gt;</span>2005<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2004&quot;</span><span class="p">&gt;</span>2004<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2003&quot;</span><span class="p">&gt;</span>2003<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2002&quot;</span><span class="p">&gt;</span>2002<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2001&quot;</span><span class="p">&gt;</span>2001<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;2000&quot;</span><span class="p">&gt;</span>2000<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::month">
<code class="descclassname">FormHelper::</code><code class="descname">month</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::month" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 select 元素，填充以月份的名称:</p>
<p>Creates a select element populated with month names:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">month</span><span class="p">(</span><span class="s1">&#39;mob&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][mob][month]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserMobMonth&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;01&quot;</span><span class="p">&gt;</span>January<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;02&quot;</span><span class="p">&gt;</span>February<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;03&quot;</span><span class="p">&gt;</span>March<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;04&quot;</span><span class="p">&gt;</span>April<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;05&quot;</span><span class="p">&gt;</span>May<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;06&quot;</span><span class="p">&gt;</span>June<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;07&quot;</span><span class="p">&gt;</span>July<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;08&quot;</span><span class="p">&gt;</span>August<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;09&quot;</span><span class="p">&gt;</span>September<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;10&quot;</span><span class="p">&gt;</span>October<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;11&quot;</span><span class="p">&gt;</span>November<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;12&quot;</span><span class="p">&gt;</span>December<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>你可以通过设置&#8217;monthNames&#8217;属性来传入自己要使用的月份数组，或者传入 false 来让月份显示为数字。（注意: 默认的月份是国际化的，而且可以用本地化来翻译。）:</p>
<p>You can pass in your own array of months to be used by setting the
&#8216;monthNames&#8217; attribute, or have months displayed as numbers by
passing false. (Note: the default months are internationalized and
can be translated using localization.):</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">month</span><span class="p">(</span><span class="s1">&#39;mob&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;monthNames&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::day">
<code class="descclassname">FormHelper::</code><code class="descname">day</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::day" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 select 元素，填充以月份的(数字)日子。</p>
<p>Creates a select element populated with the (numerical) days of the
month.</p>
<p>要添加一个带有你选择的提示文字的空选项(例如，第一个选项为&#8217;Day&#8217;)，你可以在最后一个参数中提供该(提示)文字，如下所示:</p>
<p>To create an empty option with prompt text of your choosing (e.g.
the first option is &#8216;Day&#8217;), you can supply the text as the final
parameter as follows:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">day</span><span class="p">(</span><span class="s1">&#39;created&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>将会输出:</p>
<p>Will output:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;data[User][created][day]&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;UserCreatedDay&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;01&quot;</span><span class="p">&gt;</span>1<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;02&quot;</span><span class="p">&gt;</span>2<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;03&quot;</span><span class="p">&gt;</span>3<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
...
<span class="p">&lt;</span><span class="nt">option</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;31&quot;</span><span class="p">&gt;</span>31<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::hour">
<code class="descclassname">FormHelper::</code><code class="descname">hour</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>boolean $format24Hours</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::hour" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 select 元素，填充以一天中的各个小时。</p>
<p>Creates a select element populated with the hours of the day.</p>
</dd></dl>

<dl class="method">
<dt id="FormHelper::minute">
<code class="descclassname">FormHelper::</code><code class="descname">minute</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::minute" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 select 元素，填充以一个小时中的各个分钟。</p>
<p>Creates a select element populated with the minutes of the hour.</p>
</dd></dl>

<dl class="method">
<dt id="FormHelper::meridian">
<code class="descclassname">FormHelper::</code><code class="descname">meridian</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>array $attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::meridian" title="永久链接至目标">¶</a></dt>
<dd><p>创建一个 select 元素，填充以 &#8216;am&#8217; 和 &#8216;pm&#8217;。</p>
<p>Creates a select element populated with &#8216;am&#8217; and &#8216;pm&#8217;.</p>
</dd></dl>

</div>
<div class="section" id="id12">
<h2>显示及检查错误<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="displaying-and-checking-errors">
<h2>Displaying and checking errors<a class="headerlink" href="#displaying-and-checking-errors" title="永久链接至标题">¶</a></h2>
<dl class="method">
<dt id="FormHelper::error">
<code class="descclassname">FormHelper::</code><code class="descname">error</code><span class="sig-paren">(</span><em>string $fieldName</em>, <em>mixed $text</em>, <em>array $options</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::error" title="永久链接至目标">¶</a></dt>
<dd><p>当验证错误产生时，显示由 $text 指定的针对给定字段的验证错误信息。</p>
<p>Shows a validation error message, specified by $text, for the given
field, in the event that a validation error has occurred.</p>
<p>选项:</p>
<p>Options:</p>
<ul class="simple">
<li>&#8216;escape&#8217; bool 是否 html 转义错误内容。</li>
<li>&#8216;wrap&#8217; mixed 是否将错误信息包裹在 div 中。如果是字符串，就会作为 HTML 标签使用。</li>
<li>&#8216;class&#8217; string 错误信息的（样式）类名。</li>
<li>&#8216;escape&#8217; bool Whether or not to HTML escape the contents of the
error.</li>
<li>&#8216;wrap&#8217; mixed Whether or not the error message should be wrapped
in a div. If a string, will be used as the HTML tag to use.</li>
<li>&#8216;class&#8217; string The class name for the error message</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="FormHelper::isFieldError">
<code class="descclassname">FormHelper::</code><code class="descname">isFieldError</code><span class="sig-paren">(</span><em>string $fieldName</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::isFieldError" title="永久链接至目标">¶</a></dt>
<dd><p>如果提供的 $fieldName 字段有验证错误，返回 true。:</p>
<p>Returns true if the supplied $fieldName has an active validation
error.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">isFieldError</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p>当使用 <a class="reference internal" href="#FormHelper::input" title="FormHelper::input"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::input()</span></code></a> 方法时，默认情况下错误会显示。</p>
<p class="last">When using <a class="reference internal" href="#FormHelper::input" title="FormHelper::input"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::input()</span></code></a>, errors are rendered by default.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::tagIsInvalid">
<code class="descclassname">FormHelper::</code><code class="descname">tagIsInvalid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::tagIsInvalid" title="永久链接至目标">¶</a></dt>
<dd><p>如果由当前项描述的给定表单字段没有错误，就返回 false，否则就返回验证错误。</p>
<p>Returns false if given form field described by the current entity has no
errors. Otherwise it returns the validation message.</p>
</dd></dl>

</div>
<div class="section" id="id13">
<h2>对所有字段设置默认值<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="setting-defaults-for-all-fields">
<h2>Setting Defaults for all fields<a class="headerlink" href="#setting-defaults-for-all-fields" title="永久链接至标题">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">2.2 新版功能.</span></p>
</div>
<p>你可以使用 <code class="xref php php-meth docutils literal"><span class="pre">FormHelper::inputDefaults()</span></code> 为 <code class="docutils literal"><span class="pre">input()</span></code> 方法声明一组默认值。改变默认选项允许你把重复的选项合并为一个方法调用:</p>
<p>You can declare a set of default options for <code class="docutils literal"><span class="pre">input()</span></code> using
<code class="xref php php-meth docutils literal"><span class="pre">FormHelper::inputDefaults()</span></code>. Changing the default options allows
you to consolidate repeated options into a single method call:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">inputDefaults</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;fancy&#39;</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>从此所有创建的 input 元素会继承在 inputDefaults 选项中声明的选项。你可以在 input() 的调用中声明选项来改变默认的选项:</p>
<p>All inputs created from that point forward will inherit the options declared in
inputDefaults. You can override the default options by declaring the option in the
input() call:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">);</span> <span class="c1">// 没有 div，没有 label，带有&#39;fancy&#39;样式类 No div, no label with class &#39;fancy&#39;</span>
<span class="c1">// 带有 label 及同样的默认选项</span>
<span class="c1">// has a label element same defaults</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">input</span><span class="p">(</span>
    <span class="s1">&#39;username&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Username&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="securitycomponent">
<h2>与 SecurityComponent 组件一起使用<a class="headerlink" href="#securitycomponent" title="永久链接至标题">¶</a></h2>
</div>
<div class="section" id="working-with-securitycomponent">
<h2>Working with SecurityComponent<a class="headerlink" href="#working-with-securitycomponent" title="永久链接至标题">¶</a></h2>
<p><a class="reference internal" href="../components/security-component.html#SecurityComponent" title="SecurityComponent"><code class="xref php php-meth docutils literal"><span class="pre">SecurityComponent</span></code></a> 组件提供了一些特性，使你的表单更加安全可靠。只需在控制器中引用 <code class="docutils literal"><span class="pre">SecurityComponent</span></code>，你就自动获得（针对） CSRF 和表单篡改（<em>form tampering</em>）的特性。</p>
<p><a class="reference internal" href="../components/security-component.html#SecurityComponent" title="SecurityComponent"><code class="xref php php-meth docutils literal"><span class="pre">SecurityComponent</span></code></a> offers several features that make your forms safer
and more secure. By simply including the <code class="docutils literal"><span class="pre">SecurityComponent</span></code> in your
controller, you&#8217;ll automatically benefit from CSRF and form tampering features.</p>
<p>正如之前所说，当使用 SecurityComponent 组件时，你应当总是使用 <a class="reference internal" href="#FormHelper::end" title="FormHelper::end"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::end()</span></code></a> 结束你的表单。这会保证生成特殊的 <code class="docutils literal"><span class="pre">_Token</span></code> input 元素。</p>
<p>As mentioned previously when using SecurityComponent, you should always close
your forms using <a class="reference internal" href="#FormHelper::end" title="FormHelper::end"><code class="xref php php-meth docutils literal"><span class="pre">FormHelper::end()</span></code></a>. This will ensure that the
special <code class="docutils literal"><span class="pre">_Token</span></code> inputs are generated.</p>
<dl class="method">
<dt id="FormHelper::unlockField">
<code class="descclassname">FormHelper::</code><code class="descname">unlockField</code><span class="sig-paren">(</span><em>$name</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::unlockField" title="永久链接至目标">¶</a></dt>
<dd><p>对一个字段解锁，使得该字段免于 <code class="docutils literal"><span class="pre">SecurityComponent</span></code> 的字段散列化（<em>hashing</em>）。这样可以让字段用 Javascript 操纵。<code class="docutils literal"><span class="pre">$name</span></code> 参数应当是 input 元素的字段名称:</p>
<p>Unlocks a field making it exempt from the <code class="docutils literal"><span class="pre">SecurityComponent</span></code> field
hashing. This also allows the fields to be manipulated by JavaScript.
The <code class="docutils literal"><span class="pre">$name</span></code> parameter should be the entity name for the input:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Form</span><span class="o">-&gt;</span><span class="na">unlockField</span><span class="p">(</span><span class="s1">&#39;User.id&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="FormHelper::secure">
<code class="descclassname">FormHelper::</code><code class="descname">secure</code><span class="sig-paren">(</span><em>array $fields = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#FormHelper::secure" title="永久链接至目标">¶</a></dt>
<dd><p>基于表单中使用的多个字段，生成带有安全散列值的隐藏字段。</p>
<p>Generates a hidden field with a security hash based on the fields used
in the form.</p>
</dd></dl>

</div>
<div class="section" id="updates">
<span id="form-improvements-1-3"></span><h2>2.0 updates<a class="headerlink" href="#updates" title="永久链接至标题">¶</a></h2>
<p><strong>$selected 参数去掉了</strong></p>
<p><strong>$selected parameter removed</strong></p>
<p><code class="docutils literal"><span class="pre">$selected</span></code> 参数从 FormHelper 助件的几个方法中去掉了。所有的方法现在支持 <code class="docutils literal"><span class="pre">$attributes['value']</span></code> 键，应当用它来代替 <code class="docutils literal"><span class="pre">$selected</span></code>。这个改变简化了 FormHelper 助件的方法，减少了参数的数量，并减轻了 <code class="docutils literal"><span class="pre">$selected</span></code> 导致的重复。受此影响的方法有:</p>
<p>The <code class="docutils literal"><span class="pre">$selected</span></code> parameter was removed from several methods in
FormHelper. All methods now support a <code class="docutils literal"><span class="pre">$attributes['value']</span></code> key
now which should be used in place of <code class="docutils literal"><span class="pre">$selected</span></code>. This change
simplifies the FormHelper methods, reducing the number of
arguments, and reduces the duplication that <code class="docutils literal"><span class="pre">$selected</span></code> created.
The effected methods are:</p>
<blockquote>
<div><ul class="simple">
<li>FormHelper::select()</li>
<li>FormHelper::dateTime()</li>
<li>FormHelper::year()</li>
<li>FormHelper::month()</li>
<li>FormHelper::day()</li>
<li>FormHelper::hour()</li>
<li>FormHelper::minute()</li>
<li>FormHelper::meridian()</li>
</ul>
</div></blockquote>
<p><strong>表单的默认地址就是当前的动作</strong></p>
<p><strong>Default URLs on forms is the current action</strong></p>
<p>所有表单的默认地址，现在就是当前地址。包括传入（<em>passed</em>）、命名（<em>named</em>）和查询字符串g*querystring*）参数。你可以通过在 <code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;create()</span></code> 方法的第二个参数中提供 <code class="docutils literal"><span class="pre">$options['url']</span></code> 来改变默认值。</p>
<p>The default URL for all forms, is now the current URL including
passed, named, and querystring parameters. You can override
this default by supplying <code class="docutils literal"><span class="pre">$options['url']</span></code> in the second
parameter of <code class="docutils literal"><span class="pre">$this-&gt;Form-&gt;create()</span></code></p>
<p><strong>FormHelper::hidden()</strong></p>
<p>隐藏字段不再去掉 class 属性。这意味着如果隐藏字段有验证错误，错误字段的（样式）类名就会起作用。</p>
<p>Hidden fields no longer remove the class attribute. This means
that if there are validation errors on hidden fields,
the error-field class name will be applied.</p>
</div>
</div>


			</div>
		</div>

		
		<div class="col-md-3 col-md-pull-9 pull-off hidden-xs hidden-sm" lang="zh">
			<aside class="sidebar">
				<div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">欢迎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cakephp-overview.html">CakePHP 概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controllers.html">控制器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../views.html">视图</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models.html">模型</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../core-libraries.html">核心库</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../toc-general-purpose.html">通用</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../global-constants-and-functions.html">全局常量和函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core-utility-libraries/app.html">App Class</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../events.html">Events System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collections.html">Collections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../toc-behaviors.html">行为</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc-components.html">组件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc-helpers.html">助件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc-utilities.html">工具</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">插件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../console-and-shells.html">Shells，任务与命令行工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">部署</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials-and-examples.html">教程 &amp; 实例</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices.html">Appendices</a></li>
</ul>

</div>

				</div>
			</aside>
			<aside class="sidebar">
				<div class="mb30 row">
				</div>
			</aside>
		</div>
	</div>
</div>

<section id="socials" class="back-3">
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-4  social text-center">
				<div class="col-sm-3 col-xs-3">
					<div id="fb-root"></div>
						<script>(function(d, s, id) {
						  var js, fjs = d.getElementsByTagName(s)[0];
						  if (d.getElementById(id)) return;
						  js = d.createElement(s); js.id = id;
						  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
						  fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk'));
						</script>
						<div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-8 social-footer text-center ">
				<a href="#">发现翻译错误? 请在下面留言</a>
				<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">我要加入翻译</a>
				<a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
				<a href="http://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
				<a href="http://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
				<a href="http://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
				<a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
				<a href="http://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
				<a href="http://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
				<a href="http://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
			</div>
		</div>
	</div>
</section>

<footer id="footer" class="footer-wrapper">
	<div class="container">

		<div class="row col-p30">
			<div class="col-sm-12 col-md-3">
				<div class="footer-widget t-footer">
					<div class="col-md-12">
						<a href="https://www.openhub.net/p/cakephp">
							<img src="../../_static/open-hub.png">
						</a>
						<div class="mt10">
							<a href="https://www.rackspace.com/">
								<img src="../../_static/rackspace.png">
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-12 col-md-9">
				<div class="col-md-3 col-sm-6 business-solution">
					<ul class="footer-menu">
						<li class="menu-title">
	<a href="http://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
	<a href="http://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12 text-center mt30">
				<p class="copyright">
							&copy; 版权所有 2016, Cake Software Foundation, Inc.
						最后更新于 8月 03, 2016.
						Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
				</p>
			</div>
		</div>
	</div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
  </body>
</html>