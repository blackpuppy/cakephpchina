

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="HttpSocket" lang="zh" name="title" />
<meta content="array name,array data,query parameter,query string,php class,string query,test type,string data,google,query results,webservices,apis,parameters,cakephp,meth,search results" lang="zh" name="keywords" />

    <title>HttpSocket</title>
    <link href="../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../_static/app.js"></script>

    <link rel="alternate" hreflang="en" href="../../en/core-utility-libraries/httpsocket.html" /><link rel="alternate" hreflang="pt" href="../../pt/core-utility-libraries/httpsocket.html" /><link rel="alternate" hreflang="es" href="../../es/core-utility-libraries/httpsocket.html" /><link rel="alternate" hreflang="ja" href="../../ja/core-utility-libraries/httpsocket.html" /><link rel="alternate" hreflang="fr" href="../../fr/core-utility-libraries/httpsocket.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 2.x 文档" href="../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 2.x 文档" href="../index.html" />
    <link rel="up" title="工具" href="../core-libraries/toc-utilities.html" />
    <link rel="next" title="Inflector" href="inflector.html" />
    <link rel="prev" title="Hash" href="hash.html" />

    <script type="text/javascript">
    window.lang = "zh";
    </script>
  </head>
  <body>

<div id="container">
	
	<header class="nav-down">
		<div class="container-fluid hidden-xs hidden-sm">
			<div class="row">
				<div class="col-sm-3 col-md-3">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-9 col-md-9">
					<nav class="navbar-right">
						<ul class="menu">
							<li class="first">
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
								<ul class="submenu">
									
<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
								</ul>
							</li>

							<li><a href="http://cakephp.org/business-solutions">Business Solutions</a></li>
							<li><a href="http://cakephp.org/showcase">Showcase</a></li>

							<li>
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
								<div class="megamenu full">
									<div class="row">
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
											</ul>
										</div>
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
											</ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>

		
		<div class="container-fluid hidden-md hidden-lg">
			<div class="row">
				<div class="col-sm-6 col-xs-6">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-6 col-xs-6">
					<div class="navbar-right">
						<button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
							<i class="fa fa-bars toggle-modal"></i>
						</button>
					</div>
					<div id="wrap">
						<form class="search" action="../search.html" method="get">
							<input name="q" type="search" placeholder="What are you looking for?">
							<input id="search_submit" value="搜索" type="submit">
						</form>
					</div>
				</div>
			</div>
		</div>

		
		<section id="nav-cook" class="hidden-xs hidden-sm">
			<div class="container-fluid ">
				<div class="row ">
					<div class="col-md-12 back-book">
						<div class="col-md-4 col-md-offset-1 text-center t-cook-nav p0 hidden-sm hidden-xs">
							<h2>
								<a href="../contents.html">
									<span class="glyph_range icon-submenu icon-submenu-cook">B</span>
									CakePHP 2.x <strong>Cookbook</strong>
								</a>
							</h2>
						</div>

						<div class="col-md-4 hidden-sm">
							<form class="search" action="../search.html" method="get">
								<input type="hidden" name="check_keywords" value="yes" />
								<input type="hidden" name="area" value="default" />

								<div class="col-md-10 p0">
									<input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
								</div>
								<div class="col-md-2 p0 search-cook">
									<button type="submit">
										<span class="glyph_range icon-submenu icon-submenu-cook">A</span>
									</button>
								</div>
							</form>
						</div>

						
						<div class="col-md-3">
							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Language:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
													role="button" aria-haspopup="true" aria-expanded="false" href="#">
														zh
														<i class="fa fa-menu-en fa-chevron-down"></i>
													</a>
											<ul class="dropdown-menu">
											
												<li><a href="../../en/core-utility-libraries/httpsocket.html">en</a></li>
											
												<li><a href="../../pt/core-utility-libraries/httpsocket.html">pt</a></li>
											
												<li><a href="../../es/core-utility-libraries/httpsocket.html">es</a></li>
											
												<li><a href="../../ja/core-utility-libraries/httpsocket.html">ja</a></li>
											
												<li><a href="../../fr/core-utility-libraries/httpsocket.html">fr</a></li>
											
												<li></li>
											
											</ul>
										</li>
									</ul>
								</div>
							</div>

							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Version:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">2.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
											<ul class="dropdown-menu">
												<li><a href="http://book.cakephp.org/3.0/zh">3.x Book</a></li>
												<li><a href="http://book.cakephp.org/2.0/zh">2.x Book</a></li>
												<li><a href="http://book.cakephp.org/1.3/zh/">1.3 Book</a></li>
												<li><a href="http://book.cakephp.org/1.2/zh/">1.2 Book</a></li>
												<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</section>
	</header>

	
	<section class="nav-btn visible-sm visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
				</div>

				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
				</div>
			</div>
		</div>
	</section>

	
	<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title-cookbook" id="modal-header"></h4>
				</div>
				<div class="modal-body"></div>
			</div>
		</div>
	</div>

<div class="container page-container"><div id="improve-slideout">
		<i class="fa fa-pencil icon-improve"></i>
		<a href="https://github.com/cakephp/docs/edit/master/zh/core-utility-libraries/httpsocket.rst" target="_blank">
			<div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
		</a>
	</div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

	
	<div class="row">
		<div class="col-sm-12 col-md-9 col-md-push-3 space-left push-off"><div class="page-contents col-sm-5">
				<h3>Page Contents</h3>
				<ul>
<li><a class="reference internal" href="#">HttpSocket</a><ul>
<li><a class="reference internal" href="#making-a-request">Making a request</a></li>
<li><a class="reference internal" href="#handling-the-response">Handling the response</a><ul>
<li><a class="reference internal" href="#getting-headers-from-a-response">Getting headers from a response</a></li>
<li><a class="reference internal" href="#automatically-handling-a-redirect-response">Automatically handling a redirect response</a></li>
<li><a class="reference internal" href="#handling-ssl-certificates">Handling SSL certificates</a></li>
<li><a class="reference internal" href="#creating-a-custom-response-class">Creating a custom response class</a></li>
<li><a class="reference internal" href="#downloading-the-results">Downloading the results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-authentication">Using authentication</a><ul>
<li><a class="reference internal" href="#creating-a-custom-authentication-object">Creating a custom authentication object</a></li>
<li><a class="reference internal" href="#using-a-httpsocket-with-a-proxy">Using a HttpSocket with a proxy</a></li>
</ul>
</li>
</ul>
</li>
</ul>

			</div><div class="document-body">
			
  <div class="section" id="httpsocket">
<h1>HttpSocket<a class="headerlink" href="#httpsocket" title="永久链接至标题">¶</a></h1>
<dl class="class">
<dt id="HttpSocket">
<em class="property">class </em><code class="descname">HttpSocket</code><span class="sig-paren">(</span><em>mixed $config = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#HttpSocket" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>CakePHP includes an HttpSocket class which can be used easily for
making requests. It is a great way to communicate with external webservices, or
remote apis.</p>
<div class="section" id="making-a-request">
<h2>Making a request<a class="headerlink" href="#making-a-request" title="永久链接至标题">¶</a></h2>
<p>You can use HttpSocket to create most kinds of HTTP requests with the different
HTTP methods.</p>
<dl class="method">
<dt id="HttpSocket::get">
<code class="descclassname">HttpSocket::</code><code class="descname">get</code><span class="sig-paren">(</span><em>$uri</em>, <em>$query</em>, <em>$request</em><span class="sig-paren">)</span><a class="headerlink" href="#HttpSocket::get" title="永久链接至目标">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">$query</span></code> parameter, can either be a query string, or an array of keys
and values. The get method makes a simple HTTP GET request returning the
results:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpSocket&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="nv">$HttpSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">();</span>

<span class="c1">// string query</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$HttpSocket</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;http://www.google.com/search&#39;</span><span class="p">,</span> <span class="s1">&#39;q=cakephp&#39;</span><span class="p">);</span>

<span class="c1">// array query</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$HttpSocket</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;http://www.google.com/search&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;q&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cakephp&#39;</span><span class="p">));</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="HttpSocket::post">
<code class="descclassname">HttpSocket::</code><code class="descname">post</code><span class="sig-paren">(</span><em>$uri</em>, <em>$data</em>, <em>$request</em><span class="sig-paren">)</span><a class="headerlink" href="#HttpSocket::post" title="永久链接至目标">¶</a></dt>
<dd><p>The post method makes a simple HTTP POST request returning the
results.</p>
<p>The parameters for the <code class="docutils literal"><span class="pre">post</span></code> method are almost the same as the
get method, <code class="docutils literal"><span class="pre">$uri</span></code> is the web address where the request is being
made; <code class="docutils literal"><span class="pre">$query</span></code> is the data to be posted, either as s string, or as
an array of keys and values:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpSocket&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="nv">$HttpSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">();</span>

<span class="c1">// string data</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$HttpSocket</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span>
    <span class="s1">&#39;http://example.com/add&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name=test&amp;type=user&#39;</span>
<span class="p">);</span>

<span class="c1">// array data</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;user&#39;</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$HttpSocket</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;http://example.com/add&#39;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="HttpSocket::put">
<code class="descclassname">HttpSocket::</code><code class="descname">put</code><span class="sig-paren">(</span><em>$uri</em>, <em>$data</em>, <em>$request</em><span class="sig-paren">)</span><a class="headerlink" href="#HttpSocket::put" title="永久链接至目标">¶</a></dt>
<dd><p>The put method makes a simple HTTP PUT request returning the
results.</p>
<p>The parameters for the <code class="docutils literal"><span class="pre">put</span></code> method is the same as the
<a class="reference internal" href="#HttpSocket::post" title="HttpSocket::post"><code class="xref php php-meth docutils literal"><span class="pre">post()</span></code></a> method.</p>
</dd></dl>

<dl class="method">
<dt id="HttpSocket::delete">
<code class="descclassname">HttpSocket::</code><code class="descname">delete</code><span class="sig-paren">(</span><em>$uri</em>, <em>$query</em>, <em>$request</em><span class="sig-paren">)</span><a class="headerlink" href="#HttpSocket::delete" title="永久链接至目标">¶</a></dt>
<dd><p>The put method makes a simple HTTP PUT request returning the
results.</p>
<p>The parameters for the <code class="docutils literal"><span class="pre">delete</span></code> method is the same as the
<a class="reference internal" href="#HttpSocket::get" title="HttpSocket::get"><code class="xref php php-meth docutils literal"><span class="pre">get()</span></code></a> method. The <code class="docutils literal"><span class="pre">$query</span></code> parameter can either be a string or an array
of query string arguments for the request.</p>
</dd></dl>

<dl class="method">
<dt id="HttpSocket::request">
<code class="descclassname">HttpSocket::</code><code class="descname">request</code><span class="sig-paren">(</span><em>$request</em><span class="sig-paren">)</span><a class="headerlink" href="#HttpSocket::request" title="永久链接至目标">¶</a></dt>
<dd><p>The base request method, which is called from all the wrappers
(get, post, put, delete). Returns the results of the request.</p>
<p>$request is a keyed array of various options. Here is the format
and default settings:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="nv">$request</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;method&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;GET&#39;</span><span class="p">,</span>
    <span class="s1">&#39;uri&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;scheme&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;http&#39;</span><span class="p">,</span>
        <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">80</span><span class="p">,</span>
        <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;pass&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;query&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;fragment&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span>
    <span class="p">),</span>
    <span class="s1">&#39;auth&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;method&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Basic&#39;</span><span class="p">,</span>
        <span class="s1">&#39;user&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
        <span class="s1">&#39;pass&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span>
    <span class="p">),</span>
    <span class="s1">&#39;version&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;1.1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;body&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;line&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
    <span class="s1">&#39;header&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;Connection&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span>
        <span class="s1">&#39;User-Agent&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;CakePHP&#39;</span>
    <span class="p">),</span>
    <span class="s1">&#39;raw&#39;</span> <span class="o">=&gt;</span> <span class="k">null</span><span class="p">,</span>
    <span class="s1">&#39;redirect&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="s1">&#39;cookies&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">()</span>
<span class="p">);</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="handling-the-response">
<h2>Handling the response<a class="headerlink" href="#handling-the-response" title="永久链接至标题">¶</a></h2>
<p>Responses from requests made with <code class="docutils literal"><span class="pre">HttpSocket</span></code> are instances of
<code class="docutils literal"><span class="pre">HttpResponse</span></code>.  This object gives you a few accessor methods to access the
contents of an HTTP response. This class implements the
<a class="reference external" href="http://php.net/manual/en/class.arrayaccess.php">ArrayAccess</a> and
<a class="reference external" href="http://www.php.net/manual/en/language.oop5.magic.php#language.oop5.magic.tostring">__toString()</a>,
so you can continue using the <code class="docutils literal"><span class="pre">$http-&gt;response</span></code> as array and the return of
request methods as string:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpSocket&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="nv">$http</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$http</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;http://www.cakephp.org&#39;</span><span class="p">);</span>

<span class="c1">// Check the body for the presence of a title tag.</span>
<span class="nv">$titlePos</span> <span class="o">=</span> <span class="nb">strpos</span><span class="p">(</span><span class="nv">$response</span><span class="o">-&gt;</span><span class="na">body</span><span class="p">,</span> <span class="s1">&#39;&lt;title&gt;&#39;</span><span class="p">);</span>

<span class="c1">// Get the status code for the response.</span>
<span class="nv">$code</span> <span class="o">=</span> <span class="nv">$response</span><span class="o">-&gt;</span><span class="na">code</span><span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">HttpResponse</span></code> has the following attributes:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">body</span></code> returns body of HTTP response (normally the HTML).</li>
<li><code class="docutils literal"><span class="pre">headers</span></code> returns array with headers.</li>
<li><code class="docutils literal"><span class="pre">cookies</span></code> returns array with new cookies (cookies from others request are not stored here).</li>
<li><code class="docutils literal"><span class="pre">httpVersion</span></code> returns string with HTTP version (from first line in response).</li>
<li><code class="docutils literal"><span class="pre">code</span></code> returns the integer with HTTP code.</li>
<li><code class="docutils literal"><span class="pre">reasonPhrase</span></code> returns the string with HTTP code response.</li>
<li><code class="docutils literal"><span class="pre">raw</span></code> returns the unchanged response from server.</li>
</ul>
<p>The <code class="docutils literal"><span class="pre">HttpResponse</span></code> also exposes the following methods:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">body()</span></code> returns the body</li>
<li><code class="docutils literal"><span class="pre">isOk()</span></code> returns if code is 200;</li>
<li><code class="docutils literal"><span class="pre">isRedirect()</span></code> returns if code is 301, 302, 303 or 307 and the <em>Location</em> header is set.</li>
<li><code class="docutils literal"><span class="pre">getHeader()</span></code> allows you to fetch headers, see the next section.</li>
</ul>
<div class="section" id="getting-headers-from-a-response">
<h3>Getting headers from a response<a class="headerlink" href="#getting-headers-from-a-response" title="永久链接至标题">¶</a></h3>
<p>Following others places in core, the HttpSocket does not change the casing of
headers.  <span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a> states that headers are case insensitive, and HttpSocket
preserves the values the remote host sends:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="nx">OK</span>
<span class="nx">Date</span><span class="o">:</span> <span class="nx">Mon</span><span class="p">,</span> <span class="mi">16</span> <span class="nx">Apr</span> <span class="mi">2007</span> <span class="mo">04</span><span class="o">:</span><span class="mi">14</span><span class="o">:</span><span class="mi">16</span> <span class="nx">GMT</span>
<span class="nx">server</span><span class="o">:</span> <span class="nx">CakeHttp</span> <span class="nx">Server</span>
<span class="nx">content</span><span class="o">-</span><span class="nx">tyPe</span><span class="o">:</span> <span class="nx">text</span><span class="o">/</span><span class="nx">html</span>
</pre></div>
</div>
<p>Your <code class="docutils literal"><span class="pre">$response-&gt;headers</span></code> (or <code class="docutils literal"><span class="pre">$response['header']</span></code>) will contain the exact
keys sent. In order to safely access the header fields, it&#8217;s best to use
<code class="docutils literal"><span class="pre">getHeader()</span></code>.  If your headers looks like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Date</span><span class="o">:</span> <span class="nx">Mon</span><span class="p">,</span> <span class="mi">16</span> <span class="nx">Apr</span> <span class="mi">2007</span> <span class="mo">04</span><span class="o">:</span><span class="mi">14</span><span class="o">:</span><span class="mi">16</span> <span class="nx">GMT</span>
<span class="nx">server</span><span class="o">:</span> <span class="nx">CakeHttp</span> <span class="nx">Server</span>
<span class="nx">content</span><span class="o">-</span><span class="nx">tyPe</span><span class="o">:</span> <span class="nx">text</span><span class="o">/</span><span class="nx">html</span>
</pre></div>
</div>
<p>You could fetch the above headers by calling:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// $response is an instance of HttpResponse</span>
<span class="c1">// get the Content-Type header.</span>
<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getHeader</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">);</span>

<span class="c1">// get the date</span>
<span class="nv">$response</span><span class="o">-&gt;</span><span class="na">getHeader</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Headers can be fetched case-insensitively.</p>
</div>
<div class="section" id="automatically-handling-a-redirect-response">
<h3>Automatically handling a redirect response<a class="headerlink" href="#automatically-handling-a-redirect-response" title="永久链接至标题">¶</a></h3>
<p>When the response has a valid redirect status code (see <code class="docutils literal"><span class="pre">HttpResponse::isRedirect</span></code>),
an extra request can be automatically done according to the received <em>Location</em> header:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpSocket&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="nv">$HttpSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">();</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$HttpSocket</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;http://example.com/redirecting_url&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;redirect&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
</pre></div>
</div>
<p>The <em>redirect</em> option can take the following values</p>
<ul class="simple">
<li><strong>true</strong> : all redirecting responses will fire a consequent new request</li>
<li><strong>integer</strong> : the set value is the maximum number of redirections allowed (after reaching it, the <em>redirect</em> value is considered as <strong>false</strong>)</li>
<li><strong>false</strong> (default) : no consequent request will be fired</li>
</ul>
<p>The returned <code class="docutils literal"><span class="pre">$response</span></code> will be the final one, according to the settings.</p>
</div>
<div class="section" id="handling-ssl-certificates">
<span id="http-socket-ssl-options"></span><h3>Handling SSL certificates<a class="headerlink" href="#handling-ssl-certificates" title="永久链接至标题">¶</a></h3>
<p>When making requests to SSL services HttpSocket will attempt to validate the SSL
certifcate using peer validation. If the certificate fails peer validation or
does not match the hostname being accessed the connection will fail, and an
exception will be thrown. By default HttpSocket will use the mozilla certificate
authority file to verify SSL certificates. You can use the following options to
configure how SSL certificates are handled:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ssl_verify_peer</span></code> Set to false to disable SSL verification.  This is
<strong>not recommended</strong>.</li>
<li><code class="docutils literal"><span class="pre">ssl_verify_host</span></code> Set to false if you wish to ignore hostname match errors
when validating certificates.</li>
<li><code class="docutils literal"><span class="pre">ssl_allow_self_signed</span></code> Set to true to enable self-signed certificates to be
accepted. This requires <code class="docutils literal"><span class="pre">ssl_verify_peer</span></code> to be enabled.</li>
<li><code class="docutils literal"><span class="pre">ssl_cafile</span></code> Set to the absolute path of the Certificate Authority file that
you wish to use for verifying SSL certificates.</li>
</ul>
<p>These options are provided as constructor arguments:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;ssl_allow_self_signed&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Would allow self-signed certificates for all requests made with the created
socket.</p>
<div class="versionadded">
<p><span class="versionmodified">2.3 新版功能: </span>SSL certificate validation was added in 2.3.</p>
</div>
</div>
<div class="section" id="creating-a-custom-response-class">
<h3>Creating a custom response class<a class="headerlink" href="#creating-a-custom-response-class" title="永久链接至标题">¶</a></h3>
<p>You can create your own response class to use with HttpSocket. You could create
the file <code class="docutils literal"><span class="pre">app/Lib/Network/Http/YourResponse.php</span></code> with the content:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpResponse&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="k">class</span> <span class="nc">YourResponse</span> <span class="k">extends</span> <span class="nx">HttpResponse</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">parseResponse</span><span class="p">(</span><span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">parseResponse</span><span class="p">(</span><span class="nv">$message</span><span class="p">);</span>
        <span class="c1">// Make what you want</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Before your request you&#8217;ll need to change the responseClass property:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpSocket&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="nv">$http</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">();</span>
<span class="nv">$http</span><span class="o">-&gt;</span><span class="na">responseClass</span> <span class="o">=</span> <span class="s1">&#39;YourResponse&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">在 2.3 版更改: </span>As of 2.3.0 you should extend <code class="docutils literal"><span class="pre">HttpSocketResponse</span></code> instead.  This
avoids a common issue with the http pecl extension.</p>
</div>
</div>
<div class="section" id="downloading-the-results">
<h3>Downloading the results<a class="headerlink" href="#downloading-the-results" title="永久链接至标题">¶</a></h3>
<p>HttpSocket has a new method called <cite>setContentResource()</cite>. By setting a resource
with this method, the content will be written to this resource, using
<cite>fwrite()</cite>. To you download a file, you can do:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpSocket&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="nv">$http</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">();</span>
<span class="nv">$f</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="nx">TMP</span> <span class="o">.</span> <span class="s1">&#39;bakery.xml&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">);</span>
<span class="nv">$http</span><span class="o">-&gt;</span><span class="na">setContentResource</span><span class="p">(</span><span class="nv">$f</span><span class="p">);</span>
<span class="nv">$http</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;http://bakery.cakephp.org/comments.rss&#39;</span><span class="p">);</span>
<span class="nb">fclose</span><span class="p">(</span><span class="nv">$f</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">The headers are not included in file, you will only get the body content
written to your resource. To disable saving into the resource, use
<code class="docutils literal"><span class="pre">$http-&gt;setContentResource(false)</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="using-authentication">
<h2>Using authentication<a class="headerlink" href="#using-authentication" title="永久链接至标题">¶</a></h2>
<p>HttpSocket supports a HTTP Basic and Digest authentication methods out of the
box.  You can also create custom authentication objects to support protocols
like OAuth.  To use any authentication system you need to configure the
<code class="docutils literal"><span class="pre">HttpSocket</span></code> instance:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;HttpSocket&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Http&#39;</span><span class="p">);</span>

<span class="nv">$http</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">HttpSocket</span><span class="p">();</span>
<span class="nv">$http</span><span class="o">-&gt;</span><span class="na">configAuth</span><span class="p">(</span><span class="s1">&#39;Basic&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The above would configure the <code class="docutils literal"><span class="pre">HttpSocket</span></code> instance to use Basic
authentication using <code class="docutils literal"><span class="pre">user</span></code> and <code class="docutils literal"><span class="pre">password</span></code> as the credentials.</p>
<div class="section" id="creating-a-custom-authentication-object">
<h3>Creating a custom authentication object<a class="headerlink" href="#creating-a-custom-authentication-object" title="永久链接至标题">¶</a></h3>
<p>You can now create your own authentication method to use with HttpSocket. You
could create the file <code class="docutils literal"><span class="pre">app/Lib/Network/Http/YourMethodAuthentication.php</span></code> with the
content:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">YourMethodAuthentication</span> <span class="p">{</span>

<span class="sd">/**</span>
<span class="sd"> * Authentication</span>
<span class="sd"> *</span>
<span class="sd"> * @param HttpSocket $http</span>
<span class="sd"> * @param array $authInfo</span>
<span class="sd"> * @return void</span>
<span class="sd"> */</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">authentication</span><span class="p">(</span><span class="nx">HttpSocket</span> <span class="nv">$http</span><span class="p">,</span> <span class="o">&amp;</span><span class="nv">$authInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Do something, for example set $http-&gt;request[&#39;header&#39;][&#39;Authentication&#39;] value</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>To configure HttpSocket to use your auth configuration, you can use the new
method <code class="docutils literal"><span class="pre">configAuth()</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$http</span><span class="o">-&gt;</span><span class="na">configAuth</span><span class="p">(</span><span class="s1">&#39;YourMethod&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;config1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;config2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value2&#39;</span><span class="p">));</span>
<span class="nv">$http</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;http://secure.your-site.com&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">authentication()</span></code> method will be called to append the request headers.</p>
</div>
<div class="section" id="using-a-httpsocket-with-a-proxy">
<h3>Using a HttpSocket with a proxy<a class="headerlink" href="#using-a-httpsocket-with-a-proxy" title="永久链接至标题">¶</a></h3>
<p>As part of auth configuration, you can configure proxy authentication. You can
create your customized method to proxy authentication in the same class of
authentication. For example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">YourMethodAuthentication</span> <span class="p">{</span>

<span class="sd">/**</span>
<span class="sd"> * Authentication</span>
<span class="sd"> *</span>
<span class="sd"> * @param HttpSocket $http</span>
<span class="sd"> * @param array $authInfo</span>
<span class="sd"> * @return void</span>
<span class="sd"> */</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">authentication</span><span class="p">(</span><span class="nx">HttpSocket</span> <span class="nv">$http</span><span class="p">,</span> <span class="o">&amp;</span><span class="nv">$authInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Do something, for example set $http-&gt;request[&#39;header&#39;][&#39;Authentication&#39;] value</span>
    <span class="p">}</span>

<span class="sd">/**</span>
<span class="sd"> * Proxy Authentication</span>
<span class="sd"> *</span>
<span class="sd"> * @param HttpSocket $http</span>
<span class="sd"> * @param array $proxyInfo</span>
<span class="sd"> * @return void</span>
<span class="sd"> */</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">proxyAuthentication</span><span class="p">(</span><span class="nx">HttpSocket</span> <span class="nv">$http</span><span class="p">,</span> <span class="o">&amp;</span><span class="nv">$proxyInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Do something, for example set $http-&gt;request[&#39;header&#39;][&#39;Proxy-Authentication&#39;] value</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">To use a proxy, you must call the <code class="docutils literal"><span class="pre">HttpSocket::configProxy()</span></code> similar to
<code class="docutils literal"><span class="pre">HttpSocket::configAuth()</span></code>.</p>
</div>
</div>
</div>
</div>


			</div>
		</div>

		
		<div class="col-md-3 col-md-pull-9 pull-off hidden-xs hidden-sm" lang="zh">
			<aside class="sidebar">
				<div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">欢迎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cakephp-overview.html">CakePHP 概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">控制器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">视图</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">模型</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core-libraries.html">核心库</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-general-purpose.html">通用</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-behaviors.html">行为</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-components.html">组件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-helpers.html">助件</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../core-libraries/toc-utilities.html">工具</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/caching.html">缓存</a></li>
<li class="toctree-l3"><a class="reference internal" href="email.html">CakeEmail</a></li>
<li class="toctree-l3"><a class="reference internal" href="file-folder.html">目录和文件 Folder &amp; File</a></li>
<li class="toctree-l3"><a class="reference internal" href="hash.html">Hash</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">HttpSocket</a></li>
<li class="toctree-l3"><a class="reference internal" href="inflector.html">Inflector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/internationalization-and-localization.html">Internationalization &amp; Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/logging.html">日志记录</a></li>
<li class="toctree-l3"><a class="reference internal" href="number.html">CakeNumber</a></li>
<li class="toctree-l3"><a class="reference internal" href="router.html">Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="sanitize.html">数据清理 Data Sanitization</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html">安全</a></li>
<li class="toctree-l3"><a class="reference internal" href="set.html">Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="string.html">字符串 String</a></li>
<li class="toctree-l3"><a class="reference internal" href="time.html">CakeTime</a></li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">Xml</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">插件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Shells，任务与命令行工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">开发</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">部署</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">教程 &amp; 实例</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

				</div>
			</aside>
			<aside class="sidebar">
				<div class="mb30 row">
				</div>
			</aside>
		</div>
	</div>
</div>

<section id="socials" class="back-3">
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-4  social text-center">
				<div class="col-sm-3 col-xs-3">
					<div id="fb-root"></div>
						<script>(function(d, s, id) {
						  var js, fjs = d.getElementsByTagName(s)[0];
						  if (d.getElementById(id)) return;
						  js = d.createElement(s); js.id = id;
						  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
						  fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk'));
						</script>
						<div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-8 social-footer text-center ">
				<a href="#">发现翻译错误? 请在下面留言</a>
				<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">我要加入翻译</a>
				<a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
				<a href="http://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
				<a href="http://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
				<a href="http://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
				<a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
				<a href="http://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
				<a href="http://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
				<a href="http://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
			</div>
		</div>
	</div>
</section>

<footer id="footer" class="footer-wrapper">
	<div class="container">

		<div class="row col-p30">
			<div class="col-sm-12 col-md-3">
				<div class="footer-widget t-footer">
					<div class="col-md-12">
						<a href="https://www.openhub.net/p/cakephp">
							<img src="../_static/open-hub.png">
						</a>
						<div class="mt10">
							<a href="https://www.rackspace.com/">
								<img src="../_static/rackspace.png">
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-12 col-md-9">
				<div class="col-md-3 col-sm-6 business-solution">
					<ul class="footer-menu">
						<li class="menu-title">
	<a href="http://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
	<a href="http://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12 text-center mt30">
				<p class="copyright">
							&copy; 版权所有 2016, Cake Software Foundation, Inc.
						最后更新于 8月 13, 2016.
						Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
				</p>
			</div>
		</div>
	</div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
  </body>
</html>