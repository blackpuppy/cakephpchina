
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="I18N shell" lang="en" name="title" />
<meta content="pot files,locale default,translation tools,message string,app locale,php class,validation,i18n,translations,shell,models" lang="en" name="keywords" />

    <title>I18N shell &mdash; CakePHP Cookbook 2.x documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/app.js"></script>
    <script type="text/javascript" src="../_static/modernizr.foundation.js"></script>
    <script type="text/javascript" src="../_static/foundation.js"></script>
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../index.html" />
    <link rel="up" title="Console and Shells" href="../console-and-shells.html" />
    <link rel="next" title="ACL Shell" href="acl-shell.html" />
    <link rel="prev" title="Schema management and migrations" href="schema-management-and-migrations.html" />
<link href="../_static/favicon.ico" type="image/x-icon" rel="icon" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="alternate" hreflang="pt" href="../../pt/console-and-shells/i18n-shell.html" /><link rel="alternate" hreflang="es" href="../../es/console-and-shells/i18n-shell.html" /><link rel="alternate" hreflang="ja" href="../../ja/console-and-shells/i18n-shell.html" /><link rel="alternate" hreflang="fr" href="../../fr/console-and-shells/i18n-shell.html" /><link rel="alternate" hreflang="zh_CN" href="../../zh/console-and-shells/i18n-shell.html" />

<link rel="search" type="application/opensearchdescription+xml" title="CakePHP Book 2.x Search" href="../_static/opensearchdescription-book-2-x.xml">
<script type="text/javascript">
window.lang = "en";
</script>

  </head>
  <body>

<div id="container">

<div id="cakephp-global-navigation">
	<ul>
		<li class="main"><a href="http://cakephp.org">CakePHP</a></li>
		<li class="primary"><a href="#" class="empty">Downloads</a>
			<ul class="second-level">
				<li><a href="https://github.com/cakephp/cakephp/tags">Releases</a></li>
				<li><a href="http://pear.cakephp.org">Pear channel</a></li>
			</ul>
		</li>
		<li class="primary"><a href="#" class="empty">Documentation</a>
			<ul class="second-level">
				<li><a href="http://api.cakephp.org">API</a></li>
				<li><a href="http://book.cakephp.org">Book</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://community.cakephp.org">Community</a>
			<ul class="second-level">
				<li><a href="http://webchat.freenode.net/?channels=cakephp&uio=MT1mYWxzZSY5PXRydWUmMTE9MjQ2b8">Help &amp; Support</a></li>
				<li><a href="https://github.com/cakephp/cakephp/issues">Issues</a></li>
				<li><a href="http://bakery.cakephp.org">The Bakery</a></li>
				<li><a href="http://stackoverflow.com/tags/cakephp">Stack Overflow</a></li>
				<li><a href="http://www.facebook.com/groups/cake.community">Facebook Group</a></li>
				<li><a href="http://goo.gl/mSC0s">Google+ Community</a></li>
				<li><a href="http://www.youtube.com/user/CakePHP">YouTube Channel</a></li>
				<li><a href="http://podcast.cakephp.org">CakePHP Podcast</a></li>
				<li><a href="http://twitter.com/CakePHP">Follow us on Twitter</a></li>
				<li><a href="http://groups.google.com/group/cake-php">Google Group</a></li>
				<li><a href="http://github.com/cakephp/cakephp/contributors">Contributors</a></li>
				<li><a href="http://plugins.cakephp.org">Plugins &amp; Packages</a></li>
				<li><a href="http://community.cakephp.org/get-involved">Get Involved</a></li>
				<li><a href="http://community.cakephp.org/guidelines">Guidelines</a></li>
				<li><a href="http://cakefest.org">CakeFest</a></li>
				<li><a href="http://cakephp.org/logos">Logo</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://cakephp.org/services">Services</a>
			<ul class="second-level">
				<li><a href="http://cakephp.org/services/certification">Certification</a></li>
				<li><a href="http://cakephp.org/services/consultation">Consultation</a></li>
				<li><a href="http://cakephp.org/services/support">Support</a></li>
				<li><a href="http://training.cakephp.org">Training</a></li>
			</ul>
		</li>
	</ul>
</div>

<div class="masthead">
	<div class="header-backing"></div>
	<div class="searchbar row">
		<div class="columns three phone-one">
			<a class="logo" href="../contents.html">
			<img src="../_static/cake-logo.png" alt="CakePHP" width="70" />
			</a>
		</div>
		
<div id="searchbox" class="columns nine phone-three">

	<form id="searchform" class="search" action="../search.html" method="get">
		<input class="search-input" autocomplete="off" type="search" name="q" size="18" />
		<input class="search-submit search-big button red" type="submit" value="Search" />
		<input type="hidden" name="check_keywords" value="yes" />
		<input type="hidden" name="area" value="default" />

		<a href="#" id="tablet-nav" class="show-on-phones pale button small">Nav</a>
	</form>

</div>
	</div>
</div>
<div class="breadcrumb-header">
	<div class="related row">
		<div class="columns three root-link">
			<a href="../contents.html">Cookbook 2.x</a>
		</div>
		<div class="columns nine">
			<ul class="inline breadcrumb">
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../console-and-shells.html" accesskey="U" itemprop="url"><span itemprop="title">Console and Shells</span></a>
			</li>
			</ul>
			<div class="versions dropdown">
				<a href="#">2.x Book</a>
				<ul>
					<li><a href="http://book.cakephp.org/3.0/en">3.0 Book</a></li>
					<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
					<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
					<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
				</ul>
			</div>

			<div class="languages dropdown">
				<a href="#">en</a>

				<ul>
				
					<li></li>
				
					<li><a href="../../pt/console-and-shells/i18n-shell.html">pt</a></li>
				
					<li><a href="../../es/console-and-shells/i18n-shell.html">es</a></li>
				
					<li><a href="../../ja/console-and-shells/i18n-shell.html">ja</a></li>
				
					<li><a href="../../fr/console-and-shells/i18n-shell.html">fr</a></li>
				
					<li><a href="../../zh/console-and-shells/i18n-shell.html">zh_CN</a></li>
				
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="content row">
	<div class="document columns nine push-three">
		<div class="body"><a class="button pale improve" href="https://github.com/cakephp/docs/edit/master/en/console-and-shells/i18n-shell.rst" target="_blank">Improve this Doc</a>
  <div class="section" id="i18n-shell">
<h1>I18N shell<a class="headerlink" href="#i18n-shell" title="Permalink to this headline">¶</a></h1>
<p>The i18n features of CakePHP use <a class="reference external" href="http://en.wikipedia.org/wiki/GNU_gettext">po files</a>
as their translation source. This makes them easily to integrate with tools
like <a class="reference external" href="http://www.poedit.net/">poedit</a> and other common translation tools.</p>
<p>The i18n shell provides a quick and easy way to generate po template files.
These templates files can then be given to translators so they can translate the
strings in your application. Once you have translations done, pot files can be
merged with existing translations to help update your translations.</p>
<div class="section" id="generating-pot-files">
<h2>Generating POT files<a class="headerlink" href="#generating-pot-files" title="Permalink to this headline">¶</a></h2>
<p>POT files can be generated for an existing application using the <tt class="docutils literal"><span class="pre">extract</span></tt>
command. This command will scan your entire application for <tt class="docutils literal"><span class="pre">__()</span></tt> style
function calls, and extract the message string. Each unique string in your
application will be combined into a single POT file:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span>
</pre></div>
</div>
<p>The above will run the extraction shell. In addition to extracting strings in <tt class="docutils literal"><span class="pre">__()</span></tt>
methods, validation messages in models will be extracted as well. The result of
this command will be the file <tt class="docutils literal"><span class="pre">app/Locale/default.pot</span></tt>. You use the pot file
as a template for creating po files. If you are manually creating po files from
the pot file, be sure to correctly set the <tt class="docutils literal"><span class="pre">Plural-Forms</span></tt> header line.</p>
<div class="section" id="generating-pot-files-for-plugins">
<h3>Generating POT files for plugins<a class="headerlink" href="#generating-pot-files-for-plugins" title="Permalink to this headline">¶</a></h3>
<p>You can generate a POT file for a specific plugin using:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span> <span class="o">--</span><span class="nx">plugin</span> <span class="o">&lt;</span><span class="nx">Plugin</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This will generate the required POT files used in the plugins.</p>
</div>
<div class="section" id="model-validation-messages">
<h3>Model validation messages<a class="headerlink" href="#model-validation-messages" title="Permalink to this headline">¶</a></h3>
<p>You can set the domain to be used for extracted validation messages in your models.
If the model already has a <tt class="docutils literal"><span class="pre">$validationDomain</span></tt> property, the given validation
domain will be ignored:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span> <span class="o">--</span><span class="nx">validation</span><span class="o">-</span><span class="nx">domain</span> <span class="nx">validation_errors</span>
</pre></div>
</div>
<p>You can also prevent the shell from extracting validation messages:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span> <span class="o">--</span><span class="nx">ignore</span><span class="o">-</span><span class="nx">model</span><span class="o">-</span><span class="nx">validation</span>
</pre></div>
</div>
</div>
<div class="section" id="excluding-folders">
<h3>Excluding folders<a class="headerlink" href="#excluding-folders" title="Permalink to this headline">¶</a></h3>
<p>You can pass a comma separated list of folders that you wish to be excluded.
Any path containing a path segment with the provided values will be ignored:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span> <span class="o">--</span><span class="nx">exclude</span> <span class="nx">Test</span><span class="p">,</span><span class="nx">Vendor</span>
</pre></div>
</div>
</div>
<div class="section" id="skipping-overwrite-warnings-for-existing-pot-files">
<h3>Skipping overwrite warnings for existing POT files<a class="headerlink" href="#skipping-overwrite-warnings-for-existing-pot-files" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2.</span></p>
</div>
<p>By adding &#8211;overwrite, the shell script will no longer warn you if a POT file
already exists and will overwrite by default:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span> <span class="o">--</span><span class="nx">overwrite</span>
</pre></div>
</div>
</div>
<div class="section" id="extracting-messages-from-the-cakephp-core-libraries">
<h3>Extracting messages from the CakePHP core libraries<a class="headerlink" href="#extracting-messages-from-the-cakephp-core-libraries" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2.</span></p>
</div>
<p>By default, the extract shell script will ask you if you like to extract
the messages used in the CakePHP core libraries. Set &#8211;extract-core to yes or
no to set the default behavior.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span> <span class="o">--</span><span class="nb">extract</span><span class="o">-</span><span class="nx">core</span> <span class="nx">yes</span>

<span class="k">or</span>

<span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nb">extract</span> <span class="o">--</span><span class="nb">extract</span><span class="o">-</span><span class="nx">core</span> <span class="nx">no</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-the-tables-used-by-translatebehavior">
<h2>Create the tables used by TranslateBehavior<a class="headerlink" href="#create-the-tables-used-by-translatebehavior" title="Permalink to this headline">¶</a></h2>
<p>The i18n shell can also be used to initialize the default tables used by the
<a class="reference internal" href="../core-libraries/behaviors/translate.html#TranslateBehavior" title="TranslateBehavior"><tt class="xref php php-class docutils literal"><span class="pre">TranslateBehavior</span></tt></a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">./</span><span class="nx">Console</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">i18n</span> <span class="nx">initdb</span>
</pre></div>
</div>
<p>This will create the <tt class="docutils literal"><span class="pre">i18n</span></tt> table used by translate behavior.</p>
</div>
</div>


		</div>
	</div>

	<div class="sidebar columns three pull-nine">
<div id="sidebar-navigation" class="hide-on-phones">
	<h2 class="hide-on-desktops">Table of Contents</h2>
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries.html">Core Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../console-and-shells.html">Console and Shells</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cron-jobs.html">Running Shells as cronjobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="completion-shell.html">Completion Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="code-generation-with-bake.html">Code Generation with Bake</a></li>
<li class="toctree-l2"><a class="reference internal" href="schema-management-and-migrations.html">Schema management and migrations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">I18N shell</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="acl-shell.html">ACL Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="testsuite-shell.html">Test shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade-shell.html">Upgrade shell</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

<div class="page-contents">
	<h3>Page contents</h3>
	<ul>
<li><a class="reference internal" href="#">I18N shell</a><ul>
<li><a class="reference internal" href="#generating-pot-files">Generating POT files</a><ul>
<li><a class="reference internal" href="#generating-pot-files-for-plugins">Generating POT files for plugins</a></li>
<li><a class="reference internal" href="#model-validation-messages">Model validation messages</a></li>
<li><a class="reference internal" href="#excluding-folders">Excluding folders</a></li>
<li><a class="reference internal" href="#skipping-overwrite-warnings-for-existing-pot-files">Skipping overwrite warnings for existing POT files</a></li>
<li><a class="reference internal" href="#extracting-messages-from-the-cakephp-core-libraries">Extracting messages from the CakePHP core libraries</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-the-tables-used-by-translatebehavior">Create the tables used by TranslateBehavior</a></li>
</ul>
</li>
</ul>

</div>
	</div>

</div>

<div class="content row">
	<ul class="related-pages inline">
	<li>
		<a href="../genindex.html" title="General Index" accesskey="I">index</a>
	</li>
	<li>
		<a href="acl-shell.html" title="ACL Shell" accesskey="N">next</a>
	</li>
	<li>
		<a href="schema-management-and-migrations.html" title="Schema management and migrations" accesskey="P">previous</a>
	</li>
	</ul>
</div>

	<div class="footer-push"> </div>
</div>






<div class="footer">
	<div class="row">
		<div class="columns six offset-by-three contribute">
			<strong>发现翻译错误?</strong>
			请在下面留言<br />
			<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">[ 我要加入翻译 ]</a>
		</div>
	</div>
	
	<div class="row">
		<div class="columns nine offset-by-three copyright">
					&copy; Copyright 2014, Cake Software Foundation, Inc.
				Last updated on Sep 04, 2015.
				Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
		</div>
	</div>
</div>

<div id="nav-modal" class="reveal-modal"> </div>
<div id="inline-search-results"></div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->

<!-- Grunt Live Reload -->
<script src="http://192.168.56.113:35729/livereload.js"></script>
  </body>
</html>