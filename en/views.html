

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Views" lang="en" name="title" />
<meta content="view logic,csv file,response elements,code elements,default extension,json,flash object,remote application,twig,subclass,ajax,reply,soap,functionality,cakephp,audience,xml,mvc" lang="en" name="keywords" />

    <title>Views</title>
    <link href="_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="_static/app.js"></script>

    <link rel="alternate" hreflang="pt" href="../pt/views.html" /><link rel="alternate" hreflang="es" href="../es/views.html" /><link rel="alternate" hreflang="ja" href="../ja/views.html" /><link rel="alternate" hreflang="fr" href="../fr/views.html" /><link rel="alternate" hreflang="zh" href="../zh/views.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 2.x documentation" href="_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="index.html" />
    <link rel="next" title="Themes" href="views/themes.html" />
    <link rel="prev" title="Components" href="controllers/components.html" />

    <script type="text/javascript">
    window.lang = "en";
    </script>
  </head>
  <body>

<div id="container">
	
	<header class="nav-down">
		<div class="container-fluid hidden-xs hidden-sm">
			<div class="row">
				<div class="col-sm-3 col-md-3">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-9 col-md-9">
					<nav class="navbar-right">
						<ul class="menu">
							<li class="first">
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
								<ul class="submenu">
									
<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
								</ul>
							</li>

							<li><a href="http://cakephp.org/business-solutions">Business Solutions</a></li>
							<li><a href="http://cakephp.org/showcase">Showcase</a></li>

							<li>
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
								<div class="megamenu full">
									<div class="row">
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
											</ul>
										</div>
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
											</ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>

		
		<div class="container-fluid hidden-md hidden-lg">
			<div class="row">
				<div class="col-sm-6 col-xs-6">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-6 col-xs-6">
					<div class="navbar-right">
						<button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
							<i class="fa fa-bars toggle-modal"></i>
						</button>
					</div>
					<div id="wrap">
						<form class="search" action="search.html" method="get">
							<input name="q" type="search" placeholder="What are you looking for?">
							<input id="search_submit" value="Search" type="submit">
						</form>
					</div>
				</div>
			</div>
		</div>

		
		<section id="nav-cook" class="hidden-xs hidden-sm">
			<div class="container-fluid ">
				<div class="row ">
					<div class="col-md-12 back-book">
						<div class="col-md-4 col-md-offset-1 text-center t-cook-nav p0 hidden-sm hidden-xs">
							<h2>
								<a href="contents.html">
									<span class="glyph_range icon-submenu icon-submenu-cook">B</span>
									CakePHP 2.x <strong>Cookbook</strong>
								</a>
							</h2>
						</div>

						<div class="col-md-4 hidden-sm">
							<form class="search" action="search.html" method="get">
								<input type="hidden" name="check_keywords" value="yes" />
								<input type="hidden" name="area" value="default" />

								<div class="col-md-10 p0">
									<input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
								</div>
								<div class="col-md-2 p0 search-cook">
									<button type="submit">
										<span class="glyph_range icon-submenu icon-submenu-cook">A</span>
									</button>
								</div>
							</form>
						</div>

						
						<div class="col-md-3">
							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Language:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
													role="button" aria-haspopup="true" aria-expanded="false" href="#">
														en
														<i class="fa fa-menu-en fa-chevron-down"></i>
													</a>
											<ul class="dropdown-menu">
											
												<li></li>
											
												<li><a href="../pt/views.html">pt</a></li>
											
												<li><a href="../es/views.html">es</a></li>
											
												<li><a href="../ja/views.html">ja</a></li>
											
												<li><a href="../fr/views.html">fr</a></li>
											
												<li><a href="../zh/views.html">zh</a></li>
											
											</ul>
										</li>
									</ul>
								</div>
							</div>

							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Version:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">2.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
											<ul class="dropdown-menu">
												<li><a href="http://book.cakephp.org/3.0/en">3.x Book</a></li>
												<li><a href="http://book.cakephp.org/2.0/en">2.x Book</a></li>
												<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
												<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
												<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</section>
	</header>

	
	<section class="nav-btn visible-sm visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
				</div>

				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
				</div>
			</div>
		</div>
	</section>

	
	<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title-cookbook" id="modal-header"></h4>
				</div>
				<div class="modal-body"></div>
			</div>
		</div>
	</div>

<div class="container page-container"><div id="improve-slideout">
		<i class="fa fa-pencil icon-improve"></i>
		<a href="https://github.com/cakephp/docs/edit/master/en/views.rst" target="_blank">
			<div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
		</a>
	</div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

	
	<div class="row">
		<div class="col-sm-12 col-md-9 col-md-push-3 space-left push-off"><div class="page-contents col-sm-5">
				<h3>Page Contents</h3>
				<ul>
<li><a class="reference internal" href="#">Views</a><ul>
<li><a class="reference internal" href="#view-templates">View Templates</a><ul>
<li><a class="reference internal" href="#extending-views">Extending Views</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-view-blocks">Using view blocks</a><ul>
<li><a class="reference internal" href="#displaying-blocks">Displaying blocks</a></li>
<li><a class="reference internal" href="#using-blocks-for-script-and-css-files">Using blocks for script and CSS files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#layouts">Layouts</a><ul>
<li><a class="reference internal" href="#using-layouts-from-plugins">Using layouts from plugins</a></li>
</ul>
</li>
<li><a class="reference internal" href="#elements">Elements</a><ul>
<li><a class="reference internal" href="#passing-variables-into-an-element">Passing Variables into an Element</a></li>
<li><a class="reference internal" href="#caching-elements">Caching Elements</a></li>
<li><a class="reference internal" href="#requesting-elements-from-a-plugin">Requesting Elements from a Plugin</a></li>
<li><a class="reference internal" href="#id2">2.0</a></li>
<li><a class="reference internal" href="#id3">2.1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-your-own-view-classes">Creating your own view classes</a></li>
<li><a class="reference internal" href="#view-api">View API</a></li>
<li><a class="reference internal" href="#more-about-views">More about Views</a></li>
</ul>
</li>
</ul>

			</div><div class="document-body">
			
  <div class="section" id="views">
<h1>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h1>
<p>Views are the <strong>V</strong> in MVC. Views are responsible for generating
the specific output required for the request. Often this is in the
form of HTML, XML, or JSON, but streaming files and creating PDFs
that users can download are also responsibilities of the View
Layer.</p>
<p>CakePHP comes with a few built-in View classes for handling the most
common rendering scenarios:</p>
<ul class="simple">
<li>To create XML or JSON webservices you can use the <a class="reference internal" href="views/json-and-xml-views.html"><span class="doc">JSON and XML views</span></a>.</li>
<li>To serve protected files, or dynamically generated files, you can use
<a class="reference internal" href="controllers/request-response.html#cake-response-file"><span class="std std-ref">Sending files</span></a>.</li>
<li>To create multiple themed views, you can use <a class="reference internal" href="views/themes.html"><span class="doc">Themes</span></a>.</li>
</ul>
<div class="section" id="view-templates">
<h2>View Templates<a class="headerlink" href="#view-templates" title="Permalink to this headline">¶</a></h2>
<p>The view layer of CakePHP is how you speak to your users. Most of
the time your views will be showing (X)HTML documents to browsers,
but you might also need to serve AMF data to a Flash object, reply
to a remote application via SOAP, or output a CSV file for a user.</p>
<p>By default CakePHP view files are written in plain PHP and have a default
extension of .ctp (CakePHP Template). These files contain all the
presentational logic needed to get the data it received from the
controller in a format that is ready for the audience you&#8217;re
serving to. If you&#8217;d prefer using a templating language like
Twig, or Smarty, a subclass of View will bridge your templating
language and CakePHP.</p>
<p>A view file is stored in <code class="docutils literal"><span class="pre">/app/View/</span></code>, in a subfolder named after the
controller that uses the file. It has a filename corresponding to its action.
For example, the view file for the Products
controller&#8217;s &#8220;view()&#8221; action would normally be found in
<code class="docutils literal"><span class="pre">/app/View/Products/view.ctp</span></code>.</p>
<p>The view layer in CakePHP can be made up of a number of different
parts. Each part has different uses, and will be covered in this
chapter:</p>
<ul class="simple">
<li><strong>views</strong>: Views are the part of the page that is unique to the
action being run. They form the meat of your application&#8217;s response.</li>
<li><strong>elements</strong>: smaller, reusable bits of view code. Elements are
usually rendered inside views.</li>
<li><strong>layouts</strong>: view files that contain presentational code that
wraps many interfaces in your application. Most views are
rendered inside a layout.</li>
<li><strong>helpers</strong>: these classes encapsulate view logic that is needed
in many places in the view layer. Among other things, helpers in
CakePHP can help you build forms, build AJAX functionality,
paginate model data, or serve RSS feeds.</li>
</ul>
<div class="section" id="extending-views">
<span id="id1"></span><h3>Extending Views<a class="headerlink" href="#extending-views" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
<p>View extending allows you to wrap one view in another. Combining this with
<a class="reference internal" href="#view-blocks"><span class="std std-ref">view blocks</span></a> gives you a powerful way to keep your views
<a class="reference internal" href="appendices/glossary.html#term-dry"><span class="xref std std-term">DRY</span></a>. For example, your application has a sidebar that needs to change
depending on the specific view being rendered. By extending a common view file,
you can avoid repeating the common markup for your sidebar, and only define the
parts that change:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// app/View/Common/view.ctp</span>
<span class="x">&lt;h1&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/h1&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;div class=&quot;actions&quot;&gt;</span>
<span class="x">    &lt;h3&gt;Related actions&lt;/h3&gt;</span>
<span class="x">    &lt;ul&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/ul&gt;</span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
<p>The above view file could be used as a parent view. It expects that the view
extending it will define the <code class="docutils literal"><span class="pre">sidebar</span></code> and <code class="docutils literal"><span class="pre">title</span></code> blocks. The <code class="docutils literal"><span class="pre">content</span></code>
block is a special block that CakePHP creates. It will contain all the
uncaptured content from the extending view. Assuming our view file has a
<code class="docutils literal"><span class="pre">$post</span></code> variable with the data about our post, the view could look like:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">// app/View/Posts/view.ctp</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;/Common/view&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$post</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;li&gt;</span>
<span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span><span class="s1">&#39;edit&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;edit&#39;</span><span class="p">,</span>
    <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;Post&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
<span class="p">));</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">// The remaining content will be available as the &#39;content&#39; block</span>
<span class="x">// in the parent view.</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nx">h</span><span class="p">(</span><span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;Post&#39;</span><span class="p">][</span><span class="s1">&#39;body&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>The post view above shows how you can extend a view, and populate a set of
blocks. Any content not already in a defined block will be captured and put
into a special block named <code class="docutils literal"><span class="pre">content</span></code>. When a view contains a call to
<code class="docutils literal"><span class="pre">extend()</span></code>, execution continues to the bottom of the current view file.
Once it is complete, the extended view will be rendered. Calling <code class="docutils literal"><span class="pre">extend()</span></code>
more than once in a view file will override the parent view that will be
processed next:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;/Common/view&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">extend</span><span class="p">(</span><span class="s1">&#39;/Common/index&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The above will result in <code class="docutils literal"><span class="pre">/Common/index.ctp</span></code> being rendered as the parent view
to the current view.</p>
<p>You can nest extended views as many times as necessary. Each view can extend
another view if desired. Each parent view will get the previous view&#8217;s content
as the <code class="docutils literal"><span class="pre">content</span></code> block.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should avoid using <code class="docutils literal"><span class="pre">content</span></code> as a block name in your application.
CakePHP uses this for uncaptured content in extended views.</p>
</div>
</div>
</div>
<div class="section" id="using-view-blocks">
<span id="view-blocks"></span><h2>Using view blocks<a class="headerlink" href="#using-view-blocks" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
<p>View blocks replace <code class="docutils literal"><span class="pre">$scripts_for_layout</span></code> and provide a flexible API that
allows you to define slots or blocks in your views/layouts that will be defined
elsewhere. For example, blocks are ideal for implementing things such as
sidebars, or regions to load assets at the bottom/top of the layout.
Blocks can be defined in two ways: either as a capturing block, or by direct
assignment. The <code class="docutils literal"><span class="pre">start()</span></code>, <code class="docutils literal"><span class="pre">append()</span></code> and <code class="docutils literal"><span class="pre">end()</span></code> methods allow you to
work with capturing blocks:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Create the sidebar block.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">start</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/recent_topics&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/recent_comments&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span>


<span class="c1">// Append into the sidebar later on.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">append</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;sidebar/popular_topics&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span>
</pre></div>
</div>
<p>You can also append into a block using <code class="docutils literal"><span class="pre">start()</span></code> multiple times. <code class="docutils literal"><span class="pre">assign()</span></code>
can be used to clear or overwrite a block at any time:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Clear the previous content from the sidebar block.</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assign</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>In 2.3, a few new methods were added for working with blocks. The <code class="docutils literal"><span class="pre">prepend()</span></code>
method was added to prepend content to an existing block:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Prepend to sidebar</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">prepend</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">,</span> <span class="s1">&#39;this content goes on top of sidebar&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The method <code class="docutils literal"><span class="pre">startIfEmpty()</span></code> can be used to start a block <strong>only</strong> if it is
empty or undefined. If the block already exists, the captured content will be
discarded. This is useful when you want to conditionally define default content
for a block if it does not already exist:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// In a view file.</span>
<span class="x">// Create a navbar block</span>
<span class="x">$this-&gt;startIfEmpty(&#39;navbar&#39;);</span>
<span class="x">echo $this-&gt;element(&#39;navbar&#39;);</span>
<span class="x">echo $this-&gt;element(&#39;notifications&#39;);</span>
<span class="x">$this-&gt;end();</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// In a parent view/layout</span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">startIfEmpty</span><span class="p">(</span><span class="s1">&#39;navbar&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;p&gt;If the block is not defined by now - show this instead&lt;/p&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">end</span><span class="p">();</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">// Somewhere later in the parent view/layout</span>
<span class="x">echo $this-&gt;fetch(&#39;navbar&#39;);</span>
</pre></div>
</div>
<p>In the above example, the <code class="docutils literal"><span class="pre">navbar</span></code> block will only contain the content added
in the first section. Since the block was defined in the child view, the
default content with the <code class="docutils literal"><span class="pre">&lt;p&gt;</span></code> tag will be discarded.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should avoid using <code class="docutils literal"><span class="pre">content</span></code> as a block name. This is used by CakePHP
internally for extended views, and view content in the layout.</p>
</div>
<div class="section" id="displaying-blocks">
<h3>Displaying blocks<a class="headerlink" href="#displaying-blocks" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
<p>You can display blocks using the <code class="docutils literal"><span class="pre">fetch()</span></code> method. <code class="docutils literal"><span class="pre">fetch()</span></code> will safely
output a block, returning &#8216;&#8217; if a block does not exist:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also use fetch to conditionally show content that should surround a
block should it exist. This is helpful in layouts, or extended views where you
want to conditionally show headings or other markup:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">// In app/View/Layouts/default.ctp</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;div class=&quot;menu&quot;&gt;</span>
<span class="x">    &lt;h3&gt;Menu options&lt;/h3&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;menu&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>As of 2.3.0, you can also provide a default value for a block should it not have
any content. This allows you to easily add placeholder content for empty
states. You can provide a default value using the second argument:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;div class=&quot;shopping-cart&quot;&gt;</span>
<span class="x">    &lt;h3&gt;Your Cart&lt;/h3&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="s1">&#39;Your cart is empty&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.3: </span>The <code class="docutils literal"><span class="pre">$default</span></code> argument was added in 2.3.</p>
</div>
</div>
<div class="section" id="using-blocks-for-script-and-css-files">
<h3>Using blocks for script and CSS files<a class="headerlink" href="#using-blocks-for-script-and-css-files" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
<p>Blocks replace the deprecated <code class="docutils literal"><span class="pre">$scripts_for_layout</span></code> layout variable. Instead
you should use blocks. The <a class="reference internal" href="core-libraries/helpers/html.html#HtmlHelper" title="HtmlHelper"><code class="xref php php-class docutils literal"><span class="pre">HtmlHelper</span></code></a> ties into view blocks, and
its <a class="reference internal" href="core-libraries/helpers/html.html#HtmlHelper::script" title="HtmlHelper::script"><code class="xref php php-meth docutils literal"><span class="pre">script()</span></code></a>, <a class="reference internal" href="core-libraries/helpers/html.html#HtmlHelper::css" title="HtmlHelper::css"><code class="xref php php-meth docutils literal"><span class="pre">css()</span></code></a>, and
<a class="reference internal" href="core-libraries/helpers/html.html#HtmlHelper::meta" title="HtmlHelper::meta"><code class="xref php php-meth docutils literal"><span class="pre">meta()</span></code></a> methods each update a block with the same name
when used with the <code class="docutils literal"><span class="pre">inline</span> <span class="pre">=</span> <span class="pre">false</span></code> option:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">// In your view file</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">&#39;carousel&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;inline&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">css</span><span class="p">(</span><span class="s1">&#39;carousel&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;inline&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
<span class="cp">?&gt;</span><span class="x"></span>

<span class="x">// In your layout file.</span>
<span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="x">    &lt;head&gt;</span>
<span class="x">    &lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/title&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/head&gt;</span>
<span class="x">    // Rest of the layout follows</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="core-libraries/helpers/html.html#HtmlHelper" title="HtmlHelper"><code class="xref php php-meth docutils literal"><span class="pre">HtmlHelper</span></code></a> also allows you to control which block the scripts
and CSS go to:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// In your view</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">&#39;carousel&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;block&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;scriptBottom&#39;</span><span class="p">));</span>

<span class="c1">// In your layout</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;scriptBottom&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="layouts">
<span id="view-layouts"></span><h2>Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h2>
<p>A layout contains presentation code that wraps around a view.
Anything you want to see in all of your views should be placed in a
layout.</p>
<p>CakePHP&#8217;s default layout is located at <code class="docutils literal"><span class="pre">/app/View/Layouts/default.ctp</span></code>.
If you want to change the overall look of your application, then this is
the right place to start, because controller-rendered view code is placed
inside of the default layout when the page is rendered.</p>
<p>Other layout files should be placed in <code class="docutils literal"><span class="pre">/app/View/Layouts</span></code>.
When you create a layout, you need to tell CakePHP where to place
the output of your views. To do so, make sure your layout includes a
place for <code class="docutils literal"><span class="pre">$this-&gt;fetch('content')</span></code> Here&#8217;s an example of what a default layout
might look like:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang=&quot;en&quot;&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">&lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x">&lt;/title&gt;</span>
<span class="x">&lt;link rel=&quot;shortcut icon&quot; href=&quot;favicon.ico&quot; type=&quot;image/x-icon&quot;&gt;</span>
<span class="x">&lt;!-- Include external files and scripts here (See HTML helper for more info.) --&gt;</span>
<span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;meta&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;css&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/head&gt;</span>
<span class="x">&lt;body&gt;</span>

<span class="x">&lt;!-- If you&#39;d like some sort of menu to</span>
<span class="x">show up on all of your views, include it here --&gt;</span>
<span class="x">&lt;div id=&quot;header&quot;&gt;</span>
<span class="x">    &lt;div id=&quot;menu&quot;&gt;...&lt;/div&gt;</span>
<span class="x">&lt;/div&gt;</span>

<span class="x">&lt;!-- Here&#39;s where I want my views to be displayed --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="x">&lt;!-- Add a footer to each displayed page --&gt;</span>
<span class="x">&lt;div id=&quot;footer&quot;&gt;...&lt;/div&gt;</span>

<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Prior to version 2.1, method fetch() was not available, <code class="docutils literal"><span class="pre">fetch('content')</span></code>
is a replacement for <code class="docutils literal"><span class="pre">$content_for_layout</span></code> and lines <code class="docutils literal"><span class="pre">fetch('meta')</span></code>,
<code class="docutils literal"><span class="pre">fetch('css')</span></code> and <code class="docutils literal"><span class="pre">fetch('script')</span></code> are contained in the
<code class="docutils literal"><span class="pre">$scripts_for_layout</span></code> variable in version 2.0</p>
</div>
<p>The <code class="docutils literal"><span class="pre">script</span></code>, <code class="docutils literal"><span class="pre">css</span></code> and <code class="docutils literal"><span class="pre">meta</span></code> blocks contain any content defined
in the views using the built-in HTML helper. Useful for including
JavaScript and CSS files from views.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using <a class="reference internal" href="core-libraries/helpers/html.html#HtmlHelper::css" title="HtmlHelper::css"><code class="xref php php-meth docutils literal"><span class="pre">HtmlHelper::css()</span></code></a> or <a class="reference internal" href="core-libraries/helpers/html.html#HtmlHelper::script" title="HtmlHelper::script"><code class="xref php php-meth docutils literal"><span class="pre">HtmlHelper::script()</span></code></a>
in view files, specify &#8216;false&#8217; for the &#8216;inline&#8217; option to place the HTML
source in a block with the same name. (See API for more details on usage).</p>
</div>
<p>The <code class="docutils literal"><span class="pre">content</span></code> block contains the contents of the rendered view.</p>
<p><code class="docutils literal"><span class="pre">$title_for_layout</span></code> contains the page title. This variable is generated
automatically, but you can override it by setting it in your controller/view as
you would any other view variable.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">$title_for_layout</span></code> is deprecated as of 2.5, use
<code class="docutils literal"><span class="pre">$this-&gt;fetch('title')</span></code> in your layout and
<code class="docutils literal"><span class="pre">$this-&gt;assign('title',</span> <span class="pre">'page</span> <span class="pre">title')</span></code> instead.</p>
</div>
<p>You can create as many layouts as you wish: just place them in the
<code class="docutils literal"><span class="pre">app/View/Layouts</span></code> directory, and switch between them inside of your
controller actions using the controller or view&#8217;s
<a class="reference internal" href="#View::$layout" title="View::$layout"><code class="xref php php-attr docutils literal"><span class="pre">$layout</span></code></a> property:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// From a controller</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">admin_view</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Stuff</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;admin&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// From a view file</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;loggedin&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>For example, if a section of my site included a smaller ad banner
space, I might create a new layout with the smaller advertising
space and specify it as the layout for all controllers&#8217; actions
using something like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UsersController</span> <span class="k">extends</span> <span class="nx">AppController</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">view_active</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;title_for_layout&#39;</span><span class="p">,</span> <span class="s1">&#39;View Active Users&#39;</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;default_small_ad&#39;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">view_image</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;image&#39;</span><span class="p">;</span>
        <span class="c1">// Output user image</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>CakePHP features two core layouts (besides CakePHP&#8217;s default
layout) you can use in your own application: &#8216;ajax&#8217; and &#8216;flash&#8217;.
The Ajax layout is handy for crafting AJAX responses - it&#8217;s an
empty layout. (Most AJAX calls only require a bit of markup in
return, rather than a fully-rendered interface.) The flash layout
is used for messages shown by <a class="reference internal" href="controllers.html#Controller::flash" title="Controller::flash"><code class="xref php php-meth docutils literal"><span class="pre">Controller::flash()</span></code></a> method.</p>
<p>Three other layouts, xml, js, and rss, exist in the core for a quick
and easy way to serve up content that isn&#8217;t text/html.</p>
<div class="section" id="using-layouts-from-plugins">
<h3>Using layouts from plugins<a class="headerlink" href="#using-layouts-from-plugins" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
<p>If you want to use a layout that exists in a plugin, you can use
<a class="reference internal" href="appendices/glossary.html#term-plugin-syntax"><span class="xref std std-term">plugin syntax</span></a>. For example, to use the contact layout from the
Contacts plugin:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UsersController</span> <span class="k">extends</span> <span class="nx">AppController</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">view_active</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">layout</span> <span class="o">=</span> <span class="s1">&#39;Contacts.contact&#39;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="elements">
<span id="view-elements"></span><h2>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h2>
<p>Many applications have small blocks of presentation code that need
to be repeated from page to page, sometimes in different places in
the layout. CakePHP can help you repeat parts of your website that
need to be reused. These reusable parts are called Elements. Ads,
help boxes, navigational controls, extra menus, login forms, and
callouts are often implemented in CakePHP as elements. An element
is basically a mini-view that can be included in other views, in
layouts, and even within other elements. Elements can be used to
make a view more readable, placing the rendering of repeating
elements in its own file. They can also help you re-use content
fragments in your application.</p>
<p>Elements live in the <code class="docutils literal"><span class="pre">/app/View/Elements/</span></code> folder, and have the .ctp
filename extension. They are output using the element method of the
view:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="passing-variables-into-an-element">
<h3>Passing Variables into an Element<a class="headerlink" href="#passing-variables-into-an-element" title="Permalink to this headline">¶</a></h3>
<p>You can pass data to an element through the element&#8217;s second
argument:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">&quot;helptext&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Oh, this text is very helpful.&quot;</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Inside the element file, all the passed variables are available as
members of the parameter array (in the same way that
<a class="reference internal" href="controllers.html#Controller::set" title="Controller::set"><code class="xref php php-meth docutils literal"><span class="pre">Controller::set()</span></code></a> in the controller works with view files). In the
above example, the <code class="docutils literal"><span class="pre">/app/View/Elements/helpbox.ctp</span></code> file can use the
<code class="docutils literal"><span class="pre">$helptext</span></code> variable:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Inside app/View/Elements/helpbox.ctp</span>
<span class="k">echo</span> <span class="nv">$helptext</span><span class="p">;</span> <span class="c1">// Outputs &quot;Oh, this text is very helpful.&quot;</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="#View::element" title="View::element"><code class="xref php php-meth docutils literal"><span class="pre">View::element()</span></code></a> method also supports options for the element.
The options supported are &#8216;cache&#8217; and &#8216;callbacks&#8217;. An example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;helptext&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;This is passed to the element as </span><span class="si">$helptext</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="s2">&quot;foobar&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;This is passed to the element as </span><span class="si">$foobar</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="c1">// Uses the &quot;long_view&quot; cache configuration</span>
        <span class="s2">&quot;cache&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;long_view&quot;</span><span class="p">,</span>
        <span class="c1">// Set to true to have before/afterRender called for the element</span>
        <span class="s2">&quot;callbacks&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Element caching is facilitated through the <a class="reference internal" href="core-libraries/caching.html#Cache" title="Cache"><code class="xref php php-class docutils literal"><span class="pre">Cache</span></code></a> class. You can
configure elements to be stored in any Cache configuration you&#8217;ve set up. This
gives you a great amount of flexibility to decide where and for how long
elements are stored. To cache different versions of the same element in an
application, provide a unique cache key value using the following format:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="k">array</span><span class="p">(</span>
        <span class="s2">&quot;cache&quot;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;unique value&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>You can take full advantage of elements by using
<code class="docutils literal"><span class="pre">requestAction()</span></code>, which fetches view
variables from a controller action and returns them as an array.
This enables your elements to perform in true MVC style. Create a
controller action that prepares the view variables for your
elements, then call <code class="docutils literal"><span class="pre">requestAction()</span></code> inside the second parameter
of <code class="docutils literal"><span class="pre">element()</span></code> to feed the element the view variables from your
controller.</p>
<p>To do this, in your controller add something like the following for
the Post example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PostsController</span> <span class="k">extends</span> <span class="nx">AppController</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$posts</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">paginate</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">is</span><span class="p">(</span><span class="s1">&#39;requested&#39;</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nv">$posts</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;posts&#39;</span><span class="p">,</span> <span class="nv">$posts</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And then in the element we can access the paginated posts model. To
get the latest five posts in an ordered list, we would do something
like the following:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;h2&gt;Latest Posts&lt;/h2&gt;</span>
<span class="cp">&lt;?php</span>
  <span class="nv">$posts</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">requestAction</span><span class="p">(</span>
    <span class="s1">&#39;posts/index/sort:created/direction:asc/limit:5&#39;</span>
  <span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;ol&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$posts</span> <span class="k">as</span> <span class="nv">$post</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">      &lt;li&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;Post&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">];</span> <span class="cp">?&gt;</span><span class="x">&lt;/li&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/ol&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="caching-elements">
<h3>Caching Elements<a class="headerlink" href="#caching-elements" title="Permalink to this headline">¶</a></h3>
<p>You can take advantage of CakePHP view caching if you supply a
cache parameter. If set to true, it will cache the element in the
&#8216;default&#8217; Cache configuration. Otherwise, you can set which cache configuration
should be used. See <a class="reference internal" href="core-libraries/caching.html"><span class="doc">Caching</span></a> for more information on
configuring <a class="reference internal" href="core-libraries/caching.html#Cache" title="Cache"><code class="xref php php-class docutils literal"><span class="pre">Cache</span></code></a>. A simple example of caching an element would
be:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;cache&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
</pre></div>
</div>
<p>If you render the same element more than once in a view and have
caching enabled, be sure to set the &#8216;key&#8217; parameter to a different
name each time. This will prevent each successive call from
overwriting the previous element() call&#8217;s cached result. For example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span>
    <span class="s1">&#39;helpbox&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;var&#39;</span> <span class="o">=&gt;</span> <span class="nv">$var</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;cache&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;first_use&#39;</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;view_long&#39;</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span>
    <span class="s1">&#39;helpbox&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;var&#39;</span> <span class="o">=&gt;</span> <span class="nv">$differenVar</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;cache&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;second_use&#39;</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;view_long&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The above will ensure that both element results are cached separately. If
you want all element caching to use the same cache configuration, you can avoid
some repetition by setting <a class="reference internal" href="#View::$elementCache" title="View::$elementCache"><code class="xref php php-attr docutils literal"><span class="pre">View::$elementCache</span></code></a> to the cache
configuration you want to use. CakePHP will use this configuration when none
is given.</p>
</div>
<div class="section" id="requesting-elements-from-a-plugin">
<h3>Requesting Elements from a Plugin<a class="headerlink" href="#requesting-elements-from-a-plugin" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id2">
<h3>2.0<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>To load an element from a plugin, use the <cite>plugin</cite> option (moved out of the
<cite>data</cite> option in 1.x):</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(),</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;plugin&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Contacts&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h3>2.1<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>If you are using a plugin and wish to use elements from within the
plugin, just use the familiar <a class="reference internal" href="appendices/glossary.html#term-plugin-syntax"><span class="xref std std-term">plugin syntax</span></a>. If the view is being
rendered for a plugin controller/action, the plugin name will automatically
be prefixed onto all elements used, unless another plugin name is present.
If the element doesn&#8217;t exist in the plugin, it will look in the main APP
folder.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;Contacts.helpbox&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If your view is a part of a plugin, you can omit the plugin name. For example,
if you are in the <code class="docutils literal"><span class="pre">ContactsController</span></code> of the Contacts plugin, the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;helpbox&#39;</span><span class="p">);</span>
<span class="c1">// and</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">element</span><span class="p">(</span><span class="s1">&#39;Contacts.helpbox&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>are equivalent and will result in the same element being rendered.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.1: </span>The <code class="docutils literal"><span class="pre">$options[plugin]</span></code> option was deprecated and support for
<code class="docutils literal"><span class="pre">Plugin.element</span></code> was added.</p>
</div>
</div>
</div>
<div class="section" id="creating-your-own-view-classes">
<h2>Creating your own view classes<a class="headerlink" href="#creating-your-own-view-classes" title="Permalink to this headline">¶</a></h2>
<p>You may need to create custom view classes to enable new types of data views, or
add additional custom view-rendering logic to your application. Like most
components of CakePHP, view classes have a few conventions:</p>
<ul class="simple">
<li>View class files should be put in <code class="docutils literal"><span class="pre">App/View</span></code>. For example:
<code class="docutils literal"><span class="pre">App/View/PdfView.php</span></code></li>
<li>View classes should be suffixed with <code class="docutils literal"><span class="pre">View</span></code>. For example: <code class="docutils literal"><span class="pre">PdfView</span></code>.</li>
<li>When referencing view class names you should omit the <code class="docutils literal"><span class="pre">View</span></code> suffix. For
example: <code class="docutils literal"><span class="pre">$this-&gt;viewClass</span> <span class="pre">=</span> <span class="pre">'Pdf';</span></code>.</li>
</ul>
<p>You&#8217;ll also want to extend <code class="docutils literal"><span class="pre">View</span></code> to ensure things work correctly:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// In App/View/PdfView.php</span>

<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;View&#39;</span><span class="p">,</span> <span class="s1">&#39;View&#39;</span><span class="p">);</span>
<span class="k">class</span> <span class="nc">PdfView</span> <span class="k">extends</span> <span class="nx">View</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">render</span><span class="p">(</span><span class="nv">$view</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span> <span class="nv">$layout</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Custom logic here.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Replacing the render method lets you take full control over how your content is
rendered.</p>
</div>
<div class="section" id="view-api">
<h2>View API<a class="headerlink" href="#view-api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="View">
<em class="property">class </em><code class="descname">View</code><a class="headerlink" href="#View" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>View methods are accessible in all view, element and layout files.
To call any view method use <code class="docutils literal"><span class="pre">$this-&gt;method()</span></code></p>
<dl class="method">
<dt id="View::set">
<code class="descclassname">View::</code><code class="descname">set</code><span class="sig-paren">(</span><em>string $var</em>, <em>mixed $value</em><span class="sig-paren">)</span><a class="headerlink" href="#View::set" title="Permalink to this definition">¶</a></dt>
<dd><p>Views have a <code class="docutils literal"><span class="pre">set()</span></code> method that is analogous to the <code class="docutils literal"><span class="pre">set()</span></code>
found in Controller objects. Using set() from your view file will
add the variables to the layout and elements that will be rendered
later. See <a class="reference internal" href="controllers.html#controller-methods"><span class="std std-ref">Controller Methods</span></a> for more information on using
set().</p>
<p>In your view file you can do:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;activeMenuButton&#39;</span><span class="p">,</span> <span class="s1">&#39;posts&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Then, in your layout, the <code class="docutils literal"><span class="pre">$activeMenuButton</span></code> variable will be
available and contain the value &#8216;posts&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="View::get">
<code class="descclassname">View::</code><code class="descname">get</code><span class="sig-paren">(</span><em>string $var</em>, <em>$default = null</em><span class="sig-paren">)</span><a class="headerlink" href="#View::get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of a viewVar with the name <code class="docutils literal"><span class="pre">$var</span></code>.</p>
<p>As of 2.5, you can provide a default value in case the variable is not
already set.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.5: </span>The <code class="docutils literal"><span class="pre">$default</span></code> argument was added in 2.5.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::getVar">
<code class="descclassname">View::</code><code class="descname">getVar</code><span class="sig-paren">(</span><em>string $var</em><span class="sig-paren">)</span><a class="headerlink" href="#View::getVar" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the value of the viewVar with the name <code class="docutils literal"><span class="pre">$var</span></code>.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.3: </span>Use <a class="reference internal" href="#View::get" title="View::get"><code class="xref php php-meth docutils literal"><span class="pre">View::get()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::getVars">
<code class="descclassname">View::</code><code class="descname">getVars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#View::getVars" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of all the available view variables in the current
rendering scope. Returns an array of variable names.</p>
</dd></dl>

<dl class="method">
<dt id="View::element">
<code class="descclassname">View::</code><code class="descname">element</code><span class="sig-paren">(</span><em>string $elementPath</em>, <em>array $data</em>, <em>array $options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#View::element" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders an element or view partial. See the section on
<a class="reference internal" href="#view-elements"><span class="std std-ref">Elements</span></a> for more information and
examples.</p>
</dd></dl>

<dl class="method">
<dt id="View::uuid">
<code class="descclassname">View::</code><code class="descname">uuid</code><span class="sig-paren">(</span><em>string $object</em>, <em>mixed $url</em><span class="sig-paren">)</span><a class="headerlink" href="#View::uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a unique non-random DOM ID for an object, based on the
object type and URL. This method is often used by helpers that need
to generate unique DOM ID&#8217;s for elements such as the <a class="reference internal" href="core-libraries/helpers/js.html#JsHelper" title="JsHelper"><code class="xref php php-class docutils literal"><span class="pre">JsHelper</span></code></a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$uuid</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">(</span>
  <span class="s1">&#39;form&#39;</span><span class="p">,</span>
  <span class="k">array</span><span class="p">(</span><span class="s1">&#39;controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;posts&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="p">);</span>
<span class="c1">// $uuid contains &#39;form0425fe3bad&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="View::addScript">
<code class="descclassname">View::</code><code class="descname">addScript</code><span class="sig-paren">(</span><em>string $name</em>, <em>string $content</em><span class="sig-paren">)</span><a class="headerlink" href="#View::addScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds content to the internal scripts buffer. This buffer is made
available in the layout as <code class="docutils literal"><span class="pre">$scripts_for_layout</span></code>. This method is
helpful when creating helpers that need to add javascript or css
directly to the layout. Keep in mind that scripts added from the
layout and elements in the layout will not be added to
<code class="docutils literal"><span class="pre">$scripts_for_layout</span></code>. This method is most often used from inside
helpers, such as the <a class="reference internal" href="core-libraries/helpers/js.html"><span class="doc">JsHelper</span></a> and
<a class="reference internal" href="core-libraries/helpers/html.html"><span class="doc">HtmlHelper</span></a> Helpers.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.1: </span>Use the <a class="reference internal" href="#view-blocks"><span class="std std-ref">Using view blocks</span></a> features instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::blocks">
<code class="descclassname">View::</code><code class="descname">blocks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#View::blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the names of all defined blocks as an array.</p>
</dd></dl>

<dl class="method">
<dt id="View::start">
<code class="descclassname">View::</code><code class="descname">start</code><span class="sig-paren">(</span><em>$name</em><span class="sig-paren">)</span><a class="headerlink" href="#View::start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a capturing block for a view block. See the section on
<a class="reference internal" href="#view-blocks"><span class="std std-ref">Using view blocks</span></a> for examples.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::end">
<code class="descclassname">View::</code><code class="descname">end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#View::end" title="Permalink to this definition">¶</a></dt>
<dd><p>End the top most open capturing block. See the section on
<a class="reference internal" href="#view-blocks"><span class="std std-ref">Using view blocks</span></a> for examples.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::append">
<code class="descclassname">View::</code><code class="descname">append</code><span class="sig-paren">(</span><em>$name</em>, <em>$content</em><span class="sig-paren">)</span><a class="headerlink" href="#View::append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append into the block with <code class="docutils literal"><span class="pre">$name</span></code>. See the section on
<a class="reference internal" href="#view-blocks"><span class="std std-ref">Using view blocks</span></a> for examples.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::prepend">
<code class="descclassname">View::</code><code class="descname">prepend</code><span class="sig-paren">(</span><em>$name</em>, <em>$content</em><span class="sig-paren">)</span><a class="headerlink" href="#View::prepend" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepend to the block with <code class="docutils literal"><span class="pre">$name</span></code>. See the section on
<a class="reference internal" href="#view-blocks"><span class="std std-ref">Using view blocks</span></a> for examples.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::startIfEmpty">
<code class="descclassname">View::</code><code class="descname">startIfEmpty</code><span class="sig-paren">(</span><em>$name</em><span class="sig-paren">)</span><a class="headerlink" href="#View::startIfEmpty" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a block if it is empty. All content in the block
will be captured and discarded if the block is already defined.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::assign">
<code class="descclassname">View::</code><code class="descname">assign</code><span class="sig-paren">(</span><em>$name</em>, <em>$content</em><span class="sig-paren">)</span><a class="headerlink" href="#View::assign" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign the value of a block. This will overwrite any existing content. See
the section on <a class="reference internal" href="#view-blocks"><span class="std std-ref">Using view blocks</span></a> for examples.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::fetch">
<code class="descclassname">View::</code><code class="descname">fetch</code><span class="sig-paren">(</span><em>$name</em>, <em>$default = ''</em><span class="sig-paren">)</span><a class="headerlink" href="#View::fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the value of a block. If a block is empty or undefined, &#8216;&#8217; will be
returned. See the section on <a class="reference internal" href="#view-blocks"><span class="std std-ref">Using view blocks</span></a> for examples.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="View::extend">
<code class="descclassname">View::</code><code class="descname">extend</code><span class="sig-paren">(</span><em>$name</em><span class="sig-paren">)</span><a class="headerlink" href="#View::extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend the current view/element/layout with the named one. See the section
on <a class="reference internal" href="#extending-views"><span class="std std-ref">Extending Views</span></a> for examples.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
</dd></dl>

<dl class="attr">
<dt id="View::$layout">
<em class="property">property </em><code class="descclassname">View::$</code><code class="descname">layout</code><a class="headerlink" href="#View::$layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the layout the current view will be wrapped in.</p>
</dd></dl>

<dl class="attr">
<dt id="View::$elementCache">
<em class="property">property </em><code class="descclassname">View::$</code><code class="descname">elementCache</code><a class="headerlink" href="#View::$elementCache" title="Permalink to this definition">¶</a></dt>
<dd><p>The cache configuration used to cache elements. Setting this
property will change the default configuration used to cache elements.
This default can be overridden using the &#8216;cache&#8217; option in the element
method.</p>
</dd></dl>

<dl class="attr">
<dt id="View::$request">
<em class="property">property </em><code class="descclassname">View::$</code><code class="descname">request</code><a class="headerlink" href="#View::$request" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of <a class="reference internal" href="controllers/request-response.html#CakeRequest" title="CakeRequest"><code class="xref php php-class docutils literal"><span class="pre">CakeRequest</span></code></a>. Use this instance to access
information about the current request.</p>
</dd></dl>

<dl class="attr">
<dt id="View::$output">
<em class="property">property </em><code class="descclassname">View::$</code><code class="descname">output</code><a class="headerlink" href="#View::$output" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the last rendered content from a view, either the view file, or the
layout content.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.1: </span>Use <code class="docutils literal"><span class="pre">$view-&gt;Blocks-&gt;get('content');</span></code> instead.</p>
</div>
</dd></dl>

<dl class="attr">
<dt id="View::$Blocks">
<em class="property">property </em><code class="descclassname">View::$</code><code class="descname">Blocks</code><a class="headerlink" href="#View::$Blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of <code class="xref php php-class docutils literal"><span class="pre">ViewBlock</span></code>. Used to provide view block
functionality in view rendering.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="more-about-views">
<h2>More about Views<a class="headerlink" href="#more-about-views" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="views/themes.html">Themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="views/media-view.html">Media Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="views/json-and-xml-views.html">JSON and XML views</a></li>
<li class="toctree-l1"><a class="reference internal" href="views/helpers.html">Helpers</a></li>
</ul>
</div>
</div>
</div>


			</div>
		</div>

		
		<div class="col-md-3 col-md-pull-9 pull-off hidden-xs hidden-sm" lang="en">
			<aside class="sidebar">
				<div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers.html">Controllers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Views</a><ul>
<li class="toctree-l2"><a class="reference internal" href="views/themes.html">Themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="views/media-view.html">Media Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="views/json-and-xml-views.html">JSON and XML views</a></li>
<li class="toctree-l2"><a class="reference internal" href="views/helpers.html">Helpers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries.html">Core Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="console-and-shells.html">Shells, Tasks &amp; Console Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a></li>
</ul>

</div>

				</div>
			</aside>
			<aside class="sidebar">
				<div class="mb30 row">
				</div>
			</aside>
		</div>
	</div>
</div>

<section id="socials" class="back-3">
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-4  social text-center">
				<div class="col-sm-3 col-xs-3">
					<div id="fb-root"></div>
						<script>(function(d, s, id) {
						  var js, fjs = d.getElementsByTagName(s)[0];
						  if (d.getElementById(id)) return;
						  js = d.createElement(s); js.id = id;
						  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
						  fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk'));
						</script>
						<div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-8 social-footer text-center ">
				<a href="#">发现翻译错误? 请在下面留言</a>
				<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">我要加入翻译</a>
				<a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
				<a href="http://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
				<a href="http://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
				<a href="http://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
				<a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
				<a href="http://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
				<a href="http://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
				<a href="http://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
			</div>
		</div>
	</div>
</section>

<footer id="footer" class="footer-wrapper">
	<div class="container">

		<div class="row col-p30">
			<div class="col-sm-12 col-md-3">
				<div class="footer-widget t-footer">
					<div class="col-md-12">
						<a href="https://www.openhub.net/p/cakephp">
							<img src="_static/open-hub.png">
						</a>
						<div class="mt10">
							<a href="https://www.rackspace.com/">
								<img src="_static/rackspace.png">
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-12 col-md-9">
				<div class="col-md-3 col-sm-6 business-solution">
					<ul class="footer-menu">
						<li class="menu-title">
	<a href="http://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
	<a href="http://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12 text-center mt30">
				<p class="copyright">
							&copy; Copyright 2016, Cake Software Foundation, Inc.
						Last updated on Aug 11, 2016.
						Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
				</p>
			</div>
		</div>
	</div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
  </body>
</html>