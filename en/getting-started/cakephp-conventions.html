
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="CakePHP Conventions" lang="en" name="title" />
<meta content="web development experience,maintenance nightmare,index method,legacy systems,method names,php class,uniform system,config files,tenets,apples,conventions,conventional controller,best practices,maps,visibility,news articles,functionality,logic,cakephp,developers" lang="en" name="keywords" />

    <title>CakePHP Conventions &mdash; CakePHP Cookbook 2.x documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/app.js"></script>
    <script type="text/javascript" src="../_static/modernizr.foundation.js"></script>
    <script type="text/javascript" src="../_static/foundation.js"></script>
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../index.html" />
    <link rel="up" title="Getting Started" href="../getting-started.html" />
    <link rel="next" title="CakePHP Folder Structure" href="cakephp-folder-structure.html" />
    <link rel="prev" title="A Typical CakePHP Request" href="a-typical-cakephp-request.html" />
<link href="../_static/favicon.ico" type="image/x-icon" rel="icon" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="alternate" hreflang="pt" href="../../pt/getting-started/cakephp-conventions.html" /><link rel="alternate" hreflang="es" href="../../es/getting-started/cakephp-conventions.html" /><link rel="alternate" hreflang="ja" href="../../ja/getting-started/cakephp-conventions.html" /><link rel="alternate" hreflang="fr" href="../../fr/getting-started/cakephp-conventions.html" /><link rel="alternate" hreflang="zh_CN" href="../../zh/getting-started/cakephp-conventions.html" />

<link rel="search" type="application/opensearchdescription+xml" title="CakePHP Book 2.x Search" href="../_static/opensearchdescription-book-2-x.xml">
<script type="text/javascript">
window.lang = "en";
</script>

  </head>
  <body>

<div id="container">

<div id="cakephp-global-navigation">
	<ul>
		<li class="main"><a href="http://cakephp.org">CakePHP</a></li>
		<li class="primary"><a href="#" class="empty">Downloads</a>
			<ul class="second-level">
				<li><a href="https://github.com/cakephp/cakephp/tags">Releases</a></li>
				<li><a href="http://pear.cakephp.org">Pear channel</a></li>
			</ul>
		</li>
		<li class="primary"><a href="#" class="empty">Documentation</a>
			<ul class="second-level">
				<li><a href="http://api.cakephp.org">API</a></li>
				<li><a href="http://book.cakephp.org">Book</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://community.cakephp.org">Community</a>
			<ul class="second-level">
				<li><a href="http://webchat.freenode.net/?channels=cakephp&uio=MT1mYWxzZSY5PXRydWUmMTE9MjQ2b8">Help &amp; Support</a></li>
				<li><a href="https://github.com/cakephp/cakephp/issues">Issues</a></li>
				<li><a href="http://bakery.cakephp.org">The Bakery</a></li>
				<li><a href="http://stackoverflow.com/tags/cakephp">Stack Overflow</a></li>
				<li><a href="http://www.facebook.com/groups/cake.community">Facebook Group</a></li>
				<li><a href="http://goo.gl/mSC0s">Google+ Community</a></li>
				<li><a href="http://www.youtube.com/user/CakePHP">YouTube Channel</a></li>
				<li><a href="http://podcast.cakephp.org">CakePHP Podcast</a></li>
				<li><a href="http://twitter.com/CakePHP">Follow us on Twitter</a></li>
				<li><a href="http://groups.google.com/group/cake-php">Google Group</a></li>
				<li><a href="http://github.com/cakephp/cakephp/contributors">Contributors</a></li>
				<li><a href="http://plugins.cakephp.org">Plugins &amp; Packages</a></li>
				<li><a href="http://community.cakephp.org/get-involved">Get Involved</a></li>
				<li><a href="http://community.cakephp.org/guidelines">Guidelines</a></li>
				<li><a href="http://cakefest.org">CakeFest</a></li>
				<li><a href="http://cakephp.org/logos">Logo</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://cakephp.org/services">Services</a>
			<ul class="second-level">
				<li><a href="http://cakephp.org/services/certification">Certification</a></li>
				<li><a href="http://cakephp.org/services/consultation">Consultation</a></li>
				<li><a href="http://cakephp.org/services/support">Support</a></li>
				<li><a href="http://training.cakephp.org">Training</a></li>
			</ul>
		</li>
	</ul>
</div>

<div class="masthead">
	<div class="header-backing"></div>
	<div class="searchbar row">
		<div class="columns three phone-one">
			<a class="logo" href="../contents.html">
			<img src="../_static/cake-logo.png" alt="CakePHP" width="70" />
			</a>
		</div>
		
<div id="searchbox" class="columns nine phone-three">

	<form id="searchform" class="search" action="../search.html" method="get">
		<input class="search-input" autocomplete="off" type="search" name="q" size="18" />
		<input class="search-submit search-big button red" type="submit" value="Search" />
		<input type="hidden" name="check_keywords" value="yes" />
		<input type="hidden" name="area" value="default" />

		<a href="#" id="tablet-nav" class="show-on-phones pale button small">Nav</a>
	</form>

</div>
	</div>
</div>
<div class="breadcrumb-header">
	<div class="related row">
		<div class="columns three root-link">
			<a href="../contents.html">Cookbook 2.x</a>
		</div>
		<div class="columns nine">
			<ul class="inline breadcrumb">
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../getting-started.html" accesskey="U" itemprop="url"><span itemprop="title">Getting Started</span></a>
			</li>
			</ul>
			<div class="versions dropdown">
				<a href="#">2.x Book</a>
				<ul>
					<li><a href="http://book.cakephp.org/3.0/en">3.0 Book</a></li>
					<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
					<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
					<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
				</ul>
			</div>

			<div class="languages dropdown">
				<a href="#">en</a>

				<ul>
				
					<li></li>
				
					<li><a href="../../pt/getting-started/cakephp-conventions.html">pt</a></li>
				
					<li><a href="../../es/getting-started/cakephp-conventions.html">es</a></li>
				
					<li><a href="../../ja/getting-started/cakephp-conventions.html">ja</a></li>
				
					<li><a href="../../fr/getting-started/cakephp-conventions.html">fr</a></li>
				
					<li><a href="../../zh/getting-started/cakephp-conventions.html">zh_CN</a></li>
				
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="content row">
	<div class="document columns nine push-three">
		<div class="body"><a class="button pale improve" href="https://github.com/cakephp/docs/edit/master/en/getting-started/cakephp-conventions.rst" target="_blank">Improve this Doc</a>
  <div class="section" id="cakephp-conventions">
<h1>CakePHP Conventions<a class="headerlink" href="#cakephp-conventions" title="Permalink to this headline">¶</a></h1>
<p>We are big fans of convention over configuration. While it takes a
bit of time to learn CakePHP&#8217;s conventions, you save time in the
long run: by following convention, you get free functionality, and
you free yourself from the maintenance nightmare of tracking config
files. Convention also makes for a very uniform system development,
allowing other developers to jump in and help more easily.</p>
<p>CakePHP&#8217;s conventions have been distilled from years of web
development experience and best practices. While we suggest you use
these conventions while developing with CakePHP, we should mention
that many of these tenets are easily overridden – something that is
especially handy when working with legacy systems.</p>
<div class="section" id="controller-conventions">
<h2>Controller Conventions<a class="headerlink" href="#controller-conventions" title="Permalink to this headline">¶</a></h2>
<p>Controller class names are plural, CamelCased, and end in
<tt class="docutils literal"><span class="pre">Controller</span></tt>. <tt class="docutils literal"><span class="pre">PeopleController</span></tt> and
<tt class="docutils literal"><span class="pre">LatestArticlesController</span></tt> are both examples of conventional
controller names.</p>
<p>The first method you write for a controller might be the
<tt class="docutils literal"><span class="pre">index()</span></tt> method. When a request specifies a controller but not
an action, the default CakePHP behavior is to execute the
<tt class="docutils literal"><span class="pre">index()</span></tt> method of that controller. For example, a request for
<a class="reference external" href="http://www.example.com/apples/">http://www.example.com/apples/</a> maps to a call on the <tt class="docutils literal"><span class="pre">index()</span></tt>
method of the <tt class="docutils literal"><span class="pre">ApplesController</span></tt>, whereas
<a class="reference external" href="http://www.example.com/apples/view/">http://www.example.com/apples/view/</a> maps to a call on the
<tt class="docutils literal"><span class="pre">view()</span></tt> method of the <tt class="docutils literal"><span class="pre">ApplesController</span></tt>.</p>
<p>You can also change the visibility of controller methods in CakePHP
by prefixing controller method names with underscores. If a
controller method has been prefixed with an underscore, the method
will not be accessible directly from the web but is available for
internal use. For example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="k">class</span> <span class="nc">NewsController</span> <span class="k">extends</span> <span class="nx">AppController</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">latest</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_findNewArticles</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">function</span> <span class="nf">_findNewArticles</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Logic to find latest news articles</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>While the page <a class="reference external" href="http://www.example.com/news/latest/">http://www.example.com/news/latest/</a> would be
accessible to the user as usual, someone trying to get to the page
<a class="reference external" href="http://www.example.com/news/_findNewArticles/">http://www.example.com/news/_findNewArticles/</a> would get an error,
because the method is preceded with an underscore. You can also use
PHP&#8217;s visibility keywords to indicate whether or not a method can be
accessed from a URL. Non-public methods cannot be accessed.</p>
<div class="section" id="url-considerations-for-controller-names">
<h3>URL Considerations for Controller Names<a class="headerlink" href="#url-considerations-for-controller-names" title="Permalink to this headline">¶</a></h3>
<p>As you&#8217;ve just seen, single word controllers map easily to a simple
lower case URL path. For example, <tt class="docutils literal"><span class="pre">ApplesController</span></tt> (which would
be defined in the file name &#8216;ApplesController.php&#8217;) is accessed
from <a class="reference external" href="http://example.com/apples">http://example.com/apples</a>.</p>
<p>Multiple word controllers <em>can</em> be any &#8216;inflected&#8217; form which
equals the controller name so:</p>
<ul class="simple">
<li>/redApples</li>
<li>/RedApples</li>
<li>/Red_apples</li>
<li>/red_apples</li>
</ul>
<p>will all resolve to the index of the RedApples controller. However,
the convention is that your URLs are lowercase and underscored,
therefore /red_apples/go_pick is the correct form to access the
<tt class="docutils literal"><span class="pre">RedApplesController::go_pick</span></tt> action.</p>
<p>For more information on CakePHP URLs and parameter handling, see
<a class="reference internal" href="../development/routing.html#routes-configuration"><em>Routes Configuration</em></a>. If you have files/directories in your <tt class="docutils literal"><span class="pre">/webroot</span></tt>
directory that share a name with one of your routes/controllers, you will be
directed to the file/directory and, not to your controller.</p>
</div>
</div>
<div class="section" id="file-and-class-name-conventions">
<span id="file-and-classname-conventions"></span><h2>File and Class Name Conventions<a class="headerlink" href="#file-and-class-name-conventions" title="Permalink to this headline">¶</a></h2>
<p>In general, filenames match the class names, which are
CamelCased. So if you have a class <strong>MyNiftyClass</strong>, then in CakePHP,
the file should be named <strong>MyNiftyClass.php</strong>. Below are
examples of how to name the file for each of the different types of
classes you would typically use in a CakePHP application:</p>
<ul class="simple">
<li>The Controller class <strong>KissesAndHugsController</strong> would be found
in a file named <strong>KissesAndHugsController.php</strong></li>
<li>The Component class <strong>MyHandyComponent</strong> would be found in a
file named <strong>MyHandyComponent.php</strong></li>
<li>The Model class <strong>OptionValue</strong> would be found in a file named
<strong>OptionValue.php</strong></li>
<li>The Behavior class <strong>EspeciallyFunkableBehavior</strong> would be found
in a file named <strong>EspeciallyFunkableBehavior.php</strong></li>
<li>The View class <strong>SuperSimpleView</strong> would be found in a file
named <strong>SuperSimpleView.php</strong></li>
<li>The Helper class <strong>BestEverHelper</strong> would be found in a file
named <strong>BestEverHelper.php</strong></li>
</ul>
<p>Each file would be located in the appropriate folder in your app folder.</p>
</div>
<div class="section" id="model-and-database-conventions">
<h2>Model and Database Conventions<a class="headerlink" href="#model-and-database-conventions" title="Permalink to this headline">¶</a></h2>
<p>Model class names are singular and CamelCased. Person, BigPerson,
and ReallyBigPerson are all examples of conventional model names.</p>
<p>Table names corresponding to CakePHP models are plural and
underscored. The underlying tables for the above mentioned models
would be <tt class="docutils literal"><span class="pre">people</span></tt>, <tt class="docutils literal"><span class="pre">big_people</span></tt>, and <tt class="docutils literal"><span class="pre">really_big_people</span></tt>,
respectively.</p>
<p>You can use the utility library <a class="reference internal" href="../core-utility-libraries/inflector.html#Inflector" title="Inflector"><tt class="xref php php-class docutils literal"><span class="pre">Inflector</span></tt></a> to check the
singular/plural of words. See the
<a class="reference internal" href="../core-utility-libraries/inflector.html"><em>Inflector</em></a> for more
information.</p>
<p>Field names with two or more words are underscored:
first_name.</p>
<p>Foreign keys in hasMany, belongsTo or hasOne relationships are
recognized by default as the (singular) name of the related table
followed by _id. So if a Baker hasMany Cake, the cakes table will
refer to the bakers table via a baker_id foreign key. For a
table like category_types whose name contains multiple words,
the foreign key would be category_type_id.</p>
<p>Join tables, used in hasAndBelongsToMany (HABTM) relationships
between models, should be named after the model tables they will
join, arranged in alphabetical order (apples_zebras rather than
zebras_apples).</p>
<p>All tables with which CakePHP models interact (with the exception
of join tables) require a singular primary key to uniquely
identify each row. If you wish to model a table that does not already have
a single-field primary key, CakePHP&#8217;s convention is that a
single-field primary key is added to the table. You must add a
single-field primary key if you want to use that table&#8217;s model.</p>
<p>CakePHP does not support composite primary keys. If you want to
directly manipulate your join table data, use direct
<a class="reference internal" href="../models/retrieving-your-data.html#model-query"><em>query</em></a> calls or add a primary key to act on it
as a normal model. For example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">CREATE</span> <span class="nx">TABLE</span> <span class="nx">posts_tags</span> <span class="p">(</span>
    <span class="nx">id</span> <span class="nx">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="nx">AUTO_INCREMENT</span><span class="p">,</span>
    <span class="nx">post_id</span> <span class="nx">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="nx">tag_id</span> <span class="nx">INT</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
    <span class="nx">PRIMARY</span> <span class="nx">KEY</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Rather than using an auto-increment key as the primary key, you may
also use char(36). CakePHP will then use a unique 36 character UUID
(String::uuid) whenever you save a new record using the Model::save
method.</p>
</div>
<div class="section" id="view-conventions">
<h2>View Conventions<a class="headerlink" href="#view-conventions" title="Permalink to this headline">¶</a></h2>
<p>View template files are named after the controller functions they
display, in an underscored form. The getReady() function of the
PeopleController class will look for a view template in
/app/View/People/get_ready.ctp.</p>
<p>The basic pattern is
/app/View/Controller/underscored_function_name.ctp.</p>
<p>By naming the pieces of your application using CakePHP conventions,
you gain functionality without the hassle and maintenance tethers
of configuration. Here&#8217;s a final example that ties the conventions
together:</p>
<ul class="simple">
<li>Database table: &#8220;people&#8221;</li>
<li>Model class: &#8220;Person&#8221;, found at /app/Model/Person.php</li>
<li>Controller class: &#8220;PeopleController&#8221;, found at
/app/Controller/PeopleController.php</li>
<li>View template, found at /app/View/People/index.ctp</li>
</ul>
<p>Using these conventions, CakePHP knows that a request to
<a class="reference external" href="http://example.com/people/">http://example.com/people/</a> maps to a call on the index() function
of the PeopleController, where the Person model is automatically
available (and automatically tied to the &#8216;people&#8217; table in the
database), and renders to a file. None of these relationships have
been configured by any means other than by creating classes and
files that you&#8217;d need to create anyway.</p>
<p>Now that you&#8217;ve been introduced to CakePHP&#8217;s fundamentals, you
might try a run through the
<a class="reference internal" href="../tutorials-and-examples/blog/blog.html"><em>Blog Tutorial</em></a> to see how things fit
together.</p>
</div>
</div>


		</div>
	</div>

	<div class="sidebar columns three pull-nine">
<div id="sidebar-navigation" class="hide-on-phones">
	<h2 class="hide-on-desktops">Table of Contents</h2>
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../getting-started.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation/url-rewriting.html">URL Rewriting</a></li>
<li class="toctree-l2"><a class="reference internal" href="a-typical-cakephp-request.html">A Typical CakePHP Request</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">CakePHP Conventions</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cakephp-folder-structure.html">CakePHP Folder Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="cakephp-structure.html">CakePHP Structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries.html">Core Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Console and Shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

<div class="page-contents">
	<h3>Page contents</h3>
	<ul>
<li><a class="reference internal" href="#">CakePHP Conventions</a><ul>
<li><a class="reference internal" href="#controller-conventions">Controller Conventions</a><ul>
<li><a class="reference internal" href="#url-considerations-for-controller-names">URL Considerations for Controller Names</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-and-class-name-conventions">File and Class Name Conventions</a></li>
<li><a class="reference internal" href="#model-and-database-conventions">Model and Database Conventions</a></li>
<li><a class="reference internal" href="#view-conventions">View Conventions</a></li>
</ul>
</li>
</ul>

</div>
	</div>

</div>

<div class="content row">
	<ul class="related-pages inline">
	<li>
		<a href="../genindex.html" title="General Index" accesskey="I">index</a>
	</li>
	<li>
		<a href="cakephp-folder-structure.html" title="CakePHP Folder Structure" accesskey="N">next</a>
	</li>
	<li>
		<a href="a-typical-cakephp-request.html" title="A Typical CakePHP Request" accesskey="P">previous</a>
	</li>
	</ul>
</div>

	<div class="footer-push"> </div>
</div>






<div class="footer">
	<div class="row">
		<div class="columns six offset-by-three contribute">
			<strong>发现翻译错误?</strong>
			请在下方留言<br />
			<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">[ 我要加入翻译 ]</a>
		</div>
	</div>
	
	<div class="row">
		<div class="columns nine offset-by-three copyright">
					&copy; Copyright 2014, Cake Software Foundation, Inc.
				Last updated on Aug 31, 2015.
				Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
			Sponsored by <a href="http://www.shinetechzhengzhou.com/" target="_blank">盛安德郑州</a>
		</div>
	</div>
</div>

<div id="nav-modal" class="reveal-modal"> </div>
<div id="inline-search-results"></div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
  </body>
</html>