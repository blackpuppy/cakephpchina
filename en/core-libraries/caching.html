

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Caching" lang="en" name="title" />
<meta content="uniform api,xcache,cache engine,cache system,atomic operations,php class,disk storage,static methods,php extension,consistent manner,similar features,apc,memcache,queries,cakephp,elements,servers,memory" lang="en" name="keywords" />

    <title>Caching</title>
    <link href="../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../_static/app.js"></script>

    <link rel="alternate" hreflang="pt" href="../../pt/core-libraries/caching.html" /><link rel="alternate" hreflang="es" href="../../es/core-libraries/caching.html" /><link rel="alternate" hreflang="ja" href="../../ja/core-libraries/caching.html" /><link rel="alternate" hreflang="fr" href="../../fr/core-libraries/caching.html" /><link rel="alternate" hreflang="zh" href="../../zh/core-libraries/caching.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 2.x documentation" href="../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../index.html" />
    <link rel="up" title="Utilities" href="toc-utilities.html" />
    <link rel="next" title="CakeEmail" href="../core-utility-libraries/email.html" />
    <link rel="prev" title="Utilities" href="toc-utilities.html" />

    <script type="text/javascript">
    window.lang = "en";
    </script>
  </head>
  <body>

<div id="container">
	
	<header class="nav-down">
		<div class="container-fluid hidden-xs hidden-sm">
			<div class="row">
				<div class="col-sm-3 col-md-3">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-9 col-md-9">
					<nav class="navbar-right">
						<ul class="menu">
							<li class="first">
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
								<ul class="submenu">
									
<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
								</ul>
							</li>

							<li><a href="http://cakephp.org/business-solutions">Business Solutions</a></li>
							<li><a href="http://cakephp.org/showcase">Showcase</a></li>

							<li>
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
								<div class="megamenu full">
									<div class="row">
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
											</ul>
										</div>
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
											</ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>

		
		<div class="container-fluid hidden-md hidden-lg">
			<div class="row">
				<div class="col-sm-6 col-xs-6">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-6 col-xs-6">
					<div class="navbar-right">
						<button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
							<i class="fa fa-bars toggle-modal"></i>
						</button>
					</div>
					<div id="wrap">
						<form class="search" action="../search.html" method="get">
							<input name="q" type="search" placeholder="What are you looking for?">
							<input id="search_submit" value="Search" type="submit">
						</form>
					</div>
				</div>
			</div>
		</div>

		
		<section id="nav-cook" class="hidden-xs hidden-sm">
			<div class="container-fluid ">
				<div class="row ">
					<div class="col-md-12 back-book">
						<div class="col-md-4 col-md-offset-1 text-center t-cook-nav p0 hidden-sm hidden-xs">
							<h2>
								<a href="../contents.html">
									<span class="glyph_range icon-submenu icon-submenu-cook">B</span>
									CakePHP 2.x <strong>Cookbook</strong>
								</a>
							</h2>
						</div>

						<div class="col-md-4 hidden-sm">
							<form class="search" action="../search.html" method="get">
								<input type="hidden" name="check_keywords" value="yes" />
								<input type="hidden" name="area" value="default" />

								<div class="col-md-10 p0">
									<input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
								</div>
								<div class="col-md-2 p0 search-cook">
									<button type="submit">
										<span class="glyph_range icon-submenu icon-submenu-cook">A</span>
									</button>
								</div>
							</form>
						</div>

						
						<div class="col-md-3">
							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Language:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
													role="button" aria-haspopup="true" aria-expanded="false" href="#">
														en
														<i class="fa fa-menu-en fa-chevron-down"></i>
													</a>
											<ul class="dropdown-menu">
											
												<li></li>
											
												<li><a href="../../pt/core-libraries/caching.html">pt</a></li>
											
												<li><a href="../../es/core-libraries/caching.html">es</a></li>
											
												<li><a href="../../ja/core-libraries/caching.html">ja</a></li>
											
												<li><a href="../../fr/core-libraries/caching.html">fr</a></li>
											
												<li><a href="../../zh/core-libraries/caching.html">zh</a></li>
											
											</ul>
										</li>
									</ul>
								</div>
							</div>

							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Version:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">2.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
											<ul class="dropdown-menu">
												<li><a href="http://book.cakephp.org/3.0/en">3.x Book</a></li>
												<li><a href="http://book.cakephp.org/2.0/en">2.x Book</a></li>
												<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
												<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
												<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</section>
	</header>

	
	<section class="nav-btn visible-sm visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
				</div>

				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
				</div>
			</div>
		</div>
	</section>

	
	<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title-cookbook" id="modal-header"></h4>
				</div>
				<div class="modal-body"></div>
			</div>
		</div>
	</div>

<div class="container page-container"><div id="improve-slideout">
		<i class="fa fa-pencil icon-improve"></i>
		<a href="https://github.com/cakephp/docs/edit/master/en/core-libraries/caching.rst" target="_blank">
			<div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
		</a>
	</div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

	
	<div class="row">
		<div class="col-sm-12 col-md-9 col-md-push-3 space-left push-off"><div class="page-contents col-sm-5">
				<h3>Page Contents</h3>
				<ul>
<li><a class="reference internal" href="#">Caching</a><ul>
<li><a class="reference internal" href="#configuring-cache-class">Configuring Cache class</a></li>
<li><a class="reference internal" href="#creating-a-storage-engine-for-cache">Creating a storage engine for Cache</a></li>
<li><a class="reference internal" href="#using-cache-to-store-common-query-results">Using Cache to store common query results</a></li>
<li><a class="reference internal" href="#using-cache-to-store-counters">Using Cache to store counters</a></li>
<li><a class="reference internal" href="#using-groups">Using groups</a></li>
<li><a class="reference internal" href="#cache-api">Cache API</a></li>
</ul>
</li>
</ul>

			</div><div class="document-body">
			
  <div class="section" id="caching">
<h1>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h1>
<p>Caching is frequently used to reduce the time it takes to create or read from
other resources. Caching is often used to make reading from expensive
resources less expensive. You can easily store the results of expensive queries,
or remote webservice access that doesn&#8217;t frequently change in a cache. Once
in the cache, re-reading the stored resource from the cache is much cheaper
than accessing the remote resource.</p>
<p>Caching in CakePHP is primarily facilitated by the <a class="reference internal" href="#Cache" title="Cache"><code class="xref php php-class docutils literal"><span class="pre">Cache</span></code></a> class.
This class provides a set of static methods that provide a uniform API to
dealing with all different types of Caching implementations. CakePHP
comes with several cache engines built-in, and provides an easy system
to implement your own caching systems. The built-in caching engines are:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">FileCache</span></code> File cache is a simple cache that uses local files. It
is the slowest cache engine, and doesn&#8217;t provide as many features for
atomic operations. However, since disk storage is often quite cheap,
storing large objects, or elements that are infrequently written
work well in files. This is the default Cache engine for 2.3+</li>
<li><code class="docutils literal"><span class="pre">ApcCache</span></code> APC cache uses the <a class="reference external" href="http://php.net/apc">APC</a> or <a class="reference external" href="http://php.net/apcu">APCu</a> extension. These extensions use shared memory on the
webserver to store objects. This makes it very fast, and able to provide
atomic read/write features. By default CakePHP in 2.0-2.2 will use this cache
engine, if it&#8217;s available.</li>
<li><code class="docutils literal"><span class="pre">Wincache</span></code> Wincache uses the <a class="reference external" href="http://php.net/wincache">Wincache</a>
extension. Wincache is similar to APC in features and performance, but
optimized for Windows and Microsoft IIS.</li>
<li><code class="docutils literal"><span class="pre">XcacheEngine</span></code> <a class="reference external" href="http://xcache.lighttpd.net/">Xcache</a>
is a PHP extension that provides similar features to APC.</li>
<li><code class="docutils literal"><span class="pre">MemcacheEngine</span></code> Uses the <a class="reference external" href="http://php.net/memcache">Memcache</a>
extension. Memcache provides a very fast cache system that can be
distributed across many servers, and provides atomic operations.</li>
<li><code class="docutils literal"><span class="pre">MemcachedEngine</span></code> Uses the <a class="reference external" href="http://php.net/memcached">Memcached</a>
extension. It also interfaces with memcache but provides better performance.</li>
<li><code class="docutils literal"><span class="pre">RedisEngine</span></code> Uses the <a class="reference external" href="https://github.com/nicolasff/phpredis">phpredis</a>
extension. Redis provides a fast and persistent cache system similar to
memcached, also provides atomic operations.</li>
</ul>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.3: </span>FileEngine is always the default cache engine. In the past a number of people
had difficulty setting up and deploying APC correctly both in CLI + web.
Using files should make setting up CakePHP simpler for new developers.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.5: </span>The Memcached engine was added. And the Memcache engine was deprecated.</p>
</div>
<p>Regardless of the CacheEngine you choose to use, your application interacts with
<a class="reference internal" href="#Cache" title="Cache"><code class="xref php php-class docutils literal"><span class="pre">Cache</span></code></a> in a consistent manner. This means you can easily swap cache engines
as your application grows. In addition to the <a class="reference internal" href="#Cache" title="Cache"><code class="xref php php-class docutils literal"><span class="pre">Cache</span></code></a> class, the
<a class="reference internal" href="helpers/cache.html"><span class="doc">CacheHelper</span></a> allows for full page caching, which
can greatly improve performance as well.</p>
<div class="section" id="configuring-cache-class">
<h2>Configuring Cache class<a class="headerlink" href="#configuring-cache-class" title="Permalink to this headline">¶</a></h2>
<p>Configuring the Cache class can be done anywhere, but generally
you will want to configure Cache in <code class="docutils literal"><span class="pre">app/Config/bootstrap.php</span></code>. You
can configure as many cache configurations as you need, and use any
mixture of cache engines. CakePHP uses two cache configurations internally,
which are configured in <code class="docutils literal"><span class="pre">app/Config/core.php</span></code>. If you are using APC or
Memcache you should make sure to set unique keys for the core caches. This will
prevent multiple applications from overwriting each other&#8217;s cached data.</p>
<p>Using multiple cache configurations can help reduce the
number of times you need to use <a class="reference internal" href="#Cache::set" title="Cache::set"><code class="xref php php-func docutils literal"><span class="pre">Cache::set()</span></code></a> as well as
centralize all your cache settings. Using multiple configurations
also lets you incrementally change the storage as needed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must specify which engine to use. It does <strong>not</strong> default to
File.</p>
</div>
<p>Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Cache</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;engine&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;File&#39;</span><span class="p">,</span>
    <span class="s1">&#39;duration&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;+1 hours&#39;</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">CACHE</span><span class="p">,</span>
    <span class="s1">&#39;prefix&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cake_short_&#39;</span>
<span class="p">));</span>

<span class="c1">// long</span>
<span class="nx">Cache</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;long&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;engine&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;File&#39;</span><span class="p">,</span>
    <span class="s1">&#39;duration&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;+1 week&#39;</span><span class="p">,</span>
    <span class="s1">&#39;probability&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span> <span class="o">=&gt;</span> <span class="nx">CACHE</span> <span class="o">.</span> <span class="s1">&#39;long&#39;</span> <span class="o">.</span> <span class="nx">DS</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</div>
<p>By placing the above code in your <code class="docutils literal"><span class="pre">app/Config/bootstrap.php</span></code> you will
have two additional Cache configurations. The name of these
configurations &#8216;short&#8217; or &#8216;long&#8217; is used as the <code class="docutils literal"><span class="pre">$config</span></code>
parameter for <a class="reference internal" href="#Cache::write" title="Cache::write"><code class="xref php php-func docutils literal"><span class="pre">Cache::write()</span></code></a> and <a class="reference internal" href="#Cache::read" title="Cache::read"><code class="xref php php-func docutils literal"><span class="pre">Cache::read()</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using the FileEngine you might need to use the <code class="docutils literal"><span class="pre">mask</span></code> option to
ensure cache files are made with the correct permissions.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.4: </span>In debug mode missing directories will now be automatically created to avoid unnecessary
errors thrown when using the FileEngine.</p>
</div>
</div>
<div class="section" id="creating-a-storage-engine-for-cache">
<h2>Creating a storage engine for Cache<a class="headerlink" href="#creating-a-storage-engine-for-cache" title="Permalink to this headline">¶</a></h2>
<p>You can provide custom <code class="docutils literal"><span class="pre">Cache</span></code> adapters in <code class="docutils literal"><span class="pre">app/Lib</span></code> as well
as in plugins using <code class="docutils literal"><span class="pre">$plugin/Lib</span></code>. App/plugin cache engines can
also override the core engines. Cache adapters must be in a cache
directory. If you had a cache engine named <code class="docutils literal"><span class="pre">MyCustomCacheEngine</span></code>
it would be placed in either <code class="docutils literal"><span class="pre">app/Lib/Cache/Engine/MyCustomCacheEngine.php</span></code>
as an app/libs or in <code class="docutils literal"><span class="pre">$plugin/Lib/Cache/Engine/MyCustomCacheEngine.php</span></code> as
part of a plugin. Cache configs from plugins need to use the plugin
dot syntax.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Cache</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;engine&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;CachePack.MyCustomCache&#39;</span><span class="p">,</span>
    <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">App and Plugin cache engines should be configured in
<code class="docutils literal"><span class="pre">app/Config/bootstrap.php</span></code>. If you try to configure them in core.php
they will not work correctly.</p>
</div>
<p>Custom Cache engines must extend <a class="reference internal" href="#CacheEngine" title="CacheEngine"><code class="xref php php-class docutils literal"><span class="pre">CacheEngine</span></code></a> which defines
a number of abstract methods as well as provides a few initialization
methods.</p>
<p>The required API for a CacheEngine is</p>
<dl class="class">
<dt id="CacheEngine">
<em class="property">class </em><code class="descname">CacheEngine</code><a class="headerlink" href="#CacheEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for all cache engines used with Cache.</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::write">
<code class="descclassname">CacheEngine::</code><code class="descname">write</code><span class="sig-paren">(</span><em>$key</em>, <em>$value</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::write" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean for success.</td>
</tr>
</tbody>
</table>
<p>Write value for a key into cache, optional string $config
specifies configuration name to write to.</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::read">
<code class="descclassname">CacheEngine::</code><code class="descname">read</code><span class="sig-paren">(</span><em>$key</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::read" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The cached value or false for failure.</td>
</tr>
</tbody>
</table>
<p>Read a key from the cache, optional string $config
specifies configuration name to read from. Return false to
indicate the entry has expired or does not exist.</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::delete">
<code class="descclassname">CacheEngine::</code><code class="descname">delete</code><span class="sig-paren">(</span><em>$key</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::delete" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean true on success.</td>
</tr>
</tbody>
</table>
<p>Delete a key from the cache, optional string $config
specifies configuration name to delete from. Return false to
indicate that the entry did not exist or could not be deleted.</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::clear">
<code class="descclassname">CacheEngine::</code><code class="descname">clear</code><span class="sig-paren">(</span><em>$check</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::clear" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean true on success.</td>
</tr>
</tbody>
</table>
<p>Delete all keys from the cache. If $check is true, you should
validate that each value is actually expired.</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::clearGroup">
<code class="descclassname">CacheEngine::</code><code class="descname">clearGroup</code><span class="sig-paren">(</span><em>$group</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::clearGroup" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean true on success.</td>
</tr>
</tbody>
</table>
<p>Delete all keys from the cache belonging to the same group.</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::decrement">
<code class="descclassname">CacheEngine::</code><code class="descname">decrement</code><span class="sig-paren">(</span><em>$key</em>, <em>$offset = 1</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::decrement" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The decremented value on success, false otherwise.</td>
</tr>
</tbody>
</table>
<p>Decrement a number under the key and return decremented value</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::increment">
<code class="descclassname">CacheEngine::</code><code class="descname">increment</code><span class="sig-paren">(</span><em>$key</em>, <em>$offset = 1</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::increment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The incremented value on success, false otherwise.</td>
</tr>
</tbody>
</table>
<p>Increment a number under the key and return incremented value</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::gc">
<code class="descclassname">CacheEngine::</code><code class="descname">gc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::gc" title="Permalink to this definition">¶</a></dt>
<dd><p>Not required, but used to do clean up when resources expire.
FileEngine uses this to delete files containing expired content.</p>
</dd></dl>

<dl class="method">
<dt id="CacheEngine::add">
<code class="descclassname">CacheEngine::</code><code class="descname">add</code><span class="sig-paren">(</span><em>$key</em>, <em>$value</em><span class="sig-paren">)</span><a class="headerlink" href="#CacheEngine::add" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a value in the cache if it did not already exist. Should use
an atomic check and set where possible.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.8: </span>add method was added in 2.8.0.</p>
</div>
</dd></dl>

</div>
<div class="section" id="using-cache-to-store-common-query-results">
<h2>Using Cache to store common query results<a class="headerlink" href="#using-cache-to-store-common-query-results" title="Permalink to this headline">¶</a></h2>
<p>You can greatly improve the performance of your application by putting
results that infrequently change, or that are subject to heavy reads into the
cache. A perfect example of this are the results from <code class="xref php php-meth docutils literal"><span class="pre">Model::find()</span></code>.
A method that uses Cache to store results could look like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Post</span> <span class="k">extends</span> <span class="nx">AppModel</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">newest</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nx">Cache</span><span class="o">::</span><span class="na">read</span><span class="p">(</span><span class="s1">&#39;newest_posts&#39;</span><span class="p">,</span> <span class="s1">&#39;long&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;order&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Post.updated DESC&#39;</span><span class="p">,</span> <span class="s1">&#39;limit&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">));</span>
            <span class="nx">Cache</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;newest_posts&#39;</span><span class="p">,</span> <span class="nv">$result</span><span class="p">,</span> <span class="s1">&#39;long&#39;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You could improve the above code by moving the cache reading logic into
a behavior, that read from the cache, or ran the associated model method.
That is an exercise you can do though.</p>
<p>As of 2.5 you can accomplish the above much more simple by using
<a class="reference internal" href="#Cache::remember" title="Cache::remember"><code class="xref php php-meth docutils literal"><span class="pre">Cache::remember()</span></code></a>. Assuming you are using PHP 5.3 or
newer, using the <code class="docutils literal"><span class="pre">remember()</span></code> method would look like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Post</span> <span class="k">extends</span> <span class="nx">AppModel</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">newest</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$model</span> <span class="o">=</span> <span class="nv">$this</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">Cache</span><span class="o">::</span><span class="na">remember</span><span class="p">(</span><span class="s1">&#39;newest_posts&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$model</span><span class="p">){</span>
            <span class="k">return</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;order&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Post.updated DESC&#39;</span><span class="p">,</span>
                <span class="s1">&#39;limit&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span>
            <span class="p">));</span>
        <span class="p">},</span> <span class="s1">&#39;long&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="using-cache-to-store-counters">
<h2>Using Cache to store counters<a class="headerlink" href="#using-cache-to-store-counters" title="Permalink to this headline">¶</a></h2>
<p>Counters for various things are easily stored in a cache. For example, a simple
countdown for remaining &#8216;slots&#8217; in a contest could be stored in Cache. The
Cache class exposes atomic ways to increment/decrement counter values in an easy
way. Atomic operations are important for these values as it reduces the risk of
contention, a scenario where two users simultaneously lower the value by one,
resulting in an incorrect value.</p>
<p>After setting an integer value, you can manipulate it using
<a class="reference internal" href="#Cache::increment" title="Cache::increment"><code class="xref php php-meth docutils literal"><span class="pre">Cache::increment()</span></code></a> and <a class="reference internal" href="#Cache::decrement" title="Cache::decrement"><code class="xref php php-meth docutils literal"><span class="pre">Cache::decrement()</span></code></a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Cache</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;initial_count&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

<span class="c1">// Later on</span>
<span class="nx">Cache</span><span class="o">::</span><span class="na">decrement</span><span class="p">(</span><span class="s1">&#39;initial_count&#39;</span><span class="p">);</span>

<span class="c1">// or</span>
<span class="nx">Cache</span><span class="o">::</span><span class="na">increment</span><span class="p">(</span><span class="s1">&#39;initial_count&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Incrementing and decrementing do not work with FileEngine. You should use
APC, Redis or Memcached instead.</p>
</div>
</div>
<div class="section" id="using-groups">
<h2>Using groups<a class="headerlink" href="#using-groups" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2.</span></p>
</div>
<p>Sometimes you will want to mark multiple cache entries to belong to a certain
group or namespace. This is a common requirement for mass-invalidating keys
whenever some information changes that is shared among all entries in the same
group. This is possible by declaring the groups in cache configuration:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Cache</span><span class="o">::</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;site_home&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;engine&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Redis&#39;</span><span class="p">,</span>
    <span class="s1">&#39;duration&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;+999 days&#39;</span><span class="p">,</span>
    <span class="s1">&#39;groups&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;comment&#39;</span><span class="p">,</span> <span class="s1">&#39;post&#39;</span><span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Let&#8217;s say you want to store the HTML generated for your homepage in cache, but
would also want to automatically invalidate this cache every time a comment or
post is added to your database. By adding the groups <code class="docutils literal"><span class="pre">comment</span></code> and <code class="docutils literal"><span class="pre">post</span></code>,
we have effectively tagged any key stored into this cache configuration with
both group names.</p>
<p>For instance, whenever a new post is added, we could tell the Cache engine to
remove all entries associated to the <code class="docutils literal"><span class="pre">post</span></code> group:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Model/Post.php</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">afterSave</span><span class="p">(</span><span class="nv">$created</span><span class="p">,</span> <span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$created</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">Cache</span><span class="o">::</span><span class="na">clearGroup</span><span class="p">(</span><span class="s1">&#39;post&#39;</span><span class="p">,</span> <span class="s1">&#39;site_home&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
<p><a class="reference internal" href="#Cache::groupConfigs" title="Cache::groupConfigs"><code class="xref php php-func docutils literal"><span class="pre">Cache::groupConfigs()</span></code></a> can be used to retrieve mapping between
group and configurations, i.e.: having the same group:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Model/Post.php</span>

<span class="sd">/**</span>
<span class="sd"> * A variation of previous example that clears all Cache configurations</span>
<span class="sd"> * having the same group</span>
<span class="sd"> */</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">afterSave</span><span class="p">(</span><span class="nv">$created</span><span class="p">,</span> <span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$created</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$configs</span> <span class="o">=</span> <span class="nx">Cache</span><span class="o">::</span><span class="na">groupConfigs</span><span class="p">(</span><span class="s1">&#39;post&#39;</span><span class="p">);</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="nv">$configs</span><span class="p">[</span><span class="s1">&#39;post&#39;</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$config</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">Cache</span><span class="o">::</span><span class="na">clearGroup</span><span class="p">(</span><span class="s1">&#39;post&#39;</span><span class="p">,</span> <span class="nv">$config</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Groups are shared across all cache configs using the same engine and same
prefix. If you are using groups and want to take advantage of group deletion,
choose a common prefix for all your configs.</p>
</div>
<div class="section" id="cache-api">
<h2>Cache API<a class="headerlink" href="#cache-api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Cache">
<em class="property">class </em><code class="descname">Cache</code><a class="headerlink" href="#Cache" title="Permalink to this definition">¶</a></dt>
<dd><p>The Cache class in CakePHP provides a generic frontend for several
backend caching systems. Different Cache configurations and engines
can be set up in your app/Config/core.php</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::config">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">config</code><span class="sig-paren">(</span><em>$name = null</em>, <em>$settings = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::config" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Cache::config()</span></code> is used to create additional Cache
configurations. These additional configurations can have different
duration, engines, paths, or prefixes than your default cache
config.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::read">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">read</code><span class="sig-paren">(</span><em>$key</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::read" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Cache::read()</span></code> is used to read the cached value stored under
<code class="docutils literal"><span class="pre">$key</span></code> from the <code class="docutils literal"><span class="pre">$config</span></code>. If $config is null the default
config will be used. <code class="docutils literal"><span class="pre">Cache::read()</span></code> will return the cached value
if it is a valid cache or <code class="docutils literal"><span class="pre">false</span></code> if the cache has expired or
doesn&#8217;t exist. The contents of the cache might evaluate false, so
make sure you use the strict comparison operators: <code class="docutils literal"><span class="pre">===</span></code> or
<code class="docutils literal"><span class="pre">!==</span></code>.</p>
<p>For example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$cloud</span> <span class="o">=</span> <span class="nx">Cache</span><span class="o">::</span><span class="na">read</span><span class="p">(</span><span class="s1">&#39;cloud&#39;</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$cloud</span> <span class="o">!==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$cloud</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// generate cloud data</span>
<span class="c1">// ...</span>

<span class="c1">// store data in cache</span>
<span class="nx">Cache</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;cloud&#39;</span><span class="p">,</span> <span class="nv">$cloud</span><span class="p">);</span>
<span class="k">return</span> <span class="nv">$cloud</span><span class="p">;</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::write">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">write</code><span class="sig-paren">(</span><em>$key</em>, <em>$value</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::write" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Cache::write()</span></code> will write a $value to the Cache. You can read or
delete this value later by referring to it by <code class="docutils literal"><span class="pre">$key</span></code>. You may
specify an optional configuration to store the cache in as well. If
no <code class="docutils literal"><span class="pre">$config</span></code> is specified, default will be used. <code class="docutils literal"><span class="pre">Cache::write()</span></code>
can store any type of object and is ideal for storing results of
model finds:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">((</span><span class="nv">$posts</span> <span class="o">=</span> <span class="nx">Cache</span><span class="o">::</span><span class="na">read</span><span class="p">(</span><span class="s1">&#39;posts&#39;</span><span class="p">))</span> <span class="o">===</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$posts</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Post</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">);</span>
    <span class="nx">Cache</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;posts&#39;</span><span class="p">,</span> <span class="nv">$posts</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Using <code class="docutils literal"><span class="pre">Cache::write()</span></code> and <code class="docutils literal"><span class="pre">Cache::read()</span></code> to easily reduce the number
of trips made to the database to fetch posts.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::delete">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">delete</code><span class="sig-paren">(</span><em>$key</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::delete" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Cache::delete()</span></code> will allow you to completely remove a cached
object from the Cache store.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::set">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">set</code><span class="sig-paren">(</span><em>$settings = array()</em>, <em>$value = null</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::set" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">Cache::set()</span></code> allows you to temporarily override a cache config&#8217;s
settings for one operation (usually a read or write). If you use
<code class="docutils literal"><span class="pre">Cache::set()</span></code> to change the settings for a write, you should
also use <code class="docutils literal"><span class="pre">Cache::set()</span></code> before reading the data back in. If you
fail to do so, the default settings will be used when the cache key
is read.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">Cache</span><span class="o">::</span><span class="na">set</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;duration&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;+30 days&#39;</span><span class="p">));</span>
<span class="nx">Cache</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;results&#39;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>

<span class="c1">// Later on</span>

<span class="nx">Cache</span><span class="o">::</span><span class="na">set</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;duration&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;+30 days&#39;</span><span class="p">));</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nx">Cache</span><span class="o">::</span><span class="na">read</span><span class="p">(</span><span class="s1">&#39;results&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If you find yourself repeatedly calling <code class="docutils literal"><span class="pre">Cache::set()</span></code> then perhaps
you should create a new <a class="reference internal" href="#Cache::config" title="Cache::config"><code class="xref php php-func docutils literal"><span class="pre">Cache::config()</span></code></a>. This will remove the
need to call <code class="docutils literal"><span class="pre">Cache::set()</span></code>.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::increment">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">increment</code><span class="sig-paren">(</span><em>$key</em>, <em>$offset = 1</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::increment" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomically increment a value stored in the cache engine. Ideal for
modifying counters or semaphore type values.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::decrement">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">decrement</code><span class="sig-paren">(</span><em>$key</em>, <em>$offset = 1</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::decrement" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomically decrement a value stored in the cache engine. Ideal for
modifying counters or semaphore type values.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::add">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">add</code><span class="sig-paren">(</span><em>$key</em>, <em>$value</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add data to the cache, but only if the key does not exist already.
In the case that data did exist, this method will return false.
Where possible data is checked &amp; set atomically.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.8: </span>add method was added in 2.8.0.</p>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::clear">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">clear</code><span class="sig-paren">(</span><em>$check</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy all cached values for a cache configuration. In engines like Apc,
Memcache and Wincache, the cache configuration&#8217;s prefix is used to remove
cache entries. Make sure that different cache configurations have different
prefixes.</p>
</dd></dl>

<dl class="method">
<dt id="Cache::clearGroup">
<code class="descclassname">Cache::</code><code class="descname">clearGroup</code><span class="sig-paren">(</span><em>$group</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::clearGroup" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Boolean true on success.</td>
</tr>
</tbody>
</table>
<p>Delete all keys from the cache belonging to the same group.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::gc">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">gc</code><span class="sig-paren">(</span><em>$config</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::gc" title="Permalink to this definition">¶</a></dt>
<dd><p>Garbage collects entries in the cache configuration. This is primarily
used by FileEngine. It should be implemented by any Cache engine
that requires manual eviction of cached data.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::groupConfigs">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">groupConfigs</code><span class="sig-paren">(</span><em>$group = null</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::groupConfigs" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Array of groups and its related configuration names.</td>
</tr>
</tbody>
</table>
<p>Retrieve group names to config mapping.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="Cache::remember">
<em class="property">static </em><code class="descclassname">Cache::</code><code class="descname">remember</code><span class="sig-paren">(</span><em>$key</em>, <em>$callable</em>, <em>$config = 'default'</em><span class="sig-paren">)</span><a class="headerlink" href="#Cache::remember" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides an easy way to do read-through caching. If the cache key exists
it will be returned. If the key does not exist, the callable will be invoked
and the results stored in the cache at the provided key.</p>
<p>For example, you often want to cache query results. You could use
<code class="docutils literal"><span class="pre">remember()</span></code> to make this simple. Assuming you are using PHP 5.3 or
newer:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Articles</span> <span class="k">extends</span> <span class="nx">AppModel</span> <span class="p">{</span>
    <span class="k">function</span> <span class="nf">all</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$model</span> <span class="o">=</span> <span class="nv">$this</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">Cache</span><span class="o">::</span><span class="na">remember</span><span class="p">(</span><span class="s1">&#39;all_articles&#39;</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$model</span><span class="p">){</span>
            <span class="k">return</span> <span class="nv">$model</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.5: </span>remember() was added in 2.5.</p>
</div>
</dd></dl>

</div>
</div>


			</div>
		</div>

		
		<div class="col-md-3 col-md-pull-9 pull-off hidden-xs hidden-sm" lang="en">
			<aside class="sidebar">
				<div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core-libraries.html">Core Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="toc-general-purpose.html">General Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="toc-behaviors.html">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="toc-components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="toc-helpers.html">Helpers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="toc-utilities.html">Utilities</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/email.html">CakeEmail</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/hash.html">Hash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/httpsocket.html">HttpSocket</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/inflector.html">Inflector</a></li>
<li class="toctree-l3"><a class="reference internal" href="internationalization-and-localization.html">Internationalization &amp; Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/number.html">CakeNumber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/router.html">Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/sanitize.html">Data Sanitization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/security.html">Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/set.html">Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/string.html">CakeText</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/time.html">CakeTime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-utility-libraries/xml.html">Xml</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Shells, Tasks &amp; Console Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

				</div>
			</aside>
			<aside class="sidebar">
				<div class="mb30 row">
				</div>
			</aside>
		</div>
	</div>
</div>

<section id="socials" class="back-3">
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-4  social text-center">
				<div class="col-sm-3 col-xs-3">
					<div id="fb-root"></div>
						<script>(function(d, s, id) {
						  var js, fjs = d.getElementsByTagName(s)[0];
						  if (d.getElementById(id)) return;
						  js = d.createElement(s); js.id = id;
						  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
						  fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk'));
						</script>
						<div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-8 social-footer text-center ">
				<a href="#">发现翻译错误? 请在下面留言</a>
				<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">我要加入翻译</a>
				<a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
				<a href="http://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
				<a href="http://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
				<a href="http://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
				<a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
				<a href="http://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
				<a href="http://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
				<a href="http://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
			</div>
		</div>
	</div>
</section>

<footer id="footer" class="footer-wrapper">
	<div class="container">

		<div class="row col-p30">
			<div class="col-sm-12 col-md-3">
				<div class="footer-widget t-footer">
					<div class="col-md-12">
						<a href="https://www.openhub.net/p/cakephp">
							<img src="../_static/open-hub.png">
						</a>
						<div class="mt10">
							<a href="https://www.rackspace.com/">
								<img src="../_static/rackspace.png">
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-12 col-md-9">
				<div class="col-md-3 col-sm-6 business-solution">
					<ul class="footer-menu">
						<li class="menu-title">
	<a href="http://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
	<a href="http://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12 text-center mt30">
				<p class="copyright">
							&copy; Copyright 2016, Cake Software Foundation, Inc.
						Last updated on Aug 12, 2016.
						Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
				</p>
			</div>
		</div>
	</div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
  </body>
</html>