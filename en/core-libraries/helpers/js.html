

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="JsHelper" lang="en" name="title" />
<meta content="The Js Helper supports the JavaScript libraries Prototype, jQuery and Mootools and provides methods for manipulating javascript." lang="en" name="description" />
<meta content="js helper,javascript,cakephp jquery,cakephp mootools,cakephp prototype,cakephp jquery ui,cakephp scriptaculous,cakephp javascript,javascript engine" lang="en" name="keywords" />

    <title>JsHelper</title>
    <link href="../../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../../_static/app.js"></script>

    <link rel="alternate" hreflang="pt" href="../../../pt/core-libraries/helpers/js.html" /><link rel="alternate" hreflang="es" href="../../../es/core-libraries/helpers/js.html" /><link rel="alternate" hreflang="ja" href="../../../ja/core-libraries/helpers/js.html" /><link rel="alternate" hreflang="fr" href="../../../fr/core-libraries/helpers/js.html" /><link rel="alternate" hreflang="zh" href="../../../zh/core-libraries/helpers/js.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 2.x documentation" href="../../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../../index.html" />
    <link rel="up" title="Helpers" href="../../views/helpers.html" />
    <link rel="next" title="NumberHelper" href="number.html" />
    <link rel="prev" title="HtmlHelper" href="html.html" />

    <script type="text/javascript">
    window.lang = "en";
    </script>
  </head>
  <body>

<div id="container">
	
	<header class="nav-down">
		<div class="container-fluid hidden-xs hidden-sm">
			<div class="row">
				<div class="col-sm-3 col-md-3">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-9 col-md-9">
					<nav class="navbar-right">
						<ul class="menu">
							<li class="first">
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
								<ul class="submenu">
									
<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
								</ul>
							</li>

							<li><a href="http://cakephp.org/business-solutions">Business Solutions</a></li>
							<li><a href="http://cakephp.org/showcase">Showcase</a></li>

							<li>
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
								<div class="megamenu full">
									<div class="row">
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
											</ul>
										</div>
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
											</ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>

		
		<div class="container-fluid hidden-md hidden-lg">
			<div class="row">
				<div class="col-sm-6 col-xs-6">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-6 col-xs-6">
					<div class="navbar-right">
						<button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
							<i class="fa fa-bars toggle-modal"></i>
						</button>
					</div>
					<div id="wrap">
						<form class="search" action="../../search.html" method="get">
							<input name="q" type="search" placeholder="What are you looking for?">
							<input id="search_submit" value="Search" type="submit">
						</form>
					</div>
				</div>
			</div>
		</div>

		
		<section id="nav-cook" class="hidden-xs hidden-sm">
			<div class="container-fluid ">
				<div class="row ">
					<div class="col-md-12 back-book">
						<div class="col-md-4 col-md-offset-1 text-center t-cook-nav p0 hidden-sm hidden-xs">
							<h2>
								<a href="../../contents.html">
									<span class="glyph_range icon-submenu icon-submenu-cook">B</span>
									CakePHP 2.x <strong>Cookbook</strong>
								</a>
							</h2>
						</div>

						<div class="col-md-4 hidden-sm">
							<form class="search" action="../../search.html" method="get">
								<input type="hidden" name="check_keywords" value="yes" />
								<input type="hidden" name="area" value="default" />

								<div class="col-md-10 p0">
									<input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
								</div>
								<div class="col-md-2 p0 search-cook">
									<button type="submit">
										<span class="glyph_range icon-submenu icon-submenu-cook">A</span>
									</button>
								</div>
							</form>
						</div>

						
						<div class="col-md-3">
							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Language:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
													role="button" aria-haspopup="true" aria-expanded="false" href="#">
														en
														<i class="fa fa-menu-en fa-chevron-down"></i>
													</a>
											<ul class="dropdown-menu">
											
												<li></li>
											
												<li><a href="../../../pt/core-libraries/helpers/js.html">pt</a></li>
											
												<li><a href="../../../es/core-libraries/helpers/js.html">es</a></li>
											
												<li><a href="../../../ja/core-libraries/helpers/js.html">ja</a></li>
											
												<li><a href="../../../fr/core-libraries/helpers/js.html">fr</a></li>
											
												<li><a href="../../../zh/core-libraries/helpers/js.html">zh</a></li>
											
											</ul>
										</li>
									</ul>
								</div>
							</div>

							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Version:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">2.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
											<ul class="dropdown-menu">
												<li><a href="http://book.cakephp.org/3.0/en">3.x Book</a></li>
												<li><a href="http://book.cakephp.org/2.0/en">2.x Book</a></li>
												<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
												<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
												<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</section>
	</header>

	
	<section class="nav-btn visible-sm visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
				</div>

				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
				</div>
			</div>
		</div>
	</section>

	
	<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title-cookbook" id="modal-header"></h4>
				</div>
				<div class="modal-body"></div>
			</div>
		</div>
	</div>

<div class="container page-container"><div id="improve-slideout">
		<i class="fa fa-pencil icon-improve"></i>
		<a href="https://github.com/cakephp/docs/edit/master/en/core-libraries/helpers/js.rst" target="_blank">
			<div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
		</a>
	</div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

	
	<div class="row">
		<div class="col-sm-12 col-md-9 col-md-push-3 space-left push-off"><div class="page-contents col-sm-5">
				<h3>Page Contents</h3>
				<ul>
<li><a class="reference internal" href="#">JsHelper</a><ul>
<li><a class="reference internal" href="#using-a-specific-javascript-engine">Using a specific JavaScript engine</a><ul>
<li><a class="reference internal" href="#using-jquery-with-other-libraries">Using jQuery with other libraries</a></li>
<li><a class="reference internal" href="#using-the-jshelper-inside-customhelpers">Using the JsHelper inside customHelpers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-a-javascript-engine">Creating a JavaScript Engine</a></li>
<li><a class="reference internal" href="#javascript-engine-usage">JavaScript engine usage</a><ul>
<li><a class="reference internal" href="#common-options">Common options</a></li>
<li><a class="reference internal" href="#callback-wrapping">Callback wrapping</a></li>
<li><a class="reference internal" href="#working-with-buffered-scripts">Working with buffered scripts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-methods">Other Methods</a></li>
<li><a class="reference internal" href="#ajax-pagination">AJAX Pagination</a><ul>
<li><a class="reference internal" href="#making-ajax-links">Making AJAX Links</a></li>
<li><a class="reference internal" href="#adding-effects-and-transitions">Adding effects and transitions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

			</div><div class="document-body">
			
  <div class="section" id="jshelper">
<h1>JsHelper<a class="headerlink" href="#jshelper" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="JsHelper">
<em class="property">class </em><code class="descname">JsHelper</code><span class="sig-paren">(</span><em>View $view</em>, <em>array $settings = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The JsHelper is currently deprecated and completely removed in 3.x.
We recommend using regular JavaScript and directly interacting with
JavaScript libraries where possible.</p>
</div>
<p>Since the beginning CakePHP&#8217;s support for JavaScript has been with
Prototype/Scriptaculous. While we still think these are
excellent JavaScript libraries, the community has been asking for
support for other libraries. Rather than drop Prototype in favour
of another JavaScript library. We created an Adapter based helper,
and included 3 of the most requested libraries.
Prototype/Scriptaculous, Mootools/Mootools-more, and jQuery/jQuery
UI. While the API is not as expansive as the previous
AjaxHelper we feel that the adapter based solution allows for a
more extensible solution giving developers the power and
flexibility they need to address their specific application needs.</p>
<p>JavaScript Engines form the backbone of the new JsHelper. A
JavaScript engine translates an abstract JavaScript element into
concrete JavaScript code specific to the JavaScript library being
used. In addition they create an extensible system for others to
use.</p>
<div class="section" id="using-a-specific-javascript-engine">
<h2>Using a specific JavaScript engine<a class="headerlink" href="#using-a-specific-javascript-engine" title="Permalink to this headline">¶</a></h2>
<p>First of all download your preferred JavaScript library and place
it in <code class="docutils literal"><span class="pre">app/webroot/js</span></code></p>
<p>Then you must include the library in your page. To include it in
all pages, add this line to the &lt;head&gt; section of
<code class="docutils literal"><span class="pre">app/View/Layouts/default.ctp</span></code>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span> <span class="c1">// Include jQuery library</span>
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">jquery</span></code> with the name of your library file (.js will be
added to the name).</p>
<p>By default scripts are cached, and you must explicitly print out
the cache. To do this at the end of each page, include this line
just before the ending <code class="docutils literal"><span class="pre">&lt;/body&gt;</span></code> tag:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">writeBuffer</span><span class="p">();</span> <span class="c1">// Write cached scripts</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You must include the library in your page and print the cache for
the helper to function.</p>
</div>
<p>JavaScript engine selection is declared when you include the helper
in your controller:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="nv">$helpers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Js&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Jquery&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>The above would use the Jquery Engine in the instances of JsHelper
in your views. If you do not declare a specific engine, the jQuery
engine will be used as the default. As mentioned before, there are
three engines implemented in the core, but we encourage the
community to expand the library compatibility.</p>
<div class="section" id="using-jquery-with-other-libraries">
<h3>Using jQuery with other libraries<a class="headerlink" href="#using-jquery-with-other-libraries" title="Permalink to this headline">¶</a></h3>
<p>The jQuery library, and virtually all of its plugins are
constrained within the jQuery namespace. As a general rule,
&#8220;global&#8221; objects are stored inside the jQuery namespace as well, so
you shouldn&#8217;t get a clash between jQuery and any other library
(like Prototype, MooTools, or YUI).</p>
<p>That said, there is one caveat:
<strong>By default, jQuery uses &#8220;$&#8221; as a shortcut for &#8220;jQuery&#8221;</strong></p>
<p>To override the &#8220;$&#8221; shortcut, use the jQueryObject variable:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">JqueryEngine</span><span class="o">-&gt;</span><span class="na">jQueryObject</span> <span class="o">=</span> <span class="s1">&#39;$j&#39;</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">scriptBlock</span><span class="p">(</span>
    <span class="s1">&#39;var $j = jQuery.noConflict();&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;inline&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">)</span>
<span class="p">);</span>
<span class="c1">// Tell jQuery to go into noconflict mode</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-jshelper-inside-customhelpers">
<h3>Using the JsHelper inside customHelpers<a class="headerlink" href="#using-the-jshelper-inside-customhelpers" title="Permalink to this headline">¶</a></h3>
<p>Declare the JsHelper in the <code class="docutils literal"><span class="pre">$helpers</span></code> array in your
customHelper:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="nv">$helpers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Js&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is not possible to declare a JavaScript engine inside a custom
helper. Doing that will have no effect.</p>
</div>
<p>If you are willing to use an other JavaScript engine than the
default, do the helper setup in your controller as follows:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="nv">$helpers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;Js&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Prototype&#39;</span><span class="p">),</span>
    <span class="s1">&#39;CustomHelper&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be sure to declare the JsHelper and its engine <strong>on top</strong> of the
<code class="docutils literal"><span class="pre">$helpers</span></code> array in your controller.</p>
</div>
<p>The selected JavaScript engine may disappear (replaced by the
default) from the JsHelper object in your helper, if you miss to do
so and you will get code that does not fit your JavaScript
library.</p>
</div>
</div>
<div class="section" id="creating-a-javascript-engine">
<h2>Creating a JavaScript Engine<a class="headerlink" href="#creating-a-javascript-engine" title="Permalink to this headline">¶</a></h2>
<p>JavaScript engine helpers follow normal helper conventions, with a
few additional restrictions. They must have the <code class="docutils literal"><span class="pre">Engine</span></code> suffix.
<code class="docutils literal"><span class="pre">DojoHelper</span></code> is not good, <code class="docutils literal"><span class="pre">DojoEngineHelper</span></code> is correct.
Furthermore, they should extend <code class="docutils literal"><span class="pre">JsBaseEngineHelper</span></code> in order to
leverage the most of the new API.</p>
</div>
<div class="section" id="javascript-engine-usage">
<h2>JavaScript engine usage<a class="headerlink" href="#javascript-engine-usage" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">JsHelper</span></code> provides a few methods, and acts as a facade for
the the Engine helper. You should not directly access the Engine
helper except in rare occasions. Using the facade features of the
<code class="docutils literal"><span class="pre">JsHelper</span></code> allows you to leverage the buffering and method
chaining features built-in; (method chaining only works in PHP5).</p>
<p>The <code class="docutils literal"><span class="pre">JsHelper</span></code> by default buffers almost all script code
generated, allowing you to collect scripts throughout the view,
elements and layout, and output it in one place. Outputting
buffered scripts is done with <code class="docutils literal"><span class="pre">$this-&gt;Js-&gt;writeBuffer();</span></code> this
will return the buffer contents in a script tag. You can disable
buffering wholesale with the <code class="docutils literal"><span class="pre">$bufferScripts</span></code> property or setting
<code class="docutils literal"><span class="pre">buffer</span> <span class="pre">=&gt;</span> <span class="pre">false</span></code> in methods taking <code class="docutils literal"><span class="pre">$options</span></code>.</p>
<p>Since most methods in JavaScript begin with a selection of elements
in the DOM, <code class="docutils literal"><span class="pre">$this-&gt;Js-&gt;get()</span></code> returns a $this, allowing you to
chain the methods using the selection. Method chaining allows you
to write shorter, more expressive code:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#foo&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">event</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nv">$eventCode</span><span class="p">);</span>
</pre></div>
</div>
<p>Is an example of method chaining. Method chaining is not possible
in PHP4 and the above sample would be written like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#foo&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">event</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nv">$eventCode</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="common-options">
<h3>Common options<a class="headerlink" href="#common-options" title="Permalink to this headline">¶</a></h3>
<p>In attempts to simplify development where JavaScript libraries can change,
a common set of options is supported by <code class="docutils literal"><span class="pre">JsHelper</span></code>, these common
options will be mapped out to the library specific options
internally. If you are not planning on switching JavaScript
libraries, each library also supports all of its native callbacks
and options.</p>
</div>
<div class="section" id="callback-wrapping">
<h3>Callback wrapping<a class="headerlink" href="#callback-wrapping" title="Permalink to this headline">¶</a></h3>
<p>By default all callback options are wrapped with the an anonymous
function with the correct arguments. You can disable this behavior
by supplying the <code class="docutils literal"><span class="pre">wrapCallbacks</span> <span class="pre">=</span> <span class="pre">false</span></code> in your options array.</p>
</div>
<div class="section" id="working-with-buffered-scripts">
<h3>Working with buffered scripts<a class="headerlink" href="#working-with-buffered-scripts" title="Permalink to this headline">¶</a></h3>
<p>One drawback to previous implementation of &#8216;Ajax&#8217; type features was
the scattering of script tags throughout your document, and the
inability to buffer scripts added by elements in the layout. The
new JsHelper if used correctly avoids both of those issues. It is
recommended that you place <code class="docutils literal"><span class="pre">$this-&gt;Js-&gt;writeBuffer()</span></code> at the
bottom of your layout file above the <code class="docutils literal"><span class="pre">&lt;/body&gt;</span></code> tag. This will
allow all scripts generated in layout elements to be output in one
place. It should be noted that buffered scripts are handled
separately from included script files.</p>
<dl class="method">
<dt id="JsHelper::writeBuffer">
<code class="descclassname">JsHelper::</code><code class="descname">writeBuffer</code><span class="sig-paren">(</span><em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::writeBuffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Writes all JavaScript generated so far to a code block or caches
them to a file and returns a linked script.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">inline</span></code> - Set to true to have scripts output as a script
block inline if <code class="docutils literal"><span class="pre">cache</span></code> is also true, a script link tag will be
generated. (default true)</li>
<li><code class="docutils literal"><span class="pre">cache</span></code> - Set to true to have scripts cached to a file and
linked in (default false)</li>
<li><code class="docutils literal"><span class="pre">clear</span></code> - Set to false to prevent script cache from being
cleared (default true)</li>
<li><code class="docutils literal"><span class="pre">onDomReady</span></code> - wrap cached scripts in domready event (default
true)</li>
<li><code class="docutils literal"><span class="pre">safe</span></code> - if an inline block is generated should it be wrapped
in &lt;![CDATA[ ... ]]&gt; (default true)</li>
</ul>
<p>Creating a cache file with <code class="docutils literal"><span class="pre">writeBuffer()</span></code> requires that
<code class="docutils literal"><span class="pre">webroot/js</span></code> be world writable and allows a browser to cache
generated script resources for any page.</p>
<dl class="method">
<dt id="JsHelper::buffer">
<code class="descclassname">JsHelper::</code><code class="descname">buffer</code><span class="sig-paren">(</span><em>$content</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Add <code class="docutils literal"><span class="pre">$content</span></code> to the internal script buffer.</p>
<dl class="method">
<dt id="JsHelper::getBuffer">
<code class="descclassname">JsHelper::</code><code class="descname">getBuffer</code><span class="sig-paren">(</span><em>$clear = true</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::getBuffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Get the contents of the current buffer. Pass in false to not clear
the buffer at the same time.</p>
<p><strong>Buffering methods that are not normally buffered</strong></p>
<p>Some methods in the helpers are buffered by default. The engines
buffer the following methods by default:</p>
<ul class="simple">
<li>event</li>
<li>sortable</li>
<li>drag</li>
<li>drop</li>
<li>slider</li>
</ul>
<p>Additionally you can force any other method in JsHelper to use the
buffering. By appending an boolean to the end of the arguments you
can force other methods to go into the buffer. For example the
<code class="docutils literal"><span class="pre">each()</span></code> method does not normally buffer:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="s1">&#39;alert(&quot;whoa!&quot;);&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</pre></div>
</div>
<p>The above would force the <code class="docutils literal"><span class="pre">each()</span></code> method to use the buffer.
Conversely if you want a method that does buffer to not buffer, you
can pass a <code class="docutils literal"><span class="pre">false</span></code> in as the last argument:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">event</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="s1">&#39;alert(&quot;whoa!&quot;);&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
</pre></div>
</div>
<p>This would force the event function which normally buffers to
return its result.</p>
</div>
</div>
<div class="section" id="other-methods">
<h2>Other Methods<a class="headerlink" href="#other-methods" title="Permalink to this headline">¶</a></h2>
<p>The core JavaScript Engines provide the same feature set across all
libraries, there is also a subset of common options that are
translated into library specific options. This is done to provide
end developers with as unified an API as possible. The following
list of methods are supported by all the Engines included in the
CakePHP core. Whenever you see separate lists for <code class="docutils literal"><span class="pre">Options</span></code> and
<code class="docutils literal"><span class="pre">Event</span> <span class="pre">Options</span></code> both sets of parameters are supplied in the
<code class="docutils literal"><span class="pre">$options</span></code> array for the method.</p>
<dl class="method">
<dt id="JsHelper::object">
<code class="descclassname">JsHelper::</code><code class="descname">object</code><span class="sig-paren">(</span><em>$data</em>, <em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::object" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes <code class="docutils literal"><span class="pre">$data</span></code> into JSON. This method is a proxy for <code class="docutils literal"><span class="pre">json_encode()</span></code>
with a few extra features added via the <code class="docutils literal"><span class="pre">$options</span></code> parameter.</p>
<p><strong>Options:</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">prefix</span></code> - String prepended to the returned data.</li>
<li><code class="docutils literal"><span class="pre">postfix</span></code> - String appended to the returned data.</li>
</ul>
<p><strong>Example Use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$json</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">object</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::sortable">
<code class="descclassname">JsHelper::</code><code class="descname">sortable</code><span class="sig-paren">(</span><em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::sortable" title="Permalink to this definition">¶</a></dt>
<dd><p>Sortable generates a JavaScript snippet to make a set of elements
(usually a list) drag and drop sortable.</p>
<p>The normalized options are:</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">containment</span></code> - Container for move action</li>
<li><code class="docutils literal"><span class="pre">handle</span></code> - Selector to handle element. Only this element will
start sort action.</li>
<li><code class="docutils literal"><span class="pre">revert</span></code> - Whether or not to use an effect to move sortable
into final position.</li>
<li><code class="docutils literal"><span class="pre">opacity</span></code> - Opacity of the placeholder</li>
<li><code class="docutils literal"><span class="pre">distance</span></code> - Distance a sortable must be dragged before
sorting starts.</li>
</ul>
<p><strong>Event Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">start</span></code> - Event fired when sorting starts</li>
<li><code class="docutils literal"><span class="pre">sort</span></code> - Event fired during sorting</li>
<li><code class="docutils literal"><span class="pre">complete</span></code> - Event fired when sorting completes.</li>
</ul>
<p>Other options are supported by each JavaScript library, and you
should check the documentation for your JavaScript library for more
detailed information on its options and parameters.</p>
<p><strong>Example Use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#my-list&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">sortable</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;distance&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s1">&#39;containment&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;parent&#39;</span><span class="p">,</span>
    <span class="s1">&#39;start&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onStart&#39;</span><span class="p">,</span>
    <span class="s1">&#39;complete&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onStop&#39;</span><span class="p">,</span>
    <span class="s1">&#39;sort&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onSort&#39;</span><span class="p">,</span>
    <span class="s1">&#39;wrapCallbacks&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Assuming you were using the jQuery engine, you would get the
following code in your generated JavaScript block</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#myList&quot;</span><span class="p">).</span><span class="nx">sortable</span><span class="p">({</span>
    <span class="nx">containment</span><span class="o">:</span><span class="s2">&quot;parent&quot;</span><span class="p">,</span>
    <span class="nx">distance</span><span class="o">:</span><span class="mi">5</span><span class="p">,</span>
    <span class="nx">sort</span><span class="o">:</span><span class="nx">onSort</span><span class="p">,</span>
    <span class="nx">start</span><span class="o">:</span><span class="nx">onStart</span><span class="p">,</span>
    <span class="nx">stop</span><span class="o">:</span><span class="nx">onStop</span>
<span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::request">
<code class="descclassname">JsHelper::</code><code class="descname">request</code><span class="sig-paren">(</span><em>$url</em>, <em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::request" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a JavaScript snippet to create an <code class="docutils literal"><span class="pre">XmlHttpRequest</span></code> or
&#8216;AJAX&#8217; request.</p>
<p><strong>Event Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">complete</span></code> - Callback to fire on complete.</li>
<li><code class="docutils literal"><span class="pre">success</span></code> - Callback to fire on success.</li>
<li><code class="docutils literal"><span class="pre">before</span></code> - Callback to fire on request initialization.</li>
<li><code class="docutils literal"><span class="pre">error</span></code> - Callback to fire on request failure.</li>
</ul>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">method</span></code> - The method to make the request with defaults to GET
in more libraries</li>
<li><code class="docutils literal"><span class="pre">async</span></code> - Whether or not you want an asynchronous request.</li>
<li><code class="docutils literal"><span class="pre">data</span></code> - Additional data to send.</li>
<li><code class="docutils literal"><span class="pre">update</span></code> - Dom id to update with the content of the response.</li>
<li><code class="docutils literal"><span class="pre">type</span></code> - Data type for response. &#8216;json&#8217; and &#8216;html&#8217; are
supported. Default is html for most libraries.</li>
<li><code class="docutils literal"><span class="pre">evalScripts</span></code> - Whether or not &lt;script&gt; tags should be
eval&#8217;ed.</li>
<li><code class="docutils literal"><span class="pre">dataExpression</span></code> - Should the <code class="docutils literal"><span class="pre">data</span></code> key be treated as a
callback. Useful for supplying <code class="docutils literal"><span class="pre">$options['data']</span></code> as another
JavaScript expression.</li>
</ul>
<p><strong>Example use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">event</span><span class="p">(</span>
    <span class="s1">&#39;click&#39;</span><span class="p">,</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;action&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;param1&#39;</span><span class="p">),</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;async&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#element&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::get">
<code class="descclassname">JsHelper::</code><code class="descname">get</code><span class="sig-paren">(</span><em>$selector</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::get" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the internal &#8216;selection&#8217; to a CSS selector. The active
selection is used in subsequent operations until a new selection is
made:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">JsHelper</span></code> now will reference all other element based methods
on the selection of <code class="docutils literal"><span class="pre">#element</span></code>. To change the active selection,
call <code class="docutils literal"><span class="pre">get()</span></code> again with a new element.</p>
</dd></dl>

<dl class="method">
<dt id="JsHelper::set">
<code class="descclassname">JsHelper::</code><code class="descname">set</code><span class="sig-paren">(</span><em>mixed $one</em>, <em>mixed $two = null</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::set" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass variables into JavaScript. Allows you to set variables that will be
output when the buffer is fetched with <a class="reference internal" href="#JsHelper::getBuffer" title="JsHelper::getBuffer"><code class="xref php php-meth docutils literal"><span class="pre">JsHelper::getBuffer()</span></code></a> or
<a class="reference internal" href="#JsHelper::writeBuffer" title="JsHelper::writeBuffer"><code class="xref php php-meth docutils literal"><span class="pre">JsHelper::writeBuffer()</span></code></a>. The JavaScript variable used to output
set variables can be controlled with <code class="xref php php-attr docutils literal"><span class="pre">JsHelper::$setVariable</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="JsHelper::drag">
<code class="descclassname">JsHelper::</code><code class="descname">drag</code><span class="sig-paren">(</span><em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::drag" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an element draggable.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">handle</span></code> - selector to the handle element.</li>
<li><code class="docutils literal"><span class="pre">snapGrid</span></code> - The pixel grid that movement snaps to, an
array(x, y)</li>
<li><code class="docutils literal"><span class="pre">container</span></code> - The element that acts as a bounding box for the
draggable element.</li>
</ul>
<p><strong>Event Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">start</span></code> - Event fired when the drag starts</li>
<li><code class="docutils literal"><span class="pre">drag</span></code> - Event fired on every step of the drag</li>
<li><code class="docutils literal"><span class="pre">stop</span></code> - Event fired when dragging stops (mouse release)</li>
</ul>
<p><strong>Example use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">drag</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;container&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#content&#39;</span><span class="p">,</span>
    <span class="s1">&#39;start&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onStart&#39;</span><span class="p">,</span>
    <span class="s1">&#39;drag&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onDrag&#39;</span><span class="p">,</span>
    <span class="s1">&#39;stop&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onStop&#39;</span><span class="p">,</span>
    <span class="s1">&#39;snapGrid&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="s1">&#39;wrapCallbacks&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<span class="p">));</span>
</pre></div>
</div>
<p>If you were using the jQuery engine the following code would be
added to the buffer</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#element&quot;</span><span class="p">).</span><span class="nx">draggable</span><span class="p">({</span>
    <span class="nx">containment</span><span class="o">:</span><span class="s2">&quot;#content&quot;</span><span class="p">,</span>
    <span class="nx">drag</span><span class="o">:</span><span class="nx">onDrag</span><span class="p">,</span>
    <span class="nx">grid</span><span class="o">:</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span>
    <span class="nx">start</span><span class="o">:</span><span class="nx">onStart</span><span class="p">,</span>
    <span class="nx">stop</span><span class="o">:</span><span class="nx">onStop</span>
<span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::drop">
<code class="descclassname">JsHelper::</code><code class="descname">drop</code><span class="sig-paren">(</span><em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an element accept draggable elements and act as a dropzone for
dragged elements.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">accept</span></code> - Selector for elements this droppable will accept.</li>
<li><code class="docutils literal"><span class="pre">hoverclass</span></code> - Class to add to droppable when a draggable is
over.</li>
</ul>
<p><strong>Event Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">drop</span></code> - Event fired when an element is dropped into the drop
zone.</li>
<li><code class="docutils literal"><span class="pre">hover</span></code> - Event fired when a drag enters a drop zone.</li>
<li><code class="docutils literal"><span class="pre">leave</span></code> - Event fired when a drag is removed from a drop zone
without being dropped.</li>
</ul>
<p><strong>Example use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">drop</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;accept&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;.items&#39;</span><span class="p">,</span>
    <span class="s1">&#39;hover&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onHover&#39;</span><span class="p">,</span>
    <span class="s1">&#39;leave&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onExit&#39;</span><span class="p">,</span>
    <span class="s1">&#39;drop&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onDrop&#39;</span><span class="p">,</span>
    <span class="s1">&#39;wrapCallbacks&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<span class="p">));</span>
</pre></div>
</div>
<p>If you were using the jQuery engine the following code would be
added to the buffer</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#element&quot;</span><span class="p">).</span><span class="nx">droppable</span><span class="p">({</span>
    <span class="nx">accept</span><span class="o">:</span><span class="s2">&quot;.items&quot;</span><span class="p">,</span>
    <span class="nx">drop</span><span class="o">:</span><span class="nx">onDrop</span><span class="p">,</span>
    <span class="nx">out</span><span class="o">:</span><span class="nx">onExit</span><span class="p">,</span>
    <span class="nx">over</span><span class="o">:</span><span class="nx">onHover</span>
<span class="p">});</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Droppables in Mootools function differently from other libraries.
Droppables are implemented as an extension of Drag. So in addition
to making a get() selection for the droppable element. You must
also provide a selector rule to the draggable element. Furthermore,
Mootools droppables inherit all options from Drag.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::slider">
<code class="descclassname">JsHelper::</code><code class="descname">slider</code><span class="sig-paren">(</span><em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::slider" title="Permalink to this definition">¶</a></dt>
<dd><p>Create snippet of JavaScript that converts an element into a slider
ui widget. See your libraries implementation for additional usage
and features.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">handle</span></code> - The id of the element used in sliding.</li>
<li><code class="docutils literal"><span class="pre">direction</span></code> - The direction of the slider either &#8216;vertical&#8217; or
&#8216;horizontal&#8217;</li>
<li><code class="docutils literal"><span class="pre">min</span></code> - The min value for the slider.</li>
<li><code class="docutils literal"><span class="pre">max</span></code> - The max value for the slider.</li>
<li><code class="docutils literal"><span class="pre">step</span></code> - The number of steps or ticks the slider will have.</li>
<li><code class="docutils literal"><span class="pre">value</span></code> - The initial offset of the slider.</li>
</ul>
<p><strong>Events</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">change</span></code> - Fired when the slider&#8217;s value is updated</li>
<li><code class="docutils literal"><span class="pre">complete</span></code> - Fired when the user stops sliding the handle</li>
</ul>
<p><strong>Example use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">slider</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;complete&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onComplete&#39;</span><span class="p">,</span>
    <span class="s1">&#39;change&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;onChange&#39;</span><span class="p">,</span>
    <span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;direction&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;vertical&#39;</span><span class="p">,</span>
    <span class="s1">&#39;wrapCallbacks&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<span class="p">));</span>
</pre></div>
</div>
<p>If you were using the jQuery engine the following code would be
added to the buffer</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#element&quot;</span><span class="p">).</span><span class="nx">slider</span><span class="p">({</span>
    <span class="nx">change</span><span class="o">:</span><span class="nx">onChange</span><span class="p">,</span>
    <span class="nx">max</span><span class="o">:</span><span class="mi">10</span><span class="p">,</span>
    <span class="nx">min</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="nx">orientation</span><span class="o">:</span><span class="s2">&quot;vertical&quot;</span><span class="p">,</span>
    <span class="nx">stop</span><span class="o">:</span><span class="nx">onComplete</span><span class="p">,</span>
    <span class="nx">value</span><span class="o">:</span><span class="mi">2</span>
<span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::effect">
<code class="descclassname">JsHelper::</code><code class="descname">effect</code><span class="sig-paren">(</span><em>$name</em>, <em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::effect" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a basic effect. By default this method is not buffered and
returns its result.</p>
<p><strong>Supported effect names</strong></p>
<p>The following effects are supported by all JsEngines</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">show</span></code> - reveal an element.</li>
<li><code class="docutils literal"><span class="pre">hide</span></code> - hide an element.</li>
<li><code class="docutils literal"><span class="pre">fadeIn</span></code> - Fade in an element.</li>
<li><code class="docutils literal"><span class="pre">fadeOut</span></code> - Fade out an element.</li>
<li><code class="docutils literal"><span class="pre">slideIn</span></code> - Slide an element in.</li>
<li><code class="docutils literal"><span class="pre">slideOut</span></code> - Slide an element out.</li>
</ul>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">speed</span></code> - Speed at which the animation should occur. Accepted
values are &#8216;slow&#8217;, &#8216;fast&#8217;. Not all effects use the speed option.</li>
</ul>
<p><strong>Example use</strong></p>
<p>If you were using the jQuery engine:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#element&#39;</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">effect</span><span class="p">(</span><span class="s1">&#39;fadeIn&#39;</span><span class="p">);</span>

<span class="c1">// $result contains $(&quot;#foo&quot;).fadeIn();</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::event">
<code class="descclassname">JsHelper::</code><code class="descname">event</code><span class="sig-paren">(</span><em>$type</em>, <em>$content</em>, <em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bind an event to the current selection. <code class="docutils literal"><span class="pre">$type</span></code> can be any of the
normal DOM events or a custom event type if your library supports
them. <code class="docutils literal"><span class="pre">$content</span></code> should contain the function body for the
callback. Callbacks will be wrapped with
<code class="docutils literal"><span class="pre">function</span> <span class="pre">(event)</span> <span class="pre">{</span> <span class="pre">...</span> <span class="pre">}</span></code> unless disabled with the
<code class="docutils literal"><span class="pre">$options</span></code>.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">wrap</span></code> - Whether you want the callback wrapped in an anonymous
function. (defaults to true)</li>
<li><code class="docutils literal"><span class="pre">stop</span></code> - Whether you want the event to stop. (defaults to
true)</li>
</ul>
<p><strong>Example use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#some-link&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">event</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">alert</span><span class="p">(</span><span class="s1">&#39;hey you!&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>If you were using the jQuery library you would get the following
JavaScript code:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#some-link&#39;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hey you!&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>You can remove the <code class="docutils literal"><span class="pre">return</span> <span class="pre">false;</span></code> by passing setting the
<code class="docutils literal"><span class="pre">stop</span></code> option to false:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#some-link&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">event</span><span class="p">(</span>
    <span class="s1">&#39;click&#39;</span><span class="p">,</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">alert</span><span class="p">(</span><span class="s1">&#39;hey you!&#39;</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;stop&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>If you were using the jQuery library you would the following
JavaScript code would be added to the buffer. Note that the default
browser event is not cancelled:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#some-link&#39;</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;hey you!&#39;</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::domReady">
<code class="descclassname">JsHelper::</code><code class="descname">domReady</code><span class="sig-paren">(</span><em>$callback</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::domReady" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the special &#8216;DOM ready&#8217; event. <a class="reference internal" href="#JsHelper::writeBuffer" title="JsHelper::writeBuffer"><code class="xref php php-func docutils literal"><span class="pre">JsHelper::writeBuffer()</span></code></a>
automatically wraps the buffered scripts in a domReady method.</p>
</dd></dl>

<dl class="method">
<dt id="JsHelper::each">
<code class="descclassname">JsHelper::</code><code class="descname">each</code><span class="sig-paren">(</span><em>$callback</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::each" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a snippet that iterates over the currently selected
elements, and inserts <code class="docutils literal"><span class="pre">$callback</span></code>.</p>
<p><strong>Example</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;div.message&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">each</span><span class="p">(</span><span class="s1">&#39;$(this).css({color: &quot;red&quot;});&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Using the jQuery engine would create the following JavaScript:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;div.message&#39;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;red&quot;</span><span class="p">});</span> <span class="p">});</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::alert">
<code class="descclassname">JsHelper::</code><code class="descname">alert</code><span class="sig-paren">(</span><em>$message</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::alert" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a JavaScript snippet containing an <code class="docutils literal"><span class="pre">alert()</span></code> snippet. By
default, <code class="docutils literal"><span class="pre">alert</span></code> does not buffer, and returns the script
snippet.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$alert</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">alert</span><span class="p">(</span><span class="s1">&#39;Hey there&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::confirm">
<code class="descclassname">JsHelper::</code><code class="descname">confirm</code><span class="sig-paren">(</span><em>$message</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::confirm" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a JavaScript snippet containing a <code class="docutils literal"><span class="pre">confirm()</span></code> snippet. By
default, <code class="docutils literal"><span class="pre">confirm</span></code> does not buffer, and returns the script
snippet.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$alert</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">confirm</span><span class="p">(</span><span class="s1">&#39;Are you sure?&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::prompt">
<code class="descclassname">JsHelper::</code><code class="descname">prompt</code><span class="sig-paren">(</span><em>$message</em>, <em>$default</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::prompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a JavaScript snippet containing a <code class="docutils literal"><span class="pre">prompt()</span></code> snippet. By
default, <code class="docutils literal"><span class="pre">prompt</span></code> does not buffer, and returns the script
snippet.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$prompt</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">prompt</span><span class="p">(</span><span class="s1">&#39;What is your favorite color?&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::submit">
<code class="descclassname">JsHelper::</code><code class="descname">submit</code><span class="sig-paren">(</span><em>$caption = null</em>, <em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a submit input button that enables <code class="docutils literal"><span class="pre">XmlHttpRequest</span></code>
submitted forms. Options can include
both those for <a class="reference internal" href="form.html#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-func docutils literal"><span class="pre">FormHelper::submit()</span></code></a> and JsBaseEngine::request(),
JsBaseEngine::event();</p>
<p>Forms submitting with this method, cannot send files. Files do not
transfer over <code class="docutils literal"><span class="pre">XmlHttpRequest</span></code>
and require an iframe, or other more specialized setups that are
beyond the scope of this helper.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">url</span></code> - The URL you wish the XHR request to submit to.</li>
<li><code class="docutils literal"><span class="pre">confirm</span></code> - Confirm message displayed before sending the
request. Using confirm, does not replace any <code class="docutils literal"><span class="pre">before</span></code> callback
methods in the generated XmlHttpRequest.</li>
<li><code class="docutils literal"><span class="pre">buffer</span></code> - Disable the buffering and return a script tag in
addition to the link.</li>
<li><code class="docutils literal"><span class="pre">wrapCallbacks</span></code> - Set to false to disable automatic callback
wrapping.</li>
</ul>
<p><strong>Example use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">submit</span><span class="p">(</span><span class="s1">&#39;Save&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#content&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>Will create a submit button with an attached onclick event. The
click event will be buffered by default.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">submit</span><span class="p">(</span><span class="s1">&#39;Save&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#content&#39;</span><span class="p">,</span>
    <span class="s1">&#39;div&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;json&#39;</span><span class="p">,</span>
    <span class="s1">&#39;async&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Shows how you can combine options that both
<a class="reference internal" href="form.html#FormHelper::submit" title="FormHelper::submit"><code class="xref php php-func docutils literal"><span class="pre">FormHelper::submit()</span></code></a> and <a class="reference internal" href="#JsHelper::request" title="JsHelper::request"><code class="xref php php-func docutils literal"><span class="pre">JsHelper::request()</span></code></a> when using submit.</p>
</dd></dl>

<dl class="method">
<dt id="JsHelper::link">
<code class="descclassname">JsHelper::</code><code class="descname">link</code><span class="sig-paren">(</span><em>$title</em>, <em>$url = null</em>, <em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an HTML anchor element that has a click event bound to it.
Options can include both those for <a class="reference internal" href="html.html#HtmlHelper::link" title="HtmlHelper::link"><code class="xref php php-func docutils literal"><span class="pre">HtmlHelper::link()</span></code></a> and
<a class="reference internal" href="#JsHelper::request" title="JsHelper::request"><code class="xref php php-func docutils literal"><span class="pre">JsHelper::request()</span></code></a>, <a class="reference internal" href="#JsHelper::event" title="JsHelper::event"><code class="xref php php-func docutils literal"><span class="pre">JsHelper::event()</span></code></a>, <code class="docutils literal"><span class="pre">$options</span></code>
is a <a class="reference internal" href="../../appendices/glossary.html#term-html-attributes"><span class="xref std std-term">html attributes</span></a> array that are appended to the generated
anchor element. If an option is not part of the standard attributes
or <code class="docutils literal"><span class="pre">$htmlAttributes</span></code> it will be passed to <a class="reference internal" href="#JsHelper::request" title="JsHelper::request"><code class="xref php php-func docutils literal"><span class="pre">JsHelper::request()</span></code></a>
as an option. If an id is not supplied, a randomly generated one will be
created for each link generated.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">confirm</span></code> - Generate a confirm() dialog before sending the
event.</li>
<li><code class="docutils literal"><span class="pre">id</span></code> - use a custom id.</li>
<li><code class="docutils literal"><span class="pre">htmlAttributes</span></code> - additional non-standard htmlAttributes.
Standard attributes are class, id, rel, title, escape, onblur and
onfocus.</li>
<li><code class="docutils literal"><span class="pre">buffer</span></code> - Disable the buffering and return a script tag in
addition to the link.</li>
</ul>
<p><strong>Example use</strong>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span>
    <span class="s1">&#39;Page 2&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;page&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#content&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Will create a link pointing to <code class="docutils literal"><span class="pre">/page:2</span></code> and updating #content
with the response.</p>
<p>You can use the <code class="docutils literal"><span class="pre">htmlAttributes</span></code> option to add in additional
custom attributes.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">link</span><span class="p">(</span><span class="s1">&#39;Page 2&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;page&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">),</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#content&#39;</span><span class="p">,</span>
    <span class="s1">&#39;htmlAttributes&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;other&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Outputs the following HTML:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/posts/index/page:2&quot;</span> <span class="na">other</span><span class="o">=</span><span class="s">&quot;value&quot;</span><span class="p">&gt;</span>Page 2<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="JsHelper::serializeForm">
<code class="descclassname">JsHelper::</code><code class="descname">serializeForm</code><span class="sig-paren">(</span><em>$options = array()</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::serializeForm" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize the form attached to $selector. Pass <code class="docutils literal"><span class="pre">true</span></code> for $isForm
if the current selection is a form element. Converts the form or
the form element attached to the current selection into a
string/json object (depending on the library implementation) for
use with XHR operations.</p>
<p><strong>Options</strong></p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">isForm</span></code> - is the current selection a form, or an input?
(defaults to false)</li>
<li><code class="docutils literal"><span class="pre">inline</span></code> - is the rendered statement going to be used inside
another JS statement? (defaults to false)</li>
</ul>
<p>Setting inline == false allows you to remove the trailing <code class="docutils literal"><span class="pre">;</span></code>.
This is useful when you need to serialize a form element as part of
another JavaScript operation, or use the serialize method in an
Object literal.</p>
</dd></dl>

<dl class="method">
<dt id="JsHelper::redirect">
<code class="descclassname">JsHelper::</code><code class="descname">redirect</code><span class="sig-paren">(</span><em>$url</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect the page to <code class="docutils literal"><span class="pre">$url</span></code> using <code class="docutils literal"><span class="pre">window.location</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="JsHelper::value">
<code class="descclassname">JsHelper::</code><code class="descname">value</code><span class="sig-paren">(</span><em>$value</em><span class="sig-paren">)</span><a class="headerlink" href="#JsHelper::value" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a PHP-native variable of any type to a JSON-equivalent
representation. Escapes any string values into JSON compatible
strings. UTF-8 characters will be escaped.</p>
</dd></dl>

</div>
<div class="section" id="ajax-pagination">
<span id="id1"></span><h2>AJAX Pagination<a class="headerlink" href="#ajax-pagination" title="Permalink to this headline">¶</a></h2>
<p>Much like AJAX Pagination in 1.2, you can use the JsHelper to
handle the creation of AJAX pagination links instead of plain HTML
links.</p>
<div class="section" id="making-ajax-links">
<h3>Making AJAX Links<a class="headerlink" href="#making-ajax-links" title="Permalink to this headline">¶</a></h3>
<p>Before you can create AJAX links you must include the JavaScript
library that matches the adapter you are using with <code class="docutils literal"><span class="pre">JsHelper</span></code>.
By default the <code class="docutils literal"><span class="pre">JsHelper</span></code> uses jQuery. So in your layout include
jQuery (or whichever library you are using). Also make sure to
include <code class="docutils literal"><span class="pre">RequestHandlerComponent</span></code> in your components. Add the
following to your controller:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">public</span> <span class="nv">$components</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;RequestHandler&#39;</span><span class="p">);</span>
<span class="k">public</span> <span class="nv">$helpers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Js&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Next link in the JavaScript library you want to use. For this
example we&#8217;ll be using jQuery:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Similar to 1.2 you need to tell the <code class="docutils literal"><span class="pre">PaginatorHelper</span></code> that you
want to make JavaScript enhanced links instead of plain HTML ones.
To do so, call the <code class="docutils literal"><span class="pre">options()</span></code> at the top of your view:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Paginator</span><span class="o">-&gt;</span><span class="na">options</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#content&#39;</span><span class="p">,</span>
    <span class="s1">&#39;evalScripts&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">));</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="paginator.html#PaginatorHelper" title="PaginatorHelper"><code class="xref php php-class docutils literal"><span class="pre">PaginatorHelper</span></code></a> now knows to make JavaScript enhanced
links, and that those links should update the <code class="docutils literal"><span class="pre">#content</span></code> element.
Of course this element must exist, and often times you want to wrap
<code class="docutils literal"><span class="pre">$content_for_layout</span></code> with a div matching the id used for the
<code class="docutils literal"><span class="pre">update</span></code> option. You also should set <code class="docutils literal"><span class="pre">evalScripts</span></code> to true if
you are using the Mootools or Prototype adapters, without
<code class="docutils literal"><span class="pre">evalScripts</span></code> these libraries will not be able to chain requests
together. The <code class="docutils literal"><span class="pre">indicator</span></code> option is not supported by <code class="docutils literal"><span class="pre">JsHelper</span></code>
and will be ignored.</p>
<p>You then create all the links as needed for your pagination
features. Since the <code class="docutils literal"><span class="pre">JsHelper</span></code> automatically buffers all
generated script content to reduce the number of <code class="docutils literal"><span class="pre">&lt;script&gt;</span></code> tags
in your source code you <strong>must</strong> write the buffer out. At the
bottom of your view file. Be sure to include:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">writeBuffer</span><span class="p">();</span>
</pre></div>
</div>
<p>If you omit this you will <strong>not</strong> be able to chain AJAX pagination
links. When you write the buffer, it is also cleared, so you don&#8217;t
have worry about the same JavaScript being output twice.</p>
</div>
<div class="section" id="adding-effects-and-transitions">
<h3>Adding effects and transitions<a class="headerlink" href="#adding-effects-and-transitions" title="Permalink to this headline">¶</a></h3>
<p>Since <code class="docutils literal"><span class="pre">indicator</span></code> is no longer supported, you must add any
indicator effects yourself:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html&gt;</span>
<span class="x">    &lt;head&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">        //more stuff here.</span>
<span class="x">    &lt;/head&gt;</span>
<span class="x">    &lt;body&gt;</span>
<span class="x">    &lt;div id=&quot;content&quot;&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fetch</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/div&gt;</span>
<span class="x">    </span><span class="cp">&lt;?php</span>
        <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">image</span><span class="p">(</span>
            <span class="s1">&#39;indicator.gif&#39;</span><span class="p">,</span>
            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;busy-indicator&#39;</span><span class="p">)</span>
        <span class="p">);</span>
    <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<p>Remember to place the indicator.gif file inside app/webroot/img
folder. You may see a situation where the indicator.gif displays
immediately upon the page load. You need to put in this CSS
<code class="docutils literal"><span class="pre">#busy-indicator</span> <span class="pre">{</span> <span class="pre">display:none;</span> <span class="pre">}</span></code> in your main CSS file.</p>
<p>With the above layout, we&#8217;ve included an indicator image file, that
will display a busy indicator animation that we will show and hide
with the <code class="docutils literal"><span class="pre">JsHelper</span></code>. To do that we need to update our
<code class="docutils literal"><span class="pre">options()</span></code> function:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Paginator</span><span class="o">-&gt;</span><span class="na">options</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;#content&#39;</span><span class="p">,</span>
    <span class="s1">&#39;evalScripts&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;before&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#busy-indicator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">effect</span><span class="p">(</span>
        <span class="s1">&#39;fadeIn&#39;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;buffer&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="s1">&#39;complete&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Js</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;#busy-indicator&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">effect</span><span class="p">(</span>
        <span class="s1">&#39;fadeOut&#39;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;buffer&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">)</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</div>
<p>This will show/hide the busy-indicator element before and after the
<code class="docutils literal"><span class="pre">#content</span></code> div is updated. Although <code class="docutils literal"><span class="pre">indicator</span></code> has been
removed, the new features offered by <code class="docutils literal"><span class="pre">JsHelper</span></code> allow for more
control and more complex effects to be created.</p>
</div>
</div>
</div>


			</div>
		</div>

		
		<div class="col-md-3 col-md-pull-9 pull-off hidden-xs hidden-sm" lang="en">
			<aside class="sidebar">
				<div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models.html">Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../core-libraries.html">Core Libraries</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../toc-general-purpose.html">General Purpose</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../global-constants-and-functions.html">Global Constants and Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core-utility-libraries/app.html">App Class</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../events.html">Events System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collections.html">Collections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../toc-behaviors.html">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc-components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc-helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc-utilities.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../console-and-shells.html">Shells, Tasks &amp; Console Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices.html">Appendices</a></li>
</ul>

</div>

				</div>
			</aside>
			<aside class="sidebar">
				<div class="mb30 row">
				</div>
			</aside>
		</div>
	</div>
</div>

<section id="socials" class="back-3">
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-4  social text-center">
				<div class="col-sm-3 col-xs-3">
					<div id="fb-root"></div>
						<script>(function(d, s, id) {
						  var js, fjs = d.getElementsByTagName(s)[0];
						  if (d.getElementById(id)) return;
						  js = d.createElement(s); js.id = id;
						  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
						  fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk'));
						</script>
						<div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-8 social-footer text-center ">
				<a href="#">发现翻译错误? 请在下面留言</a>
				<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">我要加入翻译</a>
				<a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
				<a href="http://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
				<a href="http://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
				<a href="http://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
				<a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
				<a href="http://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
				<a href="http://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
				<a href="http://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
			</div>
		</div>
	</div>
</section>

<footer id="footer" class="footer-wrapper">
	<div class="container">

		<div class="row col-p30">
			<div class="col-sm-12 col-md-3">
				<div class="footer-widget t-footer">
					<div class="col-md-12">
						<a href="https://www.openhub.net/p/cakephp">
							<img src="../../_static/open-hub.png">
						</a>
						<div class="mt10">
							<a href="https://www.rackspace.com/">
								<img src="../../_static/rackspace.png">
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-12 col-md-9">
				<div class="col-md-3 col-sm-6 business-solution">
					<ul class="footer-menu">
						<li class="menu-title">
	<a href="http://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
	<a href="http://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12 text-center mt30">
				<p class="copyright">
							&copy; Copyright 2016, Cake Software Foundation, Inc.
						Last updated on Aug 09, 2016.
						Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
				</p>
			</div>
		</div>
	</div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->
  </body>
</html>