
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="TimeHelper" lang="en" name="title" />
<meta content="The Time Helper will help you format time and test time." lang="en" name="description" />
<meta content="time helper,format time,timezone,unix epoch,time strings,time zone offset,utc,gmt" lang="en" name="keywords" />

    <title>TimeHelper &mdash; CakePHP Cookbook 2.x documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/app.js"></script>
    <script type="text/javascript" src="../../_static/modernizr.foundation.js"></script>
    <script type="text/javascript" src="../../_static/foundation.js"></script>
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../../index.html" />
    <link rel="up" title="Helpers" href="../toc-helpers.html" />
    <link rel="next" title="Utilities" href="../toc-utilities.html" />
    <link rel="prev" title="TextHelper" href="text.html" />
<link href="../../_static/favicon.ico" type="image/x-icon" rel="icon" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="alternate" hreflang="pt" href="../../../pt/core-libraries/helpers/time.html" /><link rel="alternate" hreflang="es" href="../../../es/core-libraries/helpers/time.html" /><link rel="alternate" hreflang="ja" href="../../../ja/core-libraries/helpers/time.html" /><link rel="alternate" hreflang="fr" href="../../../fr/core-libraries/helpers/time.html" /><link rel="alternate" hreflang="zh_CN" href="../../../zh/core-libraries/helpers/time.html" />

<link rel="search" type="application/opensearchdescription+xml" title="CakePHP Book 2.x Search" href="../../_static/opensearchdescription-book-2-x.xml">
<script type="text/javascript">
window.lang = "en";
</script>

  </head>
  <body>

<div id="container">

<div id="cakephp-global-navigation">
	<ul>
		<li class="main"><a href="http://cakephp.org">CakePHP</a></li>
		<li class="primary"><a href="#" class="empty">Downloads</a>
			<ul class="second-level">
				<li><a href="https://github.com/cakephp/cakephp/tags">Releases</a></li>
				<li><a href="http://pear.cakephp.org">Pear channel</a></li>
			</ul>
		</li>
		<li class="primary"><a href="#" class="empty">Documentation</a>
			<ul class="second-level">
				<li><a href="http://api.cakephp.org">API</a></li>
				<li><a href="http://book.cakephp.org">Book</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://community.cakephp.org">Community</a>
			<ul class="second-level">
				<li><a href="http://webchat.freenode.net/?channels=cakephp&uio=MT1mYWxzZSY5PXRydWUmMTE9MjQ2b8">Help &amp; Support</a></li>
				<li><a href="https://github.com/cakephp/cakephp/issues">Issues</a></li>
				<li><a href="http://bakery.cakephp.org">The Bakery</a></li>
				<li><a href="http://stackoverflow.com/tags/cakephp">Stack Overflow</a></li>
				<li><a href="http://www.facebook.com/groups/cake.community">Facebook Group</a></li>
				<li><a href="http://goo.gl/mSC0s">Google+ Community</a></li>
				<li><a href="http://www.youtube.com/user/CakePHP">YouTube Channel</a></li>
				<li><a href="http://podcast.cakephp.org">CakePHP Podcast</a></li>
				<li><a href="http://twitter.com/CakePHP">Follow us on Twitter</a></li>
				<li><a href="http://groups.google.com/group/cake-php">Google Group</a></li>
				<li><a href="http://github.com/cakephp/cakephp/contributors">Contributors</a></li>
				<li><a href="http://plugins.cakephp.org">Plugins &amp; Packages</a></li>
				<li><a href="http://community.cakephp.org/get-involved">Get Involved</a></li>
				<li><a href="http://community.cakephp.org/guidelines">Guidelines</a></li>
				<li><a href="http://cakefest.org">CakeFest</a></li>
				<li><a href="http://cakephp.org/logos">Logo</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://cakephp.org/services">Services</a>
			<ul class="second-level">
				<li><a href="http://certification.cakephp.org">Certification</a></li>
				<li><a href="http://cakephp.org/services/consultation">Consultation</a></li>
				<li><a href="http://cakephp.org/services/support">Support</a></li>
				<li><a href="http://training.cakephp.org">Training</a></li>
			</ul>
		</li>
	</ul>
</div>

<div class="masthead">
	<div class="header-backing"></div>
	<div class="searchbar row">
		<div class="columns three phone-one">
			<a class="logo" href="../../contents.html">
			<img src="../../_static/cake-logo.png" alt="CakePHP" width="70" />
			</a>
		</div>
		
<div id="searchbox" class="columns nine phone-three">

	<form id="searchform" class="search" action="../../search.html" method="get">
		<input class="search-input" autocomplete="off" type="search" name="q" size="18" />
		<input class="search-submit search-big button red" type="submit" value="Search" />
		<input type="hidden" name="check_keywords" value="yes" />
		<input type="hidden" name="area" value="default" />

		<a href="#" id="tablet-nav" class="show-on-phones pale button small">Nav</a>
	</form>

</div>
	</div>
</div>
<div class="breadcrumb-header">
	<div class="related row">
		<div class="columns three root-link">
			<a href="../../contents.html">Cookbook 2.x</a>
		</div>
		<div class="columns nine">
			<ul class="inline breadcrumb">
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../../core-libraries.html"  itemprop="url"><span itemprop="title">Core Libraries</span></a>
			</li>
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../toc-helpers.html" accesskey="U" itemprop="url"><span itemprop="title">Helpers</span></a>
			</li>
			</ul>
			<div class="versions dropdown">
				<a href="#">2.x Book</a>
				<ul>
					<li><a href="http://book.cakephp.org/3.0/en">3.0 Book</a></li>
					<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
					<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
					<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
				</ul>
			</div>

			<div class="languages dropdown">
				<a href="#">en</a>

				<ul>
				
					<li></li>
				
					<li><a href="../../../pt/core-libraries/helpers/time.html">pt</a></li>
				
					<li><a href="../../../es/core-libraries/helpers/time.html">es</a></li>
				
					<li><a href="../../../ja/core-libraries/helpers/time.html">ja</a></li>
				
					<li><a href="../../../fr/core-libraries/helpers/time.html">fr</a></li>
				
					<li><a href="../../../zh/core-libraries/helpers/time.html">zh_CN</a></li>
				
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="content row">
	<div class="document columns nine push-three">
		<div class="body"><a class="button pale improve" href="https://github.com/cakephp/docs/edit/master/en/core-libraries/helpers/time.rst" target="_blank">Improve this Doc</a>
  <div class="section" id="timehelper">
<h1>TimeHelper<a class="headerlink" href="#timehelper" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="TimeHelper">
<em class="property">class </em><tt class="descname">TimeHelper</tt><big>(</big><em>View $view</em>, <em>array $settings = array()</em><big>)</big><a class="headerlink" href="#TimeHelper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The Time Helper does what it says on the tin: saves you time. It
allows for the quick processing of time related information. The
Time Helper has two main tasks that it can perform:</p>
<ol class="arabic simple">
<li>It can format time strings.</li>
<li>It can test time (but cannot bend time, sorry).</li>
</ol>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.1: </span><tt class="docutils literal"><span class="pre">TimeHelper</span></tt> has been refactored into the <a class="reference internal" href="../../core-utility-libraries/time.html#CakeTime" title="CakeTime"><tt class="xref php php-class docutils literal"><span class="pre">CakeTime</span></tt></a> class to allow
easier use outside of the <tt class="docutils literal"><span class="pre">View</span></tt> layer.
Within a view, these methods are accessible via the <cite>TimeHelper</cite>
class and you can call it as you would call a normal helper method:
<tt class="docutils literal"><span class="pre">$this-&gt;Time-&gt;method($args);</span></tt>.</p>
</div>
<div class="section" id="using-the-helper">
<h2>Using the Helper<a class="headerlink" href="#using-the-helper" title="Permalink to this headline">¶</a></h2>
<p>A common use of the Time Helper is to offset the date and time to match a
user&#8217;s time zone. Lets use a forum as an example. Your forum has many users who
may post messages at any time from any part of the world. An easy way to
manage the time is to save all dates and times as GMT+0 or UTC. Uncomment the
line <tt class="docutils literal"><span class="pre">date_default_timezone_set('UTC');</span></tt> in <tt class="docutils literal"><span class="pre">app/Config/core.php</span></tt> to ensure
your application&#8217;s time zone is set to GMT+0.</p>
<p>Next add a time zone field to your users table and make the necessary
modifications to allow your users to set their time zone. Now that we know
the time zone of the logged in user we can correct the date and time on our
posts using the Time Helper:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span>
  <span class="s1">&#39;F jS, Y h:i A&#39;</span><span class="p">,</span>
  <span class="nv">$post</span><span class="p">[</span><span class="s1">&#39;Post&#39;</span><span class="p">][</span><span class="s1">&#39;created&#39;</span><span class="p">],</span>
  <span class="k">null</span><span class="p">,</span>
  <span class="nv">$user</span><span class="p">[</span><span class="s1">&#39;User&#39;</span><span class="p">][</span><span class="s1">&#39;time_zone&#39;</span><span class="p">]</span>
<span class="p">);</span>
<span class="c1">// Will display August 22nd, 2011 11:53 PM for a user in GMT+0</span>
<span class="c1">// August 22nd, 2011 03:53 PM for a user in GMT-8</span>
<span class="c1">// and August 23rd, 2011 09:53 AM GMT+10</span>
</pre></div>
</div>
<p>Most of the Time Helper methods have a $timezone parameter. The $timezone parameter
accepts a valid timezone identifier string or an instance of <cite>DateTimeZone</cite> class.</p>
</div>
<div class="section" id="formatting">
<h2>Formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="TimeHelper::convert">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">convert</tt><big>(</big><em>$serverTime</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::convert" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p>Converts given time (in server&#8217;s time zone) to user&#8217;s local
time, given his/her timezone.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">convert</span><span class="p">(</span><span class="nb">time</span><span class="p">(),</span> <span class="s1">&#39;Asia/Jakarta&#39;</span><span class="p">);</span>
<span class="c1">// 1321038036</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">convert</span><span class="p">(</span><span class="nb">time</span><span class="p">(),</span> <span class="k">new</span> <span class="nx">DateTimeZone</span><span class="p">(</span><span class="s1">&#39;Asia/Jakarta&#39;</span><span class="p">));</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::convertSpecifiers">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">convertSpecifiers</tt><big>(</big><em>$format</em>, <em>$time = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::convertSpecifiers" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Converts a string representing the format for the function
strftime and returns a Windows safe and i18n aware format.</p>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::dayAsSql">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">dayAsSql</tt><big>(</big><em>$dateString</em>, <em>$field_name</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::dayAsSql" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Creates a string in the same format as daysAsSql but
only needs a single date object:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">dayAsSql</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span> <span class="s1">&#39;modified&#39;</span><span class="p">);</span>
<span class="c1">// (modified &gt;= &#39;2011-08-22 00:00:00&#39;) AND</span>
<span class="c1">// (modified &lt;= &#39;2011-08-22 23:59:59&#39;)</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">dayAsSql</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span> <span class="s1">&#39;modified&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::daysAsSql">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">daysAsSql</tt><big>(</big><em>$begin</em>, <em>$end</em>, <em>$fieldName</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::daysAsSql" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Returns a string in the format &#8220;($field_name &gt;=
&#8216;2008-01-21 00:00:00&#8217;) AND ($field_name &lt;= &#8216;2008-01-25
23:59:59&#8217;)&#8221;. This is handy if you need to search for records
between two dates inclusively:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">daysAsSql</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span> <span class="s1">&#39;Aug 25, 2011&#39;</span><span class="p">,</span> <span class="s1">&#39;created&#39;</span><span class="p">);</span>
<span class="c1">// (created &gt;= &#39;2011-08-22 00:00:00&#39;) AND</span>
<span class="c1">// (created &lt;= &#39;2011-08-25 23:59:59&#39;)</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">daysAsSql</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span> <span class="s1">&#39;Aug 25, 2011&#39;</span><span class="p">,</span> <span class="s1">&#39;created&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::format">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">format</tt><big>(</big><em>$date</em>, <em>$format = NULL</em>, <em>$default = false</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::format" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Will return a string formatted to the given format using the
<a class="reference external" href="http://www.php.net/manual/en/function.strftime.php">PHP strftime() formatting options</a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="s1">&#39;2011-08-22 11:53:00&#39;</span><span class="p">,</span> <span class="s1">&#39;%B %e, %Y %H:%M %p&#39;</span><span class="p">);</span>
<span class="c1">// August 22, 2011 11:53 AM</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="s1">&#39;+2 days&#39;</span><span class="p">,</span> <span class="s1">&#39;%c&#39;</span><span class="p">);</span>
<span class="c1">// 2 days from now formatted as Sun, 13 Nov 2011 03:36:10 AM EET</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">format</span><span class="p">(</span><span class="s1">&#39;2011-08-22 11:53:00&#39;</span><span class="p">,</span> <span class="s1">&#39;%B %e, %Y %H:%M %p&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">format</span><span class="p">(</span><span class="s1">&#39;+2 days&#39;</span><span class="p">,</span> <span class="s1">&#39;%c&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also provide the date/time as the first argument. When doing this
you should use <tt class="docutils literal"><span class="pre">strftime</span></tt> compatible formatting. This call signature
allows you to leverage locale aware date formatting which is not possible
using <tt class="docutils literal"><span class="pre">date()</span></tt> compatible formatting:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">format</span><span class="p">(</span><span class="s1">&#39;2012-01-13&#39;</span><span class="p">,</span> <span class="s1">&#39;%d-%m-%Y&#39;</span><span class="p">,</span> <span class="s1">&#39;invalid&#39;</span><span class="p">);</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">format</span><span class="p">(</span><span class="s1">&#39;2011-08-22&#39;</span><span class="p">,</span> <span class="s1">&#39;%d-%m-%Y&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$format</span></tt> and <tt class="docutils literal"><span class="pre">$date</span></tt> parameters are in opposite order as used in 2.1 and below.
<tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.
<tt class="docutils literal"><span class="pre">$default</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$invalid</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$date</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::fromString">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">fromString</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::fromString" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Takes a string and uses <a class="reference external" href="http://us.php.net/manual/en/function.date.php">strtotime</a>
to convert it into a date integer:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">fromString</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
<span class="c1">// 1313971200</span>

<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">fromString</span><span class="p">(</span><span class="s1">&#39;+1 days&#39;</span><span class="p">);</span>
<span class="c1">// 1321074066 (+1 day from current date)</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">fromString</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">fromString</span><span class="p">(</span><span class="s1">&#39;+1 days&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::gmt">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">gmt</tt><big>(</big><em>$dateString = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::gmt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p>Will return the date as an integer set to Greenwich Mean Time (GMT).</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">gmt</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
<span class="c1">// 1313971200</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">gmt</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::i18nFormat">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">i18nFormat</tt><big>(</big><em>$date</em>, <em>$format = NULL</em>, <em>$invalid = false</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::i18nFormat" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Returns a formatted date string, given either a UNIX timestamp or a
valid strtotime() date string. It take in account the default date
format for the current language if a LC_TIME file is used. For more info
about LC_TIME file check <a class="reference internal" href="../internationalization-and-localization.html#lc-time"><em>here</em></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::nice">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">nice</tt><big>(</big><em>$dateString = NULL</em>, <em>$timezone = NULL</em>, <em>$format = null</em><big>)</big><a class="headerlink" href="#TimeHelper::nice" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Takes a date string and outputs it in the format &#8220;Tue, Jan
1st 2008, 19:25&#8221; or as per optional <tt class="docutils literal"><span class="pre">$format</span></tt> param passed:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">nice</span><span class="p">(</span><span class="s1">&#39;2011-08-22 11:53:00&#39;</span><span class="p">);</span>
<span class="c1">// Mon, Aug 22nd 2011, 11:53</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">nice</span><span class="p">(</span><span class="s1">&#39;2011-08-22 11:53:00&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::niceShort">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">niceShort</tt><big>(</big><em>$dateString = NULL</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::niceShort" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Takes a date string and outputs it in the format &#8220;Jan
1st 2008, 19:25&#8221;. If the date object is today, the format will be
&#8220;Today, 19:25&#8221;. If the date object is yesterday, the format will be
&#8220;Yesterday, 19:25&#8221;:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">niceShort</span><span class="p">(</span><span class="s1">&#39;2011-08-22 11:53:00&#39;</span><span class="p">);</span>
<span class="c1">// Aug 22nd, 11:53</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">niceShort</span><span class="p">(</span><span class="s1">&#39;2011-08-22 11:53:00&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::serverOffset">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">serverOffset</tt><big>(</big><big>)</big><a class="headerlink" href="#TimeHelper::serverOffset" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p>Returns server&#8217;s offset from GMT in seconds.</p>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::timeAgoInWords">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">timeAgoInWords</tt><big>(</big><em>$dateString</em>, <em>$options = array()</em><big>)</big><a class="headerlink" href="#TimeHelper::timeAgoInWords" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Will take a datetime string (anything that is
parsable by PHP&#8217;s strtotime() function or MySQL&#8217;s datetime format)
and convert it into a friendly word format like, &#8220;3 weeks, 3 days
ago&#8221;:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">timeAgoInWords</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
<span class="c1">// on 22/8/11</span>

<span class="c1">// on August 22nd, 2011</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">timeAgoInWords</span><span class="p">(</span>
    <span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;F jS, Y&#39;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">timeAgoInWords</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">timeAgoInWords</span><span class="p">(</span>
    <span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;F jS, Y&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Use the &#8216;end&#8217; option to determine the cutoff point to no longer will use words; default &#8216;+1 month&#8217;:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">timeAgoInWords</span><span class="p">(</span>
    <span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;F jS, Y&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;+1 year&#39;</span><span class="p">)</span>
<span class="p">);</span>
<span class="c1">// On Nov 10th, 2011 it would display: 2 months, 2 weeks, 6 days ago</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">timeAgoInWords</span><span class="p">(</span>
    <span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;F jS, Y&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;+1 year&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Use the &#8216;accuracy&#8217; option to determine how precise the output should be.
You can use this to limit the output:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// If $timestamp is 1 month, 1 week, 5 days and 6 hours ago</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">timeAgoInWords</span><span class="p">(</span><span class="nv">$timestamp</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;accuracy&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;month&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;month&#39;</span><span class="p">),</span>
    <span class="s1">&#39;end&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;1 year&#39;</span>
<span class="p">));</span>
<span class="c1">// Outputs &#39;1 month ago&#39;</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span>The <tt class="docutils literal"><span class="pre">accuracy</span></tt> option was added.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::toAtom">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">toAtom</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::toAtom" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Will return a date string in the Atom format &#8220;2008-01-12T00:00:00Z&#8221;</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::toQuarter">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">toQuarter</tt><big>(</big><em>$dateString</em>, <em>$range = false</em><big>)</big><a class="headerlink" href="#TimeHelper::toQuarter" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mixed</td>
</tr>
</tbody>
</table>
<p>Will return 1, 2, 3 or 4 depending on what quarter of
the year the date falls in. If range is set to true, a two element
array will be returned with start and end dates in the format
&#8220;2008-03-31&#8221;:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">toQuarter</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
<span class="c1">// Would print 3</span>

<span class="nv">$arr</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">toQuarter</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
<span class="cm">/*</span>
<span class="cm">Array</span>
<span class="cm">(</span>
<span class="cm">    [0] =&gt; 2011-07-01</span>
<span class="cm">    [1] =&gt; 2011-09-30</span>
<span class="cm">)</span>
<span class="cm">*/</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">toQuarter</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">);</span>
<span class="nv">$arr</span> <span class="o">=</span> <span class="nx">CakeTime</span><span class="o">::</span><span class="na">toQuarter</span><span class="p">(</span><span class="s1">&#39;Aug 22, 2011&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.4: </span>The new option parameters <tt class="docutils literal"><span class="pre">relativeString</span></tt> (defaults to <tt class="docutils literal"><span class="pre">%s</span> <span class="pre">ago</span></tt>) and
                  <tt class="docutils literal"><span class="pre">absoluteString</span></tt> (defaults to <tt class="docutils literal"><span class="pre">on</span> <span class="pre">%s</span></tt>) to allow customization of the resulting
output string are now available.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::toRSS">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">toRSS</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::toRSS" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
<p>Will return a date string in the RSS format &#8220;Sat, 12 Jan 2008
00:00:00 -0500&#8221;</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::toUnix">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">toUnix</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::toUnix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p>A wrapper for fromString.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::toServer">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">toServer</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em>, <em>$format = 'Y-m-d H:i:s'</em><big>)</big><a class="headerlink" href="#TimeHelper::toServer" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mixed</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span>Returns a formatted date in server&#8217;s timezone.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::timezone">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">timezone</tt><big>(</big><em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::timezone" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">DateTimeZone</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span>Returns a timezone object from a string or the user&#8217;s timezone object. If the function is called
without a parameter it tries to get timezone from &#8216;Config.timezone&#8217; configuration variable.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::listTimezones">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">listTimezones</tt><big>(</big><em>$filter = null</em>, <em>$country = null</em>, <em>$group = true</em><big>)</big><a class="headerlink" href="#TimeHelper::listTimezones" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span>Returns a list of timezone identifiers.</p>
</div>
</dd></dl>

</div>
<div class="section" id="testing-time">
<h2>Testing Time<a class="headerlink" href="#testing-time" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="TimeHelper::isToday">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">isToday</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::isToday" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="TimeHelper::isThisWeek">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">isThisWeek</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::isThisWeek" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="TimeHelper::isThisMonth">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">isThisMonth</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::isThisMonth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="TimeHelper::isThisYear">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">isThisYear</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::isThisYear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="TimeHelper::wasYesterday">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">wasYesterday</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::wasYesterday" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="TimeHelper::isTomorrow">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">isTomorrow</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::isTomorrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="TimeHelper::isFuture">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">isFuture</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::isFuture" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::isPast">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">isPast</tt><big>(</big><em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::isPast" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="TimeHelper::wasWithinLast">
<tt class="descclassname">TimeHelper::</tt><tt class="descname">wasWithinLast</tt><big>(</big><em>$timeInterval</em>, <em>$dateString</em>, <em>$timezone = NULL</em><big>)</big><a class="headerlink" href="#TimeHelper::wasWithinLast" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span><tt class="docutils literal"><span class="pre">$timezone</span></tt> parameter replaces <tt class="docutils literal"><span class="pre">$userOffset</span></tt> parameter used in 2.1 and below.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2: </span><tt class="docutils literal"><span class="pre">$dateString</span></tt> parameter now also accepts a DateTime object.</p>
</div>
<p>All of the above functions return true or false when passed a date
string. <tt class="docutils literal"><span class="pre">wasWithinLast</span></tt> takes an additional <tt class="docutils literal"><span class="pre">$timeInterval</span></tt>
option:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called via TimeHelper</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Time</span><span class="o">-&gt;</span><span class="na">wasWithinLast</span><span class="p">(</span><span class="nv">$timeInterval</span><span class="p">,</span> <span class="nv">$dateString</span><span class="p">);</span>

<span class="c1">// called as CakeTime</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeTime&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="nx">CakeTime</span><span class="o">::</span><span class="na">wasWithinLast</span><span class="p">(</span><span class="nv">$timeInterval</span><span class="p">,</span> <span class="nv">$dateString</span><span class="p">);</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">wasWithinLast</span></tt> takes a time interval which is a string in the
format &#8220;3 months&#8221; and accepts a time interval of seconds, minutes,
hours, days, weeks, months and years (plural and not). If a time
interval is not recognized (for example, if it is mistyped) then it
will default to days.</p>
</dd></dl>

</div>
</div>


		</div>
	</div>

	<div class="sidebar columns three pull-nine">
<div id="sidebar-navigation" class="hide-on-phones">
	<h2 class="hide-on-desktops">Table of Contents</h2>
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controllers.html">Controllers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../views.html">Views</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../views/themes.html">Themes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../views/media-view.html">Media Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../views/json-and-xml-views.html">JSON and XML views</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../views/helpers.html">Helpers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cache.html">CacheHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash.html">Flash</a></li>
<li class="toctree-l3"><a class="reference internal" href="form.html">FormHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="html.html">HtmlHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="js.html">JsHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="number.html">NumberHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="paginator.html">Paginator</a></li>
<li class="toctree-l3"><a class="reference internal" href="rss.html">RSS</a></li>
<li class="toctree-l3"><a class="reference internal" href="session.html">SessionHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="text.html">TextHelper</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">TimeHelper</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../models.html">Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../core-libraries.html">Core Libraries</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../toc-general-purpose.html">General Purpose</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../global-constants-and-functions.html">Global Constants and Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../core-utility-libraries/app.html">App Class</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../events.html">Events System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../collections.html">Collections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../toc-behaviors.html">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toc-components.html">Components</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../toc-helpers.html">Helpers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cache.html">CacheHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="flash.html">Flash</a></li>
<li class="toctree-l3"><a class="reference internal" href="form.html">FormHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="html.html">HtmlHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="js.html">JsHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="number.html">NumberHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="paginator.html">Paginator</a></li>
<li class="toctree-l3"><a class="reference internal" href="rss.html">RSS</a></li>
<li class="toctree-l3"><a class="reference internal" href="session.html">SessionHelper</a></li>
<li class="toctree-l3"><a class="reference internal" href="text.html">TextHelper</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">TimeHelper</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../toc-utilities.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../console-and-shells.html">Console and Shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices.html">Appendices</a></li>
</ul>

</div>

<div class="page-contents">
	<h3>Page contents</h3>
	<ul>
<li><a class="reference internal" href="#">TimeHelper</a><ul>
<li><a class="reference internal" href="#using-the-helper">Using the Helper</a></li>
<li><a class="reference internal" href="#formatting">Formatting</a></li>
<li><a class="reference internal" href="#testing-time">Testing Time</a></li>
</ul>
</li>
</ul>

</div>
	</div>

</div>

<div class="content row">
	<ul class="related-pages inline">
	<li>
		<a href="../../genindex.html" title="General Index" accesskey="I">index</a>
	</li>
	<li>
		<a href="../toc-utilities.html" title="Utilities" accesskey="N">next</a>
	</li>
	<li>
		<a href="text.html" title="TextHelper" accesskey="P">previous</a>
	</li>
	</ul>
</div>

	<div class="footer-push"> </div>
</div>






<div class="footer">
	<div class="row">
		<div class="columns six offset-by-three contribute">
			<strong>发现翻译错误?</strong>
			请在下面留言<br />
			<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">[ 我要加入翻译 ]</a>
		</div>
	</div>
	
	<div class="row">
		<div class="columns nine offset-by-three copyright">
					&copy; Copyright 2014, Cake Software Foundation, Inc.
				Last updated on Sep 06, 2015.
				Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
		</div>
	</div>
</div>

<div id="nav-modal" class="reveal-modal"> </div>
<div id="inline-search-results"></div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->

<!-- Grunt Live Reload -->
<script src="http://192.168.56.113:35729/livereload.js"></script>
<script src="http://192.168.56.113:35730/livereload.js"></script>
  </body>
</html>