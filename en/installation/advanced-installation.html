

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Advanced Installation" lang="en" name="title" />
<meta content="libraries folder,core libraries,application code,different places,filesystem,constants,webroot,restriction,apps,web server,lib,cakephp,directories,path" lang="en" name="keywords" />

    <title>Advanced Installation</title>
    <link href="../_static/favicon.png" type="image/png" rel="icon" />

    
    <link rel="stylesheet" href="../_static/css/app.css" type="text/css" />
    
    <script type="text/javascript" src="../_static/app.js"></script>

    <link rel="alternate" hreflang="pt" href="../../pt/installation/advanced-installation.html" /><link rel="alternate" hreflang="es" href="../../es/installation/advanced-installation.html" /><link rel="alternate" hreflang="ja" href="../../ja/installation/advanced-installation.html" /><link rel="alternate" hreflang="fr" href="../../fr/installation/advanced-installation.html" /><link rel="alternate" hreflang="zh" href="../../zh/installation/advanced-installation.html" />

    <link rel="search" type="application/opensearchdescription+xml" title="Search within CakePHP Cookbook 2.x documentation" href="../_static/opensearchdescription-book-3-x.xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../index.html" />
    <link rel="up" title="Installation" href="../installation.html" />
    <link rel="next" title="URL Rewriting" href="url-rewriting.html" />
    <link rel="prev" title="Installation" href="../installation.html" />

    <script type="text/javascript">
    window.lang = "en";
    </script>
  </head>
  <body>

<div id="container">
	
	<header class="nav-down">
		<div class="container-fluid hidden-xs hidden-sm">
			<div class="row">
				<div class="col-sm-3 col-md-3">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-9 col-md-9">
					<nav class="navbar-right">
						<ul class="menu">
							<li class="first">
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Documentation</a>
								<ul class="submenu">
									
<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
								</ul>
							</li>

							<li><a href="http://cakephp.org/business-solutions">Business Solutions</a></li>
							<li><a href="http://cakephp.org/showcase">Showcase</a></li>

							<li>
								<a href="#"><i class="fa fa-menu fa-chevron-down"></i>Community</a>
								<div class="megamenu full">
									<div class="row">
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
											</ul>
										</div>
										<div class="col-6 pl30">
											<ul class="megamenu-list">
												
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
											</ul>
										</div>
									</div>
								</div>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>

		
		<div class="container-fluid hidden-md hidden-lg">
			<div class="row">
				<div class="col-sm-6 col-xs-6">
					<a class="logo-cake" href="http://cakephp.org">
						<img src="../_static/logo-cake.png" alt="CakePHP" />
					</a>
				</div>

				<div class="col-sm-6 col-xs-6">
					<div class="navbar-right">
						<button id="btn-menu" class="btn-menu" data-toggle="modal" data-target="#modal">
							<i class="fa fa-bars toggle-modal"></i>
						</button>
					</div>
					<div id="wrap">
						<form class="search" action="../search.html" method="get">
							<input name="q" type="search" placeholder="What are you looking for?">
							<input id="search_submit" value="Search" type="submit">
						</form>
					</div>
				</div>
			</div>
		</div>

		
		<section id="nav-cook" class="hidden-xs hidden-sm">
			<div class="container-fluid ">
				<div class="row ">
					<div class="col-md-12 back-book">
						<div class="col-md-4 col-md-offset-1 text-center t-cook-nav p0 hidden-sm hidden-xs">
							<h2>
								<a href="../contents.html">
									<span class="glyph_range icon-submenu icon-submenu-cook">B</span>
									CakePHP 2.x <strong>Cookbook</strong>
								</a>
							</h2>
						</div>

						<div class="col-md-4 hidden-sm">
							<form class="search" action="../search.html" method="get">
								<input type="hidden" name="check_keywords" value="yes" />
								<input type="hidden" name="area" value="default" />

								<div class="col-md-10 p0">
									<input class="form-control form-cook" autocomplete="off" type="search" name="q" size="18" placeholder='Cookbook Search' />
								</div>
								<div class="col-md-2 p0 search-cook">
									<button type="submit">
										<span class="glyph_range icon-submenu icon-submenu-cook">A</span>
									</button>
								</div>
							</form>
						</div>

						
						<div class="col-md-3">
							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Language:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown"
													role="button" aria-haspopup="true" aria-expanded="false" href="#">
														en
														<i class="fa fa-menu-en fa-chevron-down"></i>
													</a>
											<ul class="dropdown-menu">
											
												<li></li>
											
												<li><a href="../../pt/installation/advanced-installation.html">pt</a></li>
											
												<li><a href="../../es/installation/advanced-installation.html">es</a></li>
											
												<li><a href="../../ja/installation/advanced-installation.html">ja</a></li>
											
												<li><a href="../../fr/installation/advanced-installation.html">fr</a></li>
											
												<li><a href="../../zh/installation/advanced-installation.html">zh</a></li>
											
											</ul>
										</li>
									</ul>
								</div>
							</div>

							<div class="col-md-6 p0">
								<div class="col-md-7 t-language p0">
									<h6>Version:</h6>
								</div>
								<div class="col-md-5 p0">
									<ul class="nav navbar-nav">
										<li class="dropdown">
											<a href="#" class="dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">2.x <i class="fa fa-menu-en fa-chevron-down"></i></a>
											<ul class="dropdown-menu">
												<li><a href="http://book.cakephp.org/3.0/en">3.x Book</a></li>
												<li><a href="http://book.cakephp.org/2.0/en">2.x Book</a></li>
												<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
												<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
												<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</section>
	</header>

	
	<section class="nav-btn visible-sm visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-nav" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Nav</strong></button>
				</div>

				<div class="col-sm-6 col-xs-6 text-center">
					<button id="btn-toc" class="btn btn-b btn-nav" data-toggle="modal" data-target="#modal"><strong>Table of Contents</strong></button>
				</div>
			</div>
		</div>
	</section>

	
	<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal-header">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title-cookbook" id="modal-header"></h4>
				</div>
				<div class="modal-body"></div>
			</div>
		</div>
	</div>

<div class="container page-container"><div id="improve-slideout">
		<i class="fa fa-pencil icon-improve"></i>
		<a href="https://github.com/cakephp/docs/edit/master/en/installation/advanced-installation.rst" target="_blank">
			<div id="improve-slideout-inner"><h6>Improve This Doc <i class="fa fa-github git-improve"></i></h6></div>
		</a>
	</div><a id="back-to-contents" href="#page-contents"><i class="fa fa-arrow-circle-up icon-improve" title="Back to Contents"></i></a>

	
	<div class="row">
		<div class="col-sm-12 col-md-9 col-md-push-3 space-left push-off"><div class="page-contents col-sm-5">
				<h3>Page Contents</h3>
				<ul>
<li><a class="reference internal" href="#">Advanced Installation</a><ul>
<li><a class="reference internal" href="#installing-cakephp-with-pear-installer">Installing CakePHP with PEAR Installer</a></li>
<li><a class="reference internal" href="#installing-cakephp-with-composer">Installing CakePHP with Composer</a><ul>
<li><a class="reference internal" href="#installing-composer">Installing Composer</a></li>
<li><a class="reference internal" href="#create-a-cakephp-project">Create a CakePHP Project</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sharing-cakephp-libraries-with-multiple-applications">Sharing CakePHP Libraries with multiple Applications</a></li>
<li><a class="reference internal" href="#apache-and-mod-rewrite-and-htaccess">Apache and mod_rewrite (and .htaccess)</a></li>
</ul>
</li>
</ul>

			</div><div class="document-body">
			
  <div class="section" id="advanced-installation">
<h1>Advanced Installation<a class="headerlink" href="#advanced-installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-cakephp-with-pear-installer">
<h2>Installing CakePHP with PEAR Installer<a class="headerlink" href="#installing-cakephp-with-pear-installer" title="Permalink to this headline">¶</a></h2>
<p>CakePHP publishes a PEAR package that you can install using the PEAR installer.
Installing with the PEAR installer can simplify sharing CakePHP libraries
across multiple applications. To install CakePHP with PEAR you&#8217;ll need to do the
following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">pear</span> <span class="nx">channel</span><span class="o">-</span><span class="nx">discover</span> <span class="nx">pear</span><span class="o">.</span><span class="nx">cakephp</span><span class="o">.</span><span class="nx">org</span>
<span class="nx">pear</span> <span class="nx">install</span> <span class="nx">cakephp</span><span class="o">/</span><span class="nx">CakePHP</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On some systems installing libraries with PEAR will require <code class="docutils literal"><span class="pre">sudo</span></code>.</p>
</div>
<p>After installing CakePHP with PEAR, if PEAR is configured correctly you should
be able to use the <code class="docutils literal"><span class="pre">cake</span></code> command to create a new application. Since CakePHP
will be located on PHP&#8217;s <code class="docutils literal"><span class="pre">include_path</span></code> you won&#8217;t need to make any other
changes.</p>
</div>
<div class="section" id="installing-cakephp-with-composer">
<h2>Installing CakePHP with Composer<a class="headerlink" href="#installing-cakephp-with-composer" title="Permalink to this headline">¶</a></h2>
<p>Before starting you should make sure that you have got an up to date PHP
version:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>php -v
</pre></div>
</div>
<p>You should at least have got installed PHP 5.3.0 (CLI) or higher.
Your webserver&#8217;s PHP version must also be of 5.3.0 or higher, and should best be
the same version your command line interface (CLI) PHP version is of.</p>
<div class="section" id="installing-composer">
<h3>Installing Composer<a class="headerlink" href="#installing-composer" title="Permalink to this headline">¶</a></h3>
<p>Composer is a dependency management tool for PHP 5.3+. It solves many of the
problems the PEAR installer has, and simplifies managing multiple versions of
libraries. <a class="reference external" href="https://packagist.org/">Packagist</a> is the main repository of
Composer installable packages. Since CakePHP also publishes releases to
Packagist, you can install CakePHP using <a class="reference external" href="http://getcomposer.org">Composer</a>.</p>
<ul>
<li><p class="first">Installing Composer on Linux and Mac OS X</p>
<ol class="arabic">
<li><p class="first">Run the installer script as described in the
<a class="reference external" href="https://getcomposer.org/download/">official Composer documentation</a>
and follow the instructions to install Composer.</p>
</li>
<li><p class="first">Execute the following command to move the composer.phar to a directory
that is in your path:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">mv</span> <span class="nx">composer</span><span class="o">.</span><span class="nx">phar</span> <span class="o">/</span><span class="nx">usr</span><span class="o">/</span><span class="nx">local</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">composer</span>
</pre></div>
</div>
</li>
</ol>
</li>
<li><p class="first">Installing Composer on Windows</p>
<p>For Windows systems, you can download Composer&#8217;s Windows installer
<a class="reference external" href="https://github.com/composer/windows-setup/releases/">here</a>.  Further
instructions for Composer&#8217;s Windows installer can be found within the
README <a class="reference external" href="https://github.com/composer/windows-setup">here</a>.</p>
</li>
</ul>
</div>
<div class="section" id="create-a-cakephp-project">
<h3>Create a CakePHP Project<a class="headerlink" href="#create-a-cakephp-project" title="Permalink to this headline">¶</a></h3>
<p>Before installing CakePHP you&#8217;ll need to setup a <code class="docutils literal"><span class="pre">composer.json</span></code> file. A
composer.json file for a CakePHP application would look like the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;example-app&quot;</span><span class="p">,</span>
    <span class="s2">&quot;require&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;cakephp/cakephp&quot;</span><span class="o">:</span> <span class="s2">&quot;2.8.*&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;config&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;vendor-dir&quot;</span><span class="o">:</span> <span class="s2">&quot;Vendor/&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Save this JSON into <code class="docutils literal"><span class="pre">composer.json</span></code> in the APP directory of your project.
Next download the composer.phar file into your project. After you&#8217;ve downloaded
Composer, install CakePHP. In the same directory as your <code class="docutils literal"><span class="pre">composer.json</span></code> run
the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="err">$</span> <span class="nx">php</span> <span class="nx">composer</span><span class="o">.</span><span class="nx">phar</span> <span class="nx">install</span>
</pre></div>
</div>
<p>Once Composer has finished running you should have a directory structure that looks like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">example</span><span class="o">-</span><span class="nx">app</span><span class="o">/</span>
    <span class="nx">composer</span><span class="o">.</span><span class="nx">phar</span>
    <span class="nx">composer</span><span class="o">.</span><span class="nx">json</span>
    <span class="nx">Vendor</span><span class="o">/</span>
        <span class="nx">bin</span><span class="o">/</span>
        <span class="nx">autoload</span><span class="o">.</span><span class="nx">php</span>
        <span class="nx">composer</span><span class="o">/</span>
        <span class="nx">cakephp</span><span class="o">/</span>
</pre></div>
</div>
<p>You are now ready to generate the rest of your application skeleton:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="err">$</span> <span class="nx">Vendor</span><span class="o">/</span><span class="nx">bin</span><span class="o">/</span><span class="nx">cake</span> <span class="nx">bake</span> <span class="nx">project</span> <span class="o">&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">project</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>By default <code class="docutils literal"><span class="pre">bake</span></code> will hard-code <a class="reference internal" href="../core-libraries/global-constants-and-functions.html#CAKE_CORE_INCLUDE_PATH" title="CAKE_CORE_INCLUDE_PATH"><code class="xref php php-const docutils literal"><span class="pre">CAKE_CORE_INCLUDE_PATH</span></code></a>. To
make your application more portable you should modify <code class="docutils literal"><span class="pre">webroot/index.php</span></code>,
changing <code class="docutils literal"><span class="pre">CAKE_CORE_INCLUDE_PATH</span></code> to be a relative path:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nb">define</span><span class="p">(</span>
    <span class="s1">&#39;CAKE_CORE_INCLUDE_PATH&#39;</span><span class="p">,</span>
    <span class="nx">ROOT</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="nx">APP_DIR</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;Vendor&#39;</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;cakephp&#39;</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;cakephp&#39;</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;lib&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are planning to create unit tests for your application you&#8217;ll also
need to make the above change to <code class="docutils literal"><span class="pre">webroot/test.php</span></code></p>
</div>
<p>If you&#8217;re installing any other libraries with Composer, you&#8217;ll need to setup
the autoloader, and work around an issue in Composer&#8217;s autoloader. In your
<code class="docutils literal"><span class="pre">Config/bootstrap.php</span></code> file add the following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// Load Composer autoload.</span>
<span class="k">require</span> <span class="nx">APP</span> <span class="o">.</span> <span class="s1">&#39;Vendor/autoload.php&#39;</span><span class="p">;</span>

<span class="c1">// Remove and re-prepend CakePHP&#39;s autoloader as Composer thinks it is the</span>
<span class="c1">// most important.</span>
<span class="c1">// See: http://goo.gl/kKVJO7</span>
<span class="nb">spl_autoload_unregister</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;App&#39;</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">));</span>
<span class="nb">spl_autoload_register</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;App&#39;</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">),</span> <span class="k">true</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</pre></div>
</div>
<p>You should now have a functioning CakePHP application installed via Composer. Be
sure to keep the composer.json and composer.lock file with the rest of your
source code.</p>
</div>
</div>
<div class="section" id="sharing-cakephp-libraries-with-multiple-applications">
<h2>Sharing CakePHP Libraries with multiple Applications<a class="headerlink" href="#sharing-cakephp-libraries-with-multiple-applications" title="Permalink to this headline">¶</a></h2>
<p>There may be some situations where you wish to place CakePHP&#8217;s directories on
different places on the filesystem. This may be due to a shared host
restriction, or maybe you just want a few of your apps to share the same CakePHP
libraries. This section describes how to spread your CakePHP directories across
a filesystem.</p>
<p>First, realize that there are three main parts to a CakePHP application:</p>
<ol class="arabic simple">
<li>The core CakePHP libraries, in /lib/Cake.</li>
<li>Your application code, in /app.</li>
<li>The application&#8217;s webroot, usually in /app/webroot.</li>
</ol>
<p>Each of these directories can be located anywhere on your file system, with the
exception of the webroot, which needs to be accessible by your web server. You
can even move the webroot folder out of the app folder as long as you tell
CakePHP where you&#8217;ve put it.</p>
<p>To configure your CakePHP installation, you&#8217;ll need to make some changes to the
following files.</p>
<ul class="simple">
<li>/app/webroot/index.php</li>
<li>/app/webroot/test.php (if you use the
<a class="reference internal" href="../development/testing.html"><span class="doc">Testing</span></a> feature.)</li>
</ul>
<p>There are three constants that you&#8217;ll need to edit: <code class="docutils literal"><span class="pre">ROOT</span></code>, <code class="docutils literal"><span class="pre">APP_DIR</span></code>, and
<code class="docutils literal"><span class="pre">CAKE_CORE_INCLUDE_PATH</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ROOT</span></code> should be set to the path of the directory that contains your app
folder.</li>
<li><code class="docutils literal"><span class="pre">APP_DIR</span></code> should be set to the (base)name of your app folder.</li>
<li><code class="docutils literal"><span class="pre">CAKE_CORE_INCLUDE_PATH</span></code> should be set to the path of your CakePHP
libraries folder.</li>
</ul>
<p>Let&#8217;s run through an example so you can see what an advanced installation might
look like in practice. Imagine that I wanted to set up CakePHP to work as
follows:</p>
<ul class="simple">
<li>The CakePHP core libraries will be placed in /usr/lib/cake.</li>
<li>My application&#8217;s webroot directory will be /var/www/mysite/.</li>
<li>My application&#8217;s app directory will be /home/me/myapp.</li>
</ul>
<p>Given this type of setup, I would need to edit my webroot/index.php file (which
will end up at /var/www/mysite/index.php, in this example) to look like the
following:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="c1">// /app/webroot/index.php (partial, comments removed)</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;ROOT&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nb">define</span><span class="p">(</span><span class="s1">&#39;ROOT&#39;</span><span class="p">,</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;home&#39;</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;me&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;APP_DIR&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nb">define</span> <span class="p">(</span><span class="s1">&#39;APP_DIR&#39;</span><span class="p">,</span> <span class="s1">&#39;myapp&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">defined</span><span class="p">(</span><span class="s1">&#39;CAKE_CORE_INCLUDE_PATH&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nb">define</span><span class="p">(</span><span class="s1">&#39;CAKE_CORE_INCLUDE_PATH&#39;</span><span class="p">,</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;usr&#39;</span> <span class="o">.</span> <span class="nx">DS</span> <span class="o">.</span> <span class="s1">&#39;lib&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is recommended to use the <code class="docutils literal"><span class="pre">DS</span></code> constant rather than slashes to delimit file
paths. This prevents any missing file errors you might get as a result of using
the wrong delimiter, and it makes your code more portable.</p>
</div>
<div class="section" id="apache-and-mod-rewrite-and-htaccess">
<h2>Apache and mod_rewrite (and .htaccess)<a class="headerlink" href="#apache-and-mod-rewrite-and-htaccess" title="Permalink to this headline">¶</a></h2>
<p>This section was moved to <a class="reference internal" href="url-rewriting.html"><span class="doc">URL rewriting</span></a>.</p>
</div>
</div>


			</div>
		</div>

		
		<div class="col-md-3 col-md-pull-9 pull-off hidden-xs hidden-sm" lang="en">
			<aside class="sidebar">
				<div class="mb30 row">
<div id="sidebar-navigation" class="hidden-xs">
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../installation.html">Installation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Advanced Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="url-rewriting.html">URL Rewriting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-libraries.html">Core Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Shells, Tasks &amp; Console Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

				</div>
			</aside>
			<aside class="sidebar">
				<div class="mb30 row">
				</div>
			</aside>
		</div>
	</div>
</div>

<section id="socials" class="back-3">
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-4  social text-center">
				<div class="col-sm-3 col-xs-3">
					<div id="fb-root"></div>
						<script>(function(d, s, id) {
						  var js, fjs = d.getElementsByTagName(s)[0];
						  if (d.getElementById(id)) return;
						  js = d.createElement(s); js.id = id;
						  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
						  fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk'));
						</script>
						<div id="fb-root-face" class="fb-like" data-href="https://www.facebook.com/CakePHP/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="false"></div>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=star&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<iframe src="https://ghbtns.com/github-btn.html?user=cakephp&amp;repo=cakephp&amp;type=fork&amp;count=true&amp;size=small" frameborder="0" scrolling="0" width="120px" height="30px"></iframe>
				</div>

				<div class="col-sm-3 col-xs-3">
					<a href="https://twitter.com/CakePHP" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @CakePHP</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-8 social-footer text-center ">
				<a href="#">发现翻译错误? 请在下面留言</a>
				<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">我要加入翻译</a>
				<a href="https://twitter.com/cakephp" data-toggle="tooltip" title="Twitter"><i class="fa icon-social fa-twitter"></i>
				<a href="http://www.facebook.com/groups/cake.community" data-toggle="tooltip" title="Facebook"><i class="fa icon-social fa-facebook"></i></a>
				<a href="http://goo.gl/mSC0s" data-toggle="tooltip" title="Google Plus"><i class="fa icon-social  fa-google-plus"></i></a>
				<a href="http://www.youtube.com/user/CakePHP" data-toggle="tooltip" title="Youtube"><i class="fa icon-social fa-youtube-play"></i></a>
				<a href="https://github.com/cakephp" data-toggle="tooltip" title="Github"><i class="fa icon-social fa-git"></i></a>
				<a href="http://cakesf.herokuapp.com/" target="_blank" title="Slack" data-toggle="tooltip"><i class="fa fa-slack icon-social"></i></a>
				<a href="http://stackoverflow.com/tags/cakephp" data-toggle="tooltip" title="Stack Overflow"><i class="fa icon-social fa-stack-overflow"></i></a>
				<a href="http://webchat.freenode.net/?channels=cakephp" data-toggle="tooltip" title="IRC" class="icon-irc">#IRC</a>
			</div>
		</div>
	</div>
</section>

<footer id="footer" class="footer-wrapper">
	<div class="container">

		<div class="row col-p30">
			<div class="col-sm-12 col-md-3">
				<div class="footer-widget t-footer">
					<div class="col-md-12">
						<a href="https://www.openhub.net/p/cakephp">
							<img src="../_static/open-hub.png">
						</a>
						<div class="mt10">
							<a href="https://www.rackspace.com/">
								<img src="../_static/rackspace.png">
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="col-sm-12 col-md-9">
				<div class="col-md-3 col-sm-6 business-solution">
					<ul class="footer-menu">
						<li class="menu-title">
	<a href="http://cakephp.org/business-solutions"><i class="fa fa-menu-title fa-briefcase"></i>Business Solutions</a>
</li>
<li class="menu-title mt30">
	<a href="http://cakephp.org/showcase"><i class="fa fa-menu-title fa-desktop"></i>Showcase</a>
</li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title">
	<i class="fa fa-menu-title fa-book"></i>Documentation
</li>

<li><a href="http://book.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>CookBook</a></li>
<li><a href="http://api.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>API</a></li>

<li><a href="http://cakephp.org/documentation/videos"><i class="fa fa-menu fa-chevron-right"></i>Videos</a></li>
<li><a href="http://cakephp.org/privacy"><i class="fa fa-menu fa-chevron-right"></i>Privacy Policy</a></li>
<li><a href="http://cakephp.org/pages/trademark"><i class="fa fa-menu fa-chevron-right"></i>Logos &amp; Trademarks</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-users"></i>Community</li>

<li><a href="http://cakephp.org/team"><i class="fa fa-menu fa-chevron-right"></i>Team</a></li>
<li><a href="https://github.com/cakephp/cakephp/issues"><i class="fa fa-menu fa-chevron-right"></i>Issues (Github)</a></li>
<li><a href="http://www.youtube.com/user/CakePHP"><i class="fa fa-menu fa-chevron-right"></i>YouTube Channel</a></li>
<li><a href="http://cakephp.org/get-involved"><i class="fa fa-menu fa-chevron-right"></i>Get Involved</a></li>

<li><a href="http://bakery.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Bakery</a></li>
<li><a href="http://cakephp.org/newsletter/signup"><i class="fa fa-menu fa-chevron-right"></i>Newsletter</a></li>
<li><a href="http://certification.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Certification</a></li>
<li><a href="http://my.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>My CakePHP</a></li>
<li><a href="http://cakefest.org"><i class="fa fa-menu fa-chevron-right"></i>CakeFest</a></li>
<li><a href="http://www.facebook.com/groups/cake.community"><i class="fa fa-menu fa-chevron-right"></i>Facebook</a></li>
<li><a href="http://twitter.com/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Twitter</a></li>
					</ul>
				</div>

				<div class="col-md-3 col-sm-6">
					<ul class="footer-menu">
						
<li class="menu-title"><i class="fa fa-menu-title fa-comments-o"></i>Help &amp; Support</li>

<li><a href="http://discourse.cakephp.org"><i class="fa fa-menu fa-chevron-right"></i>Forum</a></li>
<li><a href="http://stackoverflow.com/tags/cakephp"><i class="fa fa-menu fa-chevron-right"></i>Stack Overflow</a></li>
<li><a href="http://webchat.freenode.net/?channels=cakephp"><i class="fa fa-menu fa-chevron-right"></i>IRC</a></li>
<li><a href="http://cakesf.herokuapp.com/"><i class="fa fa-menu fa-chevron-right"></i>Slack</a></li>
<li><a href="http://cakedc.com"><i class="fa fa-menu fa-chevron-right"></i>Paid Support</a></li>
					</ul>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-12 text-center mt30">
				<p class="copyright">
							&copy; Copyright 2016, Cake Software Foundation, Inc.
						Last updated on Aug 02, 2016.
						Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.5.
				</p>
			</div>
		</div>
	</div>
</footer>

<div id="inline-search-results"></div>


</div>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
  </body>
</html>