
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="String" lang="en" name="title" />
<meta content="array php,array name,string options,data options,result string,class string,string data,string class,placeholders,default method,key value,markup,rfc,replacements,convenience,templates" lang="en" name="keywords" />

    <title>String &mdash; CakePHP Cookbook 2.x documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/app.js"></script>
    <script type="text/javascript" src="../_static/modernizr.foundation.js"></script>
    <script type="text/javascript" src="../_static/foundation.js"></script>
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../index.html" />
    <link rel="up" title="Utilities" href="../core-libraries/toc-utilities.html" />
    <link rel="next" title="CakeTime" href="time.html" />
    <link rel="prev" title="Set" href="set.html" />
<link href="../_static/favicon.ico" type="image/x-icon" rel="icon" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="alternate" hreflang="pt" href="../../pt/core-utility-libraries/string.html" /><link rel="alternate" hreflang="es" href="../../es/core-utility-libraries/string.html" /><link rel="alternate" hreflang="ja" href="../../ja/core-utility-libraries/string.html" /><link rel="alternate" hreflang="fr" href="../../fr/core-utility-libraries/string.html" /><link rel="alternate" hreflang="zh_CN" href="../../zh/core-utility-libraries/string.html" />

<link rel="search" type="application/opensearchdescription+xml" title="CakePHP Book 2.x Search" href="../_static/opensearchdescription-book-2-x.xml">
<script type="text/javascript">
window.lang = "en";
</script>

  </head>
  <body>

<div id="container">

<div id="cakephp-global-navigation">
	<ul>
		<li class="main"><a href="http://cakephp.org">CakePHP</a></li>
		<li class="primary"><a href="#" class="empty">Downloads</a>
			<ul class="second-level">
				<li><a href="https://github.com/cakephp/cakephp/tags">Releases</a></li>
				<li><a href="http://pear.cakephp.org">Pear channel</a></li>
			</ul>
		</li>
		<li class="primary"><a href="#" class="empty">Documentation</a>
			<ul class="second-level">
				<li><a href="http://api.cakephp.org">API</a></li>
				<li><a href="http://book.cakephp.org">Book</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://community.cakephp.org">Community</a>
			<ul class="second-level">
				<li><a href="http://webchat.freenode.net/?channels=cakephp&uio=MT1mYWxzZSY5PXRydWUmMTE9MjQ2b8">Help &amp; Support</a></li>
				<li><a href="https://github.com/cakephp/cakephp/issues">Issues</a></li>
				<li><a href="http://bakery.cakephp.org">The Bakery</a></li>
				<li><a href="http://stackoverflow.com/tags/cakephp">Stack Overflow</a></li>
				<li><a href="http://www.facebook.com/groups/cake.community">Facebook Group</a></li>
				<li><a href="http://goo.gl/mSC0s">Google+ Community</a></li>
				<li><a href="http://www.youtube.com/user/CakePHP">YouTube Channel</a></li>
				<li><a href="http://podcast.cakephp.org">CakePHP Podcast</a></li>
				<li><a href="http://twitter.com/CakePHP">Follow us on Twitter</a></li>
				<li><a href="http://groups.google.com/group/cake-php">Google Group</a></li>
				<li><a href="http://github.com/cakephp/cakephp/contributors">Contributors</a></li>
				<li><a href="http://plugins.cakephp.org">Plugins &amp; Packages</a></li>
				<li><a href="http://community.cakephp.org/get-involved">Get Involved</a></li>
				<li><a href="http://community.cakephp.org/guidelines">Guidelines</a></li>
				<li><a href="http://cakefest.org">CakeFest</a></li>
				<li><a href="http://cakephp.org/logos">Logo</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://cakephp.org/services">Services</a>
			<ul class="second-level">
				<li><a href="http://cakephp.org/services/certification">Certification</a></li>
				<li><a href="http://cakephp.org/services/consultation">Consultation</a></li>
				<li><a href="http://cakephp.org/services/support">Support</a></li>
				<li><a href="http://training.cakephp.org">Training</a></li>
			</ul>
		</li>
	</ul>
</div>

<div class="masthead">
	<div class="header-backing"></div>
	<div class="searchbar row">
		<div class="columns three phone-one">
			<a class="logo" href="../contents.html">
			<img src="../_static/cake-logo.png" alt="CakePHP" width="70" />
			</a>
		</div>
		
<div id="searchbox" class="columns nine phone-three">

	<form id="searchform" class="search" action="../search.html" method="get">
		<input class="search-input" autocomplete="off" type="search" name="q" size="18" />
		<input class="search-submit search-big button red" type="submit" value="Search" />
		<input type="hidden" name="check_keywords" value="yes" />
		<input type="hidden" name="area" value="default" />

		<a href="#" id="tablet-nav" class="show-on-phones pale button small">Nav</a>
	</form>

</div>
	</div>
</div>
<div class="breadcrumb-header">
	<div class="related row">
		<div class="columns three root-link">
			<a href="../contents.html">Cookbook 2.x</a>
		</div>
		<div class="columns nine">
			<ul class="inline breadcrumb">
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../core-libraries.html"  itemprop="url"><span itemprop="title">Core Libraries</span></a>
			</li>
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../core-libraries/toc-utilities.html" accesskey="U" itemprop="url"><span itemprop="title">Utilities</span></a>
			</li>
			</ul>
			<div class="versions dropdown">
				<a href="#">2.x Book</a>
				<ul>
					<li><a href="http://book.cakephp.org/3.0/en">3.0 Book</a></li>
					<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
					<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
					<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
				</ul>
			</div>

			<div class="languages dropdown">
				<a href="#">en</a>

				<ul>
				
					<li></li>
				
					<li><a href="../../pt/core-utility-libraries/string.html">pt</a></li>
				
					<li><a href="../../es/core-utility-libraries/string.html">es</a></li>
				
					<li><a href="../../ja/core-utility-libraries/string.html">ja</a></li>
				
					<li><a href="../../fr/core-utility-libraries/string.html">fr</a></li>
				
					<li><a href="../../zh/core-utility-libraries/string.html">zh_CN</a></li>
				
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="content row">
	<div class="document columns nine push-three">
		<div class="body"><a class="button pale improve" href="https://github.com/cakephp/docs/edit/master/en/core-utility-libraries/string.rst" target="_blank">Improve this Doc</a>
  <div class="section" id="string">
<h1>String<a class="headerlink" href="#string" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="String">
<em class="property">class </em><tt class="descname">String</tt><a class="headerlink" href="#String" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The String class includes convenience methods for creating and
manipulating strings and is normally accessed statically. Example:
<tt class="docutils literal"><span class="pre">String::uuid()</span></tt>.</p>
<p>If you need <a class="reference internal" href="../core-libraries/helpers/text.html#TextHelper" title="TextHelper"><tt class="xref php php-class docutils literal"><span class="pre">TextHelper</span></tt></a> functionalities outside of a <tt class="docutils literal"><span class="pre">View</span></tt>,
use the <tt class="docutils literal"><span class="pre">String</span></tt> class:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="k">class</span> <span class="nc">UsersController</span> <span class="k">extends</span> <span class="nx">AppController</span> <span class="p">{</span>

    <span class="k">public</span> <span class="nv">$components</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Auth&#39;</span><span class="p">);</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">afterLogin</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;String&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
        <span class="nv">$message</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">User</span><span class="o">-&gt;</span><span class="na">find</span><span class="p">(</span><span class="s1">&#39;new_message&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$message</span><span class="p">))</span> <span class="p">{</span>
            <span class="c1">// notify user of new message</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Session</span><span class="o">-&gt;</span><span class="na">setFlash</span><span class="p">(</span><span class="nx">__</span><span class="p">(</span><span class="s1">&#39;You have a new message: %s&#39;</span><span class="p">,</span> <span class="nx">String</span><span class="o">::</span><span class="na">truncate</span><span class="p">(</span><span class="nv">$message</span><span class="p">[</span><span class="s1">&#39;Message&#39;</span><span class="p">][</span><span class="s1">&#39;body&#39;</span><span class="p">],</span> <span class="mi">255</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;html&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">))));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.1: </span>Several methods from <a class="reference internal" href="../core-libraries/helpers/text.html#TextHelper" title="TextHelper"><tt class="xref php php-class docutils literal"><span class="pre">TextHelper</span></tt></a> have been moved to
<tt class="docutils literal"><span class="pre">String</span></tt> class.</p>
</div>
<dl class="staticmethod">
<dt id="String::uuid">
<em class="property">static </em><tt class="descclassname">String::</tt><tt class="descname">uuid</tt><a class="headerlink" href="#String::uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>The UUID method is used to generate unique identifiers as per
<span class="target" id="index-0"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc4122.html"><strong>RFC 4122</strong></a>. The UUID is a
128bit string in the format of
485fc381-e790-47a3-9794-1337c0a8fe68.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">String</span><span class="o">::</span><span class="na">uuid</span><span class="p">();</span> <span class="c1">// 485fc381-e790-47a3-9794-1337c0a8fe68</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="String::tokenize">
<em class="property">static </em><tt class="descclassname">String::</tt><tt class="descname">tokenize</tt><big>(</big><em>$data</em>, <em>$separator = '</em>, <em>'</em>, <em>$leftBound = '('</em>, <em>$rightBound = ')'</em><big>)</big><a class="headerlink" href="#String::tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenizes a string using <tt class="docutils literal"><span class="pre">$separator</span></tt>, ignoring any instance of
<tt class="docutils literal"><span class="pre">$separator</span></tt> that appears between <tt class="docutils literal"><span class="pre">$leftBound</span></tt> and <tt class="docutils literal"><span class="pre">$rightBound</span></tt>.</p>
<p>This method can be useful when splitting up data in that has regular
formatting such as tag lists:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nv">$data</span> <span class="o">=</span> <span class="s2">&quot;cakephp &#39;great framework&#39; php&quot;</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nx">String</span><span class="o">::</span><span class="na">tokenize</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">);</span>
<span class="c1">// result contains</span>
<span class="k">array</span><span class="p">(</span><span class="s1">&#39;cakephp&#39;</span><span class="p">,</span> <span class="s2">&quot;&#39;great framework&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;php&#39;</span><span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="String::insert">
<em class="property">static </em><tt class="descclassname">String::</tt><tt class="descname">insert</tt><big>(</big><em>$string</em>, <em>$data</em>, <em>$options = array()</em><big>)</big><a class="headerlink" href="#String::insert" title="Permalink to this definition">¶</a></dt>
<dd><p>The insert method is used to create string templates and to allow
for key/value replacements:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">String</span><span class="o">::</span><span class="na">insert</span><span class="p">(</span><span class="s1">&#39;My name is :name and I am :age years old.&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;65&#39;</span><span class="p">));</span>
<span class="c1">// generates: &quot;My name is Bob and I am 65 years old.&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="String::cleanInsert">
<em class="property">static </em><tt class="descclassname">String::</tt><tt class="descname">cleanInsert</tt><big>(</big><em>$string</em>, <em>$options = array()</em><big>)</big><a class="headerlink" href="#String::cleanInsert" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleans up a <tt class="docutils literal"><span class="pre">String::insert</span></tt> formatted string with given $options
depending on the &#8216;clean&#8217; key in $options. The default method used
is text but html is also available. The goal of this function is to
replace all whitespace and unneeded markup around placeholders that
did not get replaced by Set::insert.</p>
<p>You can use the following options in the options array:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nv">$options</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;clean&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;method&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="c1">// or html</span>
    <span class="p">),</span>
    <span class="s1">&#39;before&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="s1">&#39;after&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="String::wrap">
<em class="property">static </em><tt class="descclassname">String::</tt><tt class="descname">wrap</tt><big>(</big><em>$text</em>, <em>$options = array()</em><big>)</big><a class="headerlink" href="#String::wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps a block of text to a set width, and indent blocks as well.
Can intelligently wrap text so words are not sliced across lines:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nv">$text</span> <span class="o">=</span> <span class="s1">&#39;This is the song that never ends.&#39;</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nx">String</span><span class="o">::</span><span class="na">wrap</span><span class="p">(</span><span class="nv">$text</span><span class="p">,</span> <span class="mi">22</span><span class="p">);</span>

<span class="c1">// returns</span>
<span class="k">This</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">song</span>
<span class="nx">that</span> <span class="nx">never</span> <span class="nx">ends</span><span class="o">.</span>
</pre></div>
</div>
<p>You can provide an array of options that control how wrapping is done. The
supported options are:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">width</span></tt> The width to wrap to. Defaults to 72.</li>
<li><tt class="docutils literal"><span class="pre">wordWrap</span></tt> Whether or not to wrap whole words. Defaults to true.</li>
<li><tt class="docutils literal"><span class="pre">indent</span></tt> The character to indent lines with. Defaults to &#8216;&#8217;.</li>
<li><tt class="docutils literal"><span class="pre">indentAt</span></tt> The line number to start indenting text. Defaults to 0.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="String::highlight">
<tt class="descclassname">String::</tt><tt class="descname">highlight</tt><big>(</big><em>string $haystack</em>, <em>string $needle</em>, <em>array $options = array()</em><big>)</big><a class="headerlink" href="#String::highlight" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$haystack</strong> (<em>string</em>) &#8211; The string to search.</li>
<li><strong>$needle</strong> (<em>string</em>) &#8211; The string to find.</li>
<li><strong>$options</strong> (<em>array</em>) &#8211; An array of options, see below.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Highlights <tt class="docutils literal"><span class="pre">$needle</span></tt> in <tt class="docutils literal"><span class="pre">$haystack</span></tt> using the
<tt class="docutils literal"><span class="pre">$options['format']</span></tt> string specified or a default string.</p>
<p>Options:</p>
<ul class="simple">
<li>&#8216;format&#8217; - string The piece of HTML with that the phrase will be
highlighted</li>
<li>&#8216;html&#8217; - bool If true, will ignore any HTML tags, ensuring that
only the correct text is highlighted</li>
</ul>
<p>Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called as TextHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Text</span><span class="o">-&gt;</span><span class="na">highlight</span><span class="p">(</span>
    <span class="nv">$lastSentence</span><span class="p">,</span>
    <span class="s1">&#39;using&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;span class=&quot;highlight&quot;&gt;\1&lt;/span&gt;&#39;</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">// called as String</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;String&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">String</span><span class="o">::</span><span class="na">highlight</span><span class="p">(</span>
    <span class="nv">$lastSentence</span><span class="p">,</span>
    <span class="s1">&#39;using&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;span class=&quot;highlight&quot;&gt;\1&lt;/span&gt;&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">Highlights</span> <span class="nv">$needle</span> <span class="nx">in</span> <span class="nv">$haystack</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">class</span><span class="o">=</span><span class="s2">&quot;highlight&quot;</span><span class="o">&gt;</span><span class="nx">using</span><span class="o">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
<span class="nx">the</span> <span class="nv">$options</span><span class="p">[</span><span class="s1">&#39;format&#39;</span><span class="p">]</span> <span class="nx">string</span> <span class="nx">specified</span>  <span class="k">or</span> <span class="nx">a</span> <span class="k">default</span> <span class="nx">string</span><span class="o">.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="String::stripLinks">
<tt class="descclassname">String::</tt><tt class="descname">stripLinks</tt><big>(</big><em>$text</em><big>)</big><a class="headerlink" href="#String::stripLinks" title="Permalink to this definition">¶</a></dt>
<dd><p>Strips the supplied <tt class="docutils literal"><span class="pre">$text</span></tt> of any HTML links.</p>
</dd></dl>

<dl class="method">
<dt id="String::truncate">
<tt class="descclassname">String::</tt><tt class="descname">truncate</tt><big>(</big><em>string $text</em>, <em>int $length=100</em>, <em>array $options</em><big>)</big><a class="headerlink" href="#String::truncate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$text</strong> (<em>string</em>) &#8211; The text to truncate.</li>
<li><strong>$length</strong> (<em>int</em>) &#8211; The length, in characters, beyond which the text should be truncated.</li>
<li><strong>$options</strong> (<em>array</em>) &#8211; An array of options to use.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If <tt class="docutils literal"><span class="pre">$text</span></tt> is longer than <tt class="docutils literal"><span class="pre">$length</span></tt> characters, this method truncates it
at <tt class="docutils literal"><span class="pre">$length</span></tt> and adds a prefix consisting of <tt class="docutils literal"><span class="pre">'ellipsis'</span></tt>, if defined.
If <tt class="docutils literal"><span class="pre">'exact'</span></tt> is passed as <tt class="docutils literal"><span class="pre">false</span></tt>, the truncation will occur at the
first whitespace after the point at which <tt class="docutils literal"><span class="pre">$length</span></tt> is exceeded. If
<tt class="docutils literal"><span class="pre">'html'</span></tt> is passed as <tt class="docutils literal"><span class="pre">true</span></tt>, HTML tags will be respected and will not
be cut off.</p>
<p><tt class="docutils literal"><span class="pre">$options</span></tt> is used to pass all extra parameters, and has the
following possible keys by default, all of which are optional:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;ellipsis&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span>
    <span class="s1">&#39;exact&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;html&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called as TextHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Text</span><span class="o">-&gt;</span><span class="na">truncate</span><span class="p">(</span>
    <span class="s1">&#39;The killer crept forward and tripped on the rug.&#39;</span><span class="p">,</span>
    <span class="mi">22</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;ellipsis&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span>
        <span class="s1">&#39;exact&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// called as String</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;String&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">String</span><span class="o">::</span><span class="na">truncate</span><span class="p">(</span>
    <span class="s1">&#39;The killer crept forward and tripped on the rug.&#39;</span><span class="p">,</span>
    <span class="mi">22</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;ellipsis&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span>
        <span class="s1">&#39;exact&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">The</span> <span class="nx">killer</span> <span class="nx">crept</span><span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.3: </span><tt class="docutils literal"><span class="pre">ending</span></tt> has been replaced by <tt class="docutils literal"><span class="pre">ellipsis</span></tt>. <tt class="docutils literal"><span class="pre">ending</span></tt> is still used in 2.2.1</p>
</div>
<dl class="method">
<dt id="String::tail">
<tt class="descclassname">String::</tt><tt class="descname">tail</tt><big>(</big><em>string $text</em>, <em>int $length=100</em>, <em>array $options</em><big>)</big><a class="headerlink" href="#String::tail" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$text</strong> (<em>string</em>) &#8211; The text to truncate.</li>
<li><strong>$length</strong> (<em>int</em>) &#8211; The length, in characters, beyond which the text should be truncated.</li>
<li><strong>$options</strong> (<em>array</em>) &#8211; An array of options to use.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If <tt class="docutils literal"><span class="pre">$text</span></tt> is longer than <tt class="docutils literal"><span class="pre">$length</span></tt> characters, this method removes an initial
substring with length consisting of the difference and prepends a suffix
consisting of <tt class="docutils literal"><span class="pre">'ellipsis'</span></tt>, if defined. If <tt class="docutils literal"><span class="pre">'exact'</span></tt> is passed as
<tt class="docutils literal"><span class="pre">false</span></tt>, the truncation will occur at the first whitespace prior to the
point at which truncation would otherwise take place.</p>
<p><tt class="docutils literal"><span class="pre">$options</span></tt> is used to pass all extra parameters, and has the
following possible keys by default, all of which are optional:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;ellipsis&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span>
    <span class="s1">&#39;exact&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3.</span></p>
</div>
<p>Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nv">$sampleText</span> <span class="o">=</span> <span class="s1">&#39;I packed my bag and in it I put a PSP, a PS3, a TV, &#39;</span> <span class="o">.</span>
    <span class="s1">&#39;a C# program that can divide by zero, death metal t-shirts&#39;</span>

<span class="c1">// called as TextHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Text</span><span class="o">-&gt;</span><span class="na">tail</span><span class="p">(</span>
    <span class="nv">$sampleText</span><span class="p">,</span>
    <span class="mi">70</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;ellipsis&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span>
        <span class="s1">&#39;exact&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// called as String</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;String&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">String</span><span class="o">::</span><span class="na">tail</span><span class="p">(</span>
    <span class="nv">$sampleText</span><span class="p">,</span>
    <span class="mi">70</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;ellipsis&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;...&#39;</span><span class="p">,</span>
        <span class="s1">&#39;exact&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">...</span><span class="nx">a</span> <span class="nx">TV</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">C</span><span class="c1"># program that can divide by zero, death metal t-shirts</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="String::excerpt">
<tt class="descclassname">String::</tt><tt class="descname">excerpt</tt><big>(</big><em>string $haystack</em>, <em>string $needle</em>, <em>integer $radius=100</em>, <em>string $ellipsis=&quot;...&quot;</em><big>)</big><a class="headerlink" href="#String::excerpt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$haystack</strong> (<em>string</em>) &#8211; The string to search.</li>
<li><strong>$needle</strong> (<em>string</em>) &#8211; The string to excerpt around.</li>
<li><strong>$radius</strong> (<em>int</em>) &#8211; The number of characters on either side of $needle you want to include.</li>
<li><strong>$ellipsis</strong> (<em>string</em>) &#8211; Text to append/prepend to the beginning or end of the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Extracts an excerpt from <tt class="docutils literal"><span class="pre">$haystack</span></tt> surrounding the <tt class="docutils literal"><span class="pre">$needle</span></tt>
with a number of characters on each side determined by <tt class="docutils literal"><span class="pre">$radius</span></tt>,
and prefix/suffix with <tt class="docutils literal"><span class="pre">$ellipsis</span></tt>. This method is especially handy for
search results. The query string or keywords can be shown within
the resulting document.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called as TextHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Text</span><span class="o">-&gt;</span><span class="na">excerpt</span><span class="p">(</span><span class="nv">$lastParagraph</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;...&#39;</span><span class="p">);</span>

<span class="c1">// called as String</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;String&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">String</span><span class="o">::</span><span class="na">excerpt</span><span class="p">(</span><span class="nv">$lastParagraph</span><span class="p">,</span> <span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;...&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="o">...</span> <span class="nx">by</span> <span class="nv">$radius</span><span class="p">,</span> <span class="k">and</span> <span class="nx">prefix</span><span class="o">/</span><span class="nx">suffix</span> <span class="nx">with</span> <span class="nv">$ellipsis</span><span class="o">.</span> <span class="k">This</span> <span class="nx">method</span> <span class="nx">is</span>
<span class="nx">especially</span> <span class="nx">handy</span> <span class="k">for</span> <span class="nx">search</span> <span class="nx">results</span><span class="o">.</span> <span class="nx">The</span> <span class="nx">query</span><span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="String::toList">
<tt class="descclassname">String::</tt><tt class="descname">toList</tt><big>(</big><em>array $list</em>, <em>$and='and'</em><big>)</big><a class="headerlink" href="#String::toList" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>$list</strong> (<em>array</em>) &#8211; Array of elements to combine into a list sentence.</li>
<li><strong>$and</strong> (<em>string</em>) &#8211; The word used for the last join.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Creates a comma-separated list where the last two items are joined
with &#8216;and&#8217;.</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="c1">// called as TextHelper</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Text</span><span class="o">-&gt;</span><span class="na">toList</span><span class="p">(</span><span class="nv">$colors</span><span class="p">);</span>

<span class="c1">// called as String</span>
<span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;String&#39;</span><span class="p">,</span> <span class="s1">&#39;Utility&#39;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nx">String</span><span class="o">::</span><span class="na">toList</span><span class="p">(</span><span class="nv">$colors</span><span class="p">);</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">red</span><span class="p">,</span> <span class="nx">orange</span><span class="p">,</span> <span class="nx">yellow</span><span class="p">,</span> <span class="nx">green</span><span class="p">,</span> <span class="nx">blue</span><span class="p">,</span> <span class="nx">indigo</span> <span class="k">and</span> <span class="nx">violet</span>
</pre></div>
</div>
</dd></dl>

</div>


		</div>
	</div>

	<div class="sidebar columns three pull-nine">
<div id="sidebar-navigation" class="hide-on-phones">
	<h2 class="hide-on-desktops">Table of Contents</h2>
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core-libraries.html">Core Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-general-purpose.html">General Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-behaviors.html">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-helpers.html">Helpers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../core-libraries/toc-utilities.html">Utilities</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/caching.html">Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="email.html">CakeEmail</a></li>
<li class="toctree-l3"><a class="reference internal" href="file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l3"><a class="reference internal" href="hash.html">Hash</a></li>
<li class="toctree-l3"><a class="reference internal" href="httpsocket.html">HttpSocket</a></li>
<li class="toctree-l3"><a class="reference internal" href="inflector.html">Inflector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/internationalization-and-localization.html">Internationalization &amp; Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/logging.html">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="number.html">CakeNumber</a></li>
<li class="toctree-l3"><a class="reference internal" href="router.html">Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="sanitize.html">Data Sanitization</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="set.html">Set</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="time.html">CakeTime</a></li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">Xml</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Console and Shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

<div class="page-contents">
	<h3>Page contents</h3>
	<ul>
<li><a class="reference internal" href="#">String</a></li>
</ul>

</div>
	</div>

</div>

<div class="content row">
	<ul class="related-pages inline">
	<li>
		<a href="../genindex.html" title="General Index" accesskey="I">index</a>
	</li>
	<li>
		<a href="time.html" title="CakeTime" accesskey="N">next</a>
	</li>
	<li>
		<a href="set.html" title="Set" accesskey="P">previous</a>
	</li>
	</ul>
</div>

	<div class="footer-push"> </div>
</div>






<div class="footer">
	<div class="row">
		<div class="columns six offset-by-three contribute">
			<strong>Found an issue?</strong>
			Submit a correction on <a href="https://github.com/cakephp/docs">GitHub</a><br />
			<a href="http://book.cakephp.org/2.0/en/contributing/documentation.html">[ documentation on how to contribute ]</a>
		</div>
	</div>
	
	<div class="row">
		<div class="columns nine offset-by-three copyright">
					&copy; Copyright 2014, Cake Software Foundation, Inc.
				Last updated on Aug 24, 2015.
				Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
		</div>
	</div>
</div>

<div id="nav-modal" class="reveal-modal"> </div>
<div id="inline-search-results"></div>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
  </body>
</html>