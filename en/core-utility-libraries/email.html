
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="CakeEmail" lang="en" name="title" />
<meta content="sending mail,email sender,envelope sender,php class,database configuration,sending emails,meth,shells,smtp,transports,attributes,array,config,flexibility,php email,new email,sending email,models" lang="en" name="keywords" />

    <title>CakeEmail &mdash; CakePHP Cookbook 2.x documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/app.js"></script>
    <script type="text/javascript" src="../_static/modernizr.foundation.js"></script>
    <script type="text/javascript" src="../_static/foundation.js"></script>
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="../index.html" />
    <link rel="up" title="Utilities" href="../core-libraries/toc-utilities.html" />
    <link rel="next" title="Folder &amp; File" href="file-folder.html" />
    <link rel="prev" title="Caching" href="../core-libraries/caching.html" />
<link href="../_static/favicon.ico" type="image/x-icon" rel="icon" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="alternate" hreflang="pt" href="../../pt/core-utility-libraries/email.html" /><link rel="alternate" hreflang="es" href="../../es/core-utility-libraries/email.html" /><link rel="alternate" hreflang="ja" href="../../ja/core-utility-libraries/email.html" /><link rel="alternate" hreflang="fr" href="../../fr/core-utility-libraries/email.html" /><link rel="alternate" hreflang="zh_CN" href="../../zh/core-utility-libraries/email.html" />

<link rel="search" type="application/opensearchdescription+xml" title="CakePHP Book 2.x Search" href="../_static/opensearchdescription-book-2-x.xml">
<script type="text/javascript">
window.lang = "en";
</script>

  </head>
  <body>

<div id="container">

<div id="cakephp-global-navigation">
	<ul>
		<li class="main"><a href="http://cakephp.org">CakePHP</a></li>
		<li class="primary"><a href="#" class="empty">Downloads</a>
			<ul class="second-level">
				<li><a href="https://github.com/cakephp/cakephp/tags">Releases</a></li>
				<li><a href="http://pear.cakephp.org">Pear channel</a></li>
			</ul>
		</li>
		<li class="primary"><a href="#" class="empty">Documentation</a>
			<ul class="second-level">
				<li><a href="http://api.cakephp.org">API</a></li>
				<li><a href="http://book.cakephp.org">Book</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://community.cakephp.org">Community</a>
			<ul class="second-level">
				<li><a href="http://webchat.freenode.net/?channels=cakephp&uio=MT1mYWxzZSY5PXRydWUmMTE9MjQ2b8">Help &amp; Support</a></li>
				<li><a href="https://github.com/cakephp/cakephp/issues">Issues</a></li>
				<li><a href="http://bakery.cakephp.org">The Bakery</a></li>
				<li><a href="http://stackoverflow.com/tags/cakephp">Stack Overflow</a></li>
				<li><a href="http://www.facebook.com/groups/cake.community">Facebook Group</a></li>
				<li><a href="http://goo.gl/mSC0s">Google+ Community</a></li>
				<li><a href="http://www.youtube.com/user/CakePHP">YouTube Channel</a></li>
				<li><a href="http://podcast.cakephp.org">CakePHP Podcast</a></li>
				<li><a href="http://twitter.com/CakePHP">Follow us on Twitter</a></li>
				<li><a href="http://groups.google.com/group/cake-php">Google Group</a></li>
				<li><a href="http://github.com/cakephp/cakephp/contributors">Contributors</a></li>
				<li><a href="http://plugins.cakephp.org">Plugins &amp; Packages</a></li>
				<li><a href="http://community.cakephp.org/get-involved">Get Involved</a></li>
				<li><a href="http://community.cakephp.org/guidelines">Guidelines</a></li>
				<li><a href="http://cakefest.org">CakeFest</a></li>
				<li><a href="http://cakephp.org/logos">Logo</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://cakephp.org/services">Services</a>
			<ul class="second-level">
				<li><a href="http://certification.cakephp.org">Certification</a></li>
				<li><a href="http://cakephp.org/services/consultation">Consultation</a></li>
				<li><a href="http://cakephp.org/services/support">Support</a></li>
				<li><a href="http://training.cakephp.org">Training</a></li>
			</ul>
		</li>
	</ul>
</div>

<div class="masthead">
	<div class="header-backing"></div>
	<div class="searchbar row">
		<div class="columns three phone-one">
			<a class="logo" href="../contents.html">
			<img src="../_static/cake-logo.png" alt="CakePHP" width="70" />
			</a>
		</div>
		
<div id="searchbox" class="columns nine phone-three">

	<form id="searchform" class="search" action="../search.html" method="get">
		<input class="search-input" autocomplete="off" type="search" name="q" size="18" />
		<input class="search-submit search-big button red" type="submit" value="Search" />
		<input type="hidden" name="check_keywords" value="yes" />
		<input type="hidden" name="area" value="default" />

		<a href="#" id="tablet-nav" class="show-on-phones pale button small">Nav</a>
	</form>

</div>
	</div>
</div>
<div class="breadcrumb-header">
	<div class="related row">
		<div class="columns three root-link">
			<a href="../contents.html">Cookbook 2.x</a>
		</div>
		<div class="columns nine">
			<ul class="inline breadcrumb">
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../core-libraries.html"  itemprop="url"><span itemprop="title">Core Libraries</span></a>
			</li>
			<li itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
				<a href="../core-libraries/toc-utilities.html" accesskey="U" itemprop="url"><span itemprop="title">Utilities</span></a>
			</li>
			</ul>
			<div class="versions dropdown">
				<a href="#">2.x Book</a>
				<ul>
					<li><a href="http://book.cakephp.org/3.0/en">3.0 Book</a></li>
					<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
					<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
					<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
				</ul>
			</div>

			<div class="languages dropdown">
				<a href="#">en</a>

				<ul>
				
					<li></li>
				
					<li><a href="../../pt/core-utility-libraries/email.html">pt</a></li>
				
					<li><a href="../../es/core-utility-libraries/email.html">es</a></li>
				
					<li><a href="../../ja/core-utility-libraries/email.html">ja</a></li>
				
					<li><a href="../../fr/core-utility-libraries/email.html">fr</a></li>
				
					<li><a href="../../zh/core-utility-libraries/email.html">zh_CN</a></li>
				
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="content row">
	<div class="document columns nine push-three">
		<div class="body"><a class="button pale improve" href="https://github.com/cakephp/docs/edit/master/en/core-utility-libraries/email.rst" target="_blank">Improve this Doc</a>
  <div class="section" id="cakeemail">
<h1>CakeEmail<a class="headerlink" href="#cakeemail" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="CakeEmail">
<em class="property">class </em><tt class="descname">CakeEmail</tt><big>(</big><em>mixed $config = null</em><big>)</big><a class="headerlink" href="#CakeEmail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p><tt class="docutils literal"><span class="pre">CakeEmail</span></tt> is a new class to send email. With this
class you can send email from any place in your application. In addition to
using the EmailComponent from your controller, you can also send mail from
Shells and Models.</p>
<p>This class replaces the <tt class="xref php php-class docutils literal"><span class="pre">EmailComponent</span></tt> and gives more flexibility
in sending emails. For example, you can create your own transports to send
email instead of using the provided SMTP and Mail transports.</p>
<div class="section" id="basic-usage">
<h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>First of all, you should ensure the class is loaded using <a class="reference internal" href="app.html#App::uses" title="App::uses"><tt class="xref php php-meth docutils literal"><span class="pre">App::uses()</span></tt></a>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;CakeEmail&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Email&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Using CakeEmail is similar to using <tt class="xref php php-class docutils literal"><span class="pre">EmailComponent</span></tt>. But instead of
using attributes you use methods. Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;me@example.com&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My Site&#39;</span><span class="p">));</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">to</span><span class="p">(</span><span class="s1">&#39;you@example.com&#39;</span><span class="p">);</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">subject</span><span class="p">(</span><span class="s1">&#39;About&#39;</span><span class="p">);</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="s1">&#39;My message&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>To simplify things, all of the setter methods return the instance of class.
You can re-write the above code as:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;me@example.com&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;My Site&#39;</span><span class="p">))</span>
    <span class="o">-&gt;</span><span class="na">to</span><span class="p">(</span><span class="s1">&#39;you@example.com&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">subject</span><span class="p">(</span><span class="s1">&#39;About&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">send</span><span class="p">(</span><span class="s1">&#39;My message&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="choosing-the-sender">
<h3>Choosing the sender<a class="headerlink" href="#choosing-the-sender" title="Permalink to this headline">¶</a></h3>
<p>When sending email on behalf of other people it&#8217;s often a good idea to define the
original sender using the Sender header. You can do so using <tt class="docutils literal"><span class="pre">sender()</span></tt>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">sender</span><span class="p">(</span><span class="s1">&#39;app@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;MyApp emailer&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It&#8217;s also a good idea to set the envelope sender when sending mail on another
person&#8217;s behalf. This prevents them from getting any messages about
deliverability.</p>
</div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Similar to database configuration, email configuration can be centralized in a class.</p>
<p>Create the file <tt class="docutils literal"><span class="pre">app/Config/email.php</span></tt> with the class <tt class="docutils literal"><span class="pre">EmailConfig</span></tt>.
The <tt class="docutils literal"><span class="pre">app/Config/email.php.default</span></tt> has an example of this file.</p>
<p><tt class="docutils literal"><span class="pre">CakeEmail</span></tt> will create an instance of the <tt class="docutils literal"><span class="pre">EmailConfig</span></tt> class to access the
config. If you have dynamic data to put in the configs, you can use the
constructor to do that:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EmailConfig</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Do conditional assignments here.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is not required to create <tt class="docutils literal"><span class="pre">app/Config/email.php</span></tt>, <tt class="docutils literal"><span class="pre">CakeEmail</span></tt> can be used
without it and use respective methods to set all configurations separately or
load an array of configs.</p>
<p>To load a config from <tt class="docutils literal"><span class="pre">EmailConfig</span></tt> you can use the <tt class="docutils literal"><span class="pre">config()</span></tt> method or pass it
to the constructor of <tt class="docutils literal"><span class="pre">CakeEmail</span></tt>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">);</span>

<span class="c1">//or in constructor::</span>
<span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">);</span>

<span class="c1">// Implicit &#39;default&#39; config used as of 2.7</span>
<span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
</pre></div>
</div>
<p>Instead of passing a string which matches the configuration name in <tt class="docutils literal"><span class="pre">EmailConfig</span></tt>
you can also just load an array of configs:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;me@example.org&#39;</span><span class="p">,</span> <span class="s1">&#39;transport&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;MyCustom&#39;</span><span class="p">));</span>

<span class="c1">//or in constructor::</span>
<span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;me@example.org&#39;</span><span class="p">,</span> <span class="s1">&#39;transport&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;MyCustom&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>You can configure SSL SMTP servers such as Gmail. To do so, prefix the host with
<tt class="docutils literal"><span class="pre">'ssl://'</span></tt> and configure the port value accordingly. Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EmailConfig</span> <span class="p">{</span>
    <span class="k">public</span> <span class="nv">$gmail</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ssl://smtp.gmail.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">465</span><span class="p">,</span>
        <span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my@gmail.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;secret&#39;</span><span class="p">,</span>
        <span class="s1">&#39;transport&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Smtp&#39;</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can also use <tt class="docutils literal"><span class="pre">tls://</span></tt> to prefer TLS for connection level encryption.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To use either the ssl:// or tls:// feature, you will need to have the SSL
configured in your PHP install.</p>
</div>
<p>As of 2.3.0 you can also enable STARTTLS SMTP extension using the <tt class="docutils literal"><span class="pre">tls</span></tt> option:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">EmailConfig</span> <span class="p">{</span>
    <span class="k">public</span> <span class="nv">$gmail</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;smtp.gmail.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">465</span><span class="p">,</span>
        <span class="s1">&#39;username&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my@gmail.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;secret&#39;</span><span class="p">,</span>
        <span class="s1">&#39;transport&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Smtp&#39;</span><span class="p">,</span>
        <span class="s1">&#39;tls&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above configuration would enable STARTTLS communication for email messages.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.3: </span>Support for TLS delivery was added in 2.3</p>
</div>
<div class="section" id="configurations">
<span id="email-configurations"></span><h3>Configurations<a class="headerlink" href="#configurations" title="Permalink to this headline">¶</a></h3>
<p>The following configuration keys are used:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">'from'</span></tt>: Email or array of sender. See <tt class="docutils literal"><span class="pre">CakeEmail::from()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'sender'</span></tt>: Email or array of real sender. See <tt class="docutils literal"><span class="pre">CakeEmail::sender()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'to'</span></tt>: Email or array of destination. See <tt class="docutils literal"><span class="pre">CakeEmail::to()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'cc'</span></tt>: Email or array of carbon copy. See <tt class="docutils literal"><span class="pre">CakeEmail::cc()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'bcc'</span></tt>: Email or array of blind carbon copy. See <tt class="docutils literal"><span class="pre">CakeEmail::bcc()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'replyTo'</span></tt>: Email or array to reply the e-mail. See <tt class="docutils literal"><span class="pre">CakeEmail::replyTo()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'readReceipt'</span></tt>: Email address or an array of addresses to receive the
receipt of read. See <tt class="docutils literal"><span class="pre">CakeEmail::readReceipt()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'returnPath'</span></tt>: Email address or and array of addresses to return if have
some error. See <tt class="docutils literal"><span class="pre">CakeEmail::returnPath()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'messageId'</span></tt>: Message ID of e-mail. See <tt class="docutils literal"><span class="pre">CakeEmail::messageId()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'subject'</span></tt>: Subject of the message. See <tt class="docutils literal"><span class="pre">CakeEmail::subject()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'message'</span></tt>: Content of message. Do not set this field if you are using rendered content.</li>
<li><tt class="docutils literal"><span class="pre">'headers'</span></tt>: Headers to be included. See <tt class="docutils literal"><span class="pre">CakeEmail::setHeaders()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'viewRender'</span></tt>: If you are using rendered content, set the view class name.
See <tt class="docutils literal"><span class="pre">CakeEmail::viewRender()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'template'</span></tt>: If you are using rendered content, set the template name. See
<tt class="docutils literal"><span class="pre">CakeEmail::template()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'theme'</span></tt>: Theme used when rendering template. See <tt class="docutils literal"><span class="pre">CakeEmail::theme()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'layout'</span></tt>: If you are using rendered content, set the layout to render. If
you want to render a template without layout, set this field to null. See
<tt class="docutils literal"><span class="pre">CakeEmail::template()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'viewVars'</span></tt>: If you are using rendered content, set the array with
variables to be used in the view. See <tt class="docutils literal"><span class="pre">CakeEmail::viewVars()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'attachments'</span></tt>: List of files to attach. See <tt class="docutils literal"><span class="pre">CakeEmail::attachments()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'emailFormat'</span></tt>: Format of email (html, text or both). See <tt class="docutils literal"><span class="pre">CakeEmail::emailFormat()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'transport'</span></tt>: Transport name. See <tt class="docutils literal"><span class="pre">CakeEmail::transport()</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">'log'</span></tt>: Log level to log the email headers and message. <tt class="docutils literal"><span class="pre">true</span></tt> will use
LOG_DEBUG. See also <tt class="docutils literal"><span class="pre">CakeLog::write()</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'helpers'</span></tt>: Array of helpers used in the email template.</li>
</ul>
<p>All of these configurations are optional, except <tt class="docutils literal"><span class="pre">'from'</span></tt>. If you put more
configurations in this array, the configurations will be used in the
<tt class="xref php php-meth docutils literal"><span class="pre">CakeEmail::config()</span></tt> method and passed to the transport class <tt class="docutils literal"><span class="pre">config()</span></tt>.
For example, if you are using the SMTP transport, you should pass the host, port and
other configurations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The values of above keys using Email or array, like from, to, cc, etc will be passed
as first parameter of corresponding methods. The equivalent for:
<tt class="docutils literal"><span class="pre">CakeEmail::from('my&#64;example.com',</span> <span class="pre">'My</span> <span class="pre">Site')</span></tt>
would be defined as  <tt class="docutils literal"><span class="pre">'from'</span> <span class="pre">=&gt;</span> <span class="pre">array('my&#64;example.com'</span> <span class="pre">=&gt;</span> <span class="pre">'My</span> <span class="pre">Site')</span></tt> in your config.</p>
</div>
</div>
<div class="section" id="setting-headers">
<h3>Setting headers<a class="headerlink" href="#setting-headers" title="Permalink to this headline">¶</a></h3>
<p>In <tt class="docutils literal"><span class="pre">CakeEmail</span></tt> you are free to set whatever headers you want. When migrating
to use CakeEmail, do not forget to put the <tt class="docutils literal"><span class="pre">X-</span></tt> prefix in your headers.</p>
<p>See <tt class="docutils literal"><span class="pre">CakeEmail::setHeaders()</span></tt> and <tt class="docutils literal"><span class="pre">CakeEmail::addHeaders()</span></tt></p>
</div>
<div class="section" id="sending-templated-emails">
<h3>Sending templated emails<a class="headerlink" href="#sending-templated-emails" title="Permalink to this headline">¶</a></h3>
<p>Emails are often much more than just a simple text message. In order
to facilitate that, CakePHP provides a way to send emails using CakePHP&#8217;s
<a class="reference internal" href="../views.html"><em>view layer</em></a>.</p>
<p>The templates for emails reside in a special folder in your applications
<tt class="docutils literal"><span class="pre">View</span></tt> directory called <tt class="docutils literal"><span class="pre">Emails</span></tt>. Email views can also use layouts,
and elements just like normal views:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">template</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">,</span> <span class="s1">&#39;fancy&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">emailFormat</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">to</span><span class="p">(</span><span class="s1">&#39;bob@example.com&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;app@domain.com&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</pre></div>
</div>
<p>The above would use <tt class="docutils literal"><span class="pre">app/View/Emails/html/welcome.ctp</span></tt> for the view,
and <tt class="docutils literal"><span class="pre">app/View/Layouts/Emails/html/fancy.ctp</span></tt> for the layout. You can
send multipart templated email messages as well:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">template</span><span class="p">(</span><span class="s1">&#39;welcome&#39;</span><span class="p">,</span> <span class="s1">&#39;fancy&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">emailFormat</span><span class="p">(</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">to</span><span class="p">(</span><span class="s1">&#39;bob@example.com&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;app@domain.com&#39;</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</pre></div>
</div>
<p>This would use the following view files:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">app/View/Emails/text/welcome.ctp</span></tt></li>
<li><tt class="docutils literal"><span class="pre">app/View/Layouts/Emails/text/fancy.ctp</span></tt></li>
<li><tt class="docutils literal"><span class="pre">app/View/Emails/html/welcome.ctp</span></tt></li>
<li><tt class="docutils literal"><span class="pre">app/View/Layouts/Emails/html/fancy.ctp</span></tt></li>
</ul>
<p>When sending templated emails you have the option of sending either
<tt class="docutils literal"><span class="pre">text</span></tt>, <tt class="docutils literal"><span class="pre">html</span></tt> or <tt class="docutils literal"><span class="pre">both</span></tt>.</p>
<p>You can set view variables with <tt class="docutils literal"><span class="pre">CakeEmail::viewVars()</span></tt>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">(</span><span class="s1">&#39;templated&#39;</span><span class="p">);</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">viewVars</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="mi">12345</span><span class="p">));</span>
</pre></div>
</div>
<p>In your email templates you can use these with:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Here</span> <span class="nx">is</span> <span class="nx">your</span> <span class="nx">value</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">b</span><span class="o">&gt;&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$value</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&lt;/b&gt;&lt;/p&gt;</span>
</pre></div>
</div>
<p>You can use helpers in emails as well, much like you can in normal view files.
By default only the <a class="reference internal" href="../core-libraries/helpers/html.html#HtmlHelper" title="HtmlHelper"><tt class="xref php php-class docutils literal"><span class="pre">HtmlHelper</span></tt></a> is loaded. You can load additional
helpers using the <tt class="docutils literal"><span class="pre">helpers()</span></tt> method:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">helpers</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;Html&#39;</span><span class="p">,</span> <span class="s1">&#39;Custom&#39;</span><span class="p">,</span> <span class="s1">&#39;Text&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>When setting helpers be sure to include &#8216;Html&#8217; or it will be removed from the
helpers loaded in your email template.</p>
<p>If you want to send email using templates in a plugin you can use the familiar
<a class="reference internal" href="../appendices/glossary.html#term-plugin-syntax"><em class="xref std std-term">plugin syntax</em></a> to do so:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">template</span><span class="p">(</span><span class="s1">&#39;Blog.new_comment&#39;</span><span class="p">,</span> <span class="s1">&#39;Blog.auto_message&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The above would use templates from the Blog plugin as an example.</p>
<p>In some cases, you might need to override the default template provided by plugins.
You can do this using themes by telling CakeEmail to use appropriate theme using
<tt class="docutils literal"><span class="pre">CakeEmail::theme()</span></tt> method:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">template</span><span class="p">(</span><span class="s1">&#39;Blog.new_comment&#39;</span><span class="p">,</span> <span class="s1">&#39;Blog.auto_message&#39;</span><span class="p">);</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">theme</span><span class="p">(</span><span class="s1">&#39;TestTheme&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>This allows you to override the <cite>new_comment</cite> template in your theme without modifying
the Blog plugin. The template file needs to be created in the following path:
<tt class="docutils literal"><span class="pre">APP/View/Themed/TestTheme/Blog/Emails/text/new_comment.ctp</span></tt>.</p>
</div>
<div class="section" id="sending-attachments">
<h3>Sending attachments<a class="headerlink" href="#sending-attachments" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="CakeEmail::attachments">
<tt class="descclassname">CakeEmail::</tt><tt class="descname">attachments</tt><big>(</big><em>$attachments = null</em><big>)</big><a class="headerlink" href="#CakeEmail::attachments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>You can attach files to email messages as well. There are a few
different formats depending on what kind of files you have, and how
you want the filenames to appear in the recipient&#8217;s mail client:</p>
<ol class="arabic">
<li><p class="first">String: <tt class="docutils literal"><span class="pre">$Email-&gt;attachments('/full/file/path/file.png')</span></tt> will attach this
file with the name file.png.</p>
</li>
<li><p class="first">Array: <tt class="docutils literal"><span class="pre">$Email-&gt;attachments(array('/full/file/path/file.png')</span></tt> will have
the same behavior as using a string.</p>
</li>
<li><p class="first">Array with key:
<tt class="docutils literal"><span class="pre">$Email-&gt;attachments(array('photo.png'</span> <span class="pre">=&gt;</span> <span class="pre">'/full/some_hash.png'))</span></tt> will
attach some_hash.png with the name photo.png. The recipient will see
photo.png, not some_hash.png.</p>
</li>
<li><p class="first">Nested arrays:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">attachments</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;photo.png&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;file&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/full/some_hash.png&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mimetype&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;image/png&#39;</span><span class="p">,</span>
        <span class="s1">&#39;contentId&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my-unique-id&#39;</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</div>
<p>The above will attach the file with different mimetype and with custom
Content ID (when set the content ID the attachment is transformed to inline).
The mimetype and contentId are optional in this form.</p>
<p>4.1. When you are using the <tt class="docutils literal"><span class="pre">contentId</span></tt>, you can use the file in the HTML
body like <tt class="docutils literal"><span class="pre">&lt;img</span> <span class="pre">src=&quot;cid:my-content-id&quot;&gt;</span></tt>.</p>
<p>4.2. You can use the <tt class="docutils literal"><span class="pre">contentDisposition</span></tt> option to disable the
<tt class="docutils literal"><span class="pre">Content-Disposition</span></tt> header for an attachment. This is useful when
sending ical invites to clients using outlook.</p>
<p>4.3 Instead of the <tt class="docutils literal"><span class="pre">file</span></tt> option you can provide the file contents as
a string using the <tt class="docutils literal"><span class="pre">data</span></tt> option. This allows you to attach files without
needing file paths to them.</p>
</li>
</ol>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.3: </span>The <tt class="docutils literal"><span class="pre">contentDisposition</span></tt> option was added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.4: </span>The <tt class="docutils literal"><span class="pre">data</span></tt> option was added.</p>
</div>
</div>
<div class="section" id="using-transports">
<h3>Using transports<a class="headerlink" href="#using-transports" title="Permalink to this headline">¶</a></h3>
<p>Transports are classes designed to send the e-mail over some protocol or method.
CakePHP supports the Mail (default), Debug and SMTP transports.</p>
<p>To configure your method, you must use the <tt class="xref php php-meth docutils literal"><span class="pre">CakeEmail::transport()</span></tt>
method or have the transport in your configuration.</p>
<div class="section" id="creating-custom-transports">
<h4>Creating custom Transports<a class="headerlink" href="#creating-custom-transports" title="Permalink to this headline">¶</a></h4>
<p>You are able to create your custom transports to integrate with others email
systems (like SwiftMailer). To create your transport, first create the file
<tt class="docutils literal"><span class="pre">app/Lib/Network/Email/ExampleTransport.php</span></tt> (where Example is the name of your
transport). To start off your file should look like:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">&#39;AbstractTransport&#39;</span><span class="p">,</span> <span class="s1">&#39;Network/Email&#39;</span><span class="p">);</span>

<span class="k">class</span> <span class="nc">ExampleTransport</span> <span class="k">extends</span> <span class="nx">AbstractTransport</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">send</span><span class="p">(</span><span class="nx">CakeEmail</span> <span class="nv">$Email</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// magic inside!</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>You must implement the method <tt class="docutils literal"><span class="pre">send(CakeEmail</span> <span class="pre">$Email)</span></tt> with your custom logic.
Optionally, you can implement the <tt class="docutils literal"><span class="pre">config($config)</span></tt> method. <tt class="docutils literal"><span class="pre">config()</span></tt> is
called before send() and allows you to accept user configurations. By default,
this method puts the configuration in protected attribute <tt class="docutils literal"><span class="pre">$_config</span></tt>.</p>
<p>If you need to call additional methods on the transport before send, you can use
<tt class="xref php php-meth docutils literal"><span class="pre">CakeEmail::transportClass()</span></tt> to get an instance of the transport.
Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$yourInstance</span> <span class="o">=</span> <span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">transport</span><span class="p">(</span><span class="s1">&#39;your&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">transportClass</span><span class="p">();</span>
<span class="nv">$yourInstance</span><span class="o">-&gt;</span><span class="na">myCustomMethod</span><span class="p">();</span>
<span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="relaxing-address-validation-rules">
<h3>Relaxing address validation rules<a class="headerlink" href="#relaxing-address-validation-rules" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="CakeEmail::emailPattern">
<tt class="descclassname">CakeEmail::</tt><tt class="descname">emailPattern</tt><big>(</big><em>$pattern = null</em><big>)</big><a class="headerlink" href="#CakeEmail::emailPattern" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>If you are having validation issues when sending to non-compliant addresses, you
can relax the pattern used to validate email addresses. This is sometimes
necessary when dealing with some Japanese ISP&#8217;s:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$email</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CakeEmail</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">);</span>

<span class="c1">// Relax the email pattern, so you can send</span>
<span class="c1">// to non-conformant addresses.</span>
<span class="nv">$email</span><span class="o">-&gt;</span><span class="na">emailPattern</span><span class="p">(</span><span class="nv">$newPattern</span><span class="p">);</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.4.</span></p>
</div>
</div>
</div>
<div class="section" id="sending-messages-quickly">
<h2>Sending messages quickly<a class="headerlink" href="#sending-messages-quickly" title="Permalink to this headline">¶</a></h2>
<p>Sometimes you need a quick way to fire off an email, and you don&#8217;t necessarily
want do setup a bunch of configuration ahead of time.
<tt class="xref php php-meth docutils literal"><span class="pre">CakeEmail::deliver()</span></tt> is intended for that purpose.</p>
<p>You can create your configuration in <tt class="docutils literal"><span class="pre">EmailConfig</span></tt>, or use an array with all
options that you need and use the static method <tt class="docutils literal"><span class="pre">CakeEmail::deliver()</span></tt>.
Example:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nx">CakeEmail</span><span class="o">::</span><span class="na">deliver</span><span class="p">(</span><span class="s1">&#39;you@example.com&#39;</span><span class="p">,</span> <span class="s1">&#39;Subject&#39;</span><span class="p">,</span> <span class="s1">&#39;Message&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;from&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;me@example.com&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>This method will send an email to <a class="reference external" href="mailto:you&#37;&#52;&#48;example&#46;com">you<span>&#64;</span>example<span>&#46;</span>com</a>, from <a class="reference external" href="mailto:me&#37;&#52;&#48;example&#46;com">me<span>&#64;</span>example<span>&#46;</span>com</a> with
subject Subject and content Message.</p>
<p>The return of <tt class="docutils literal"><span class="pre">deliver()</span></tt> is a <a class="reference internal" href="#CakeEmail" title="CakeEmail"><tt class="xref php php-class docutils literal"><span class="pre">CakeEmail</span></tt></a> instance with all
configurations set. If you do not want to send the email right away, and wish
to configure a few things before sending, you can pass the 5th parameter as
false.</p>
<p>The 3rd parameter is the content of message or an array with variables (when
using rendered content).</p>
<p>The 4th parameter can be an array with the configurations or a string with the
name of configuration in <tt class="docutils literal"><span class="pre">EmailConfig</span></tt>.</p>
<p>If you want, you can pass the to, subject and message as null and do all
configurations in the 4th parameter (as array or using <tt class="docutils literal"><span class="pre">EmailConfig</span></tt>).
Check the list of <a class="reference internal" href="#email-configurations"><em>configurations</em></a> to see all accepted configs.</p>
</div>
<div class="section" id="sending-emails-from-cli">
<h2>Sending emails from CLI<a class="headerlink" href="#sending-emails-from-cli" title="Permalink to this headline">¶</a></h2>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.2: </span>The <tt class="docutils literal"><span class="pre">domain()</span></tt> method was added in 2.2</p>
</div>
<p>When sending emails within a CLI script (Shells, Tasks, ...) you should manually
set the domain name for CakeEmail to use. The domain name is used as the host
name for the message id (since there is no host name in a CLI environment):</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span></span><span class="nv">$Email</span><span class="o">-&gt;</span><span class="na">domain</span><span class="p">(</span><span class="s1">&#39;www.example.org&#39;</span><span class="p">);</span>
<span class="c1">// Results in message ids like ``&lt;UUID@www.example.org&gt;`` (valid)</span>
<span class="c1">// instead of `&lt;UUID@&gt;`` (invalid)</span>
</pre></div>
</div>
<p>A valid message id can help to prevent emails ending up in spam folders. If you
are generating links in your email bodies you will also need to set the
<tt class="docutils literal"><span class="pre">App.fullBaseUrl</span></tt> configure value.</p>
</div>
</div>


		</div>
	</div>

	<div class="sidebar columns three pull-nine">
<div id="sidebar-navigation" class="hide-on-phones">
	<h2 class="hide-on-desktops">Table of Contents</h2>
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models.html">Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core-libraries.html">Core Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-general-purpose.html">General Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-behaviors.html">Behaviors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core-libraries/toc-helpers.html">Helpers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../core-libraries/toc-utilities.html">Utilities</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/caching.html">Caching</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">CakeEmail</a></li>
<li class="toctree-l3"><a class="reference internal" href="file-folder.html">Folder &amp; File</a></li>
<li class="toctree-l3"><a class="reference internal" href="hash.html">Hash</a></li>
<li class="toctree-l3"><a class="reference internal" href="httpsocket.html">HttpSocket</a></li>
<li class="toctree-l3"><a class="reference internal" href="inflector.html">Inflector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/internationalization-and-localization.html">Internationalization &amp; Localization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../core-libraries/logging.html">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="number.html">CakeNumber</a></li>
<li class="toctree-l3"><a class="reference internal" href="router.html">Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="sanitize.html">Data Sanitization</a></li>
<li class="toctree-l3"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="set.html">Set</a></li>
<li class="toctree-l3"><a class="reference internal" href="string.html">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="time.html">CakeTime</a></li>
<li class="toctree-l3"><a class="reference internal" href="xml.html">Xml</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console-and-shells.html">Console and Shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices.html">Appendices</a></li>
</ul>

</div>

<div class="page-contents">
	<h3>Page contents</h3>
	<ul>
<li><a class="reference internal" href="#">CakeEmail</a><ul>
<li><a class="reference internal" href="#basic-usage">Basic usage</a><ul>
<li><a class="reference internal" href="#choosing-the-sender">Choosing the sender</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#configurations">Configurations</a></li>
<li><a class="reference internal" href="#setting-headers">Setting headers</a></li>
<li><a class="reference internal" href="#sending-templated-emails">Sending templated emails</a></li>
<li><a class="reference internal" href="#sending-attachments">Sending attachments</a></li>
<li><a class="reference internal" href="#using-transports">Using transports</a><ul>
<li><a class="reference internal" href="#creating-custom-transports">Creating custom Transports</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relaxing-address-validation-rules">Relaxing address validation rules</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sending-messages-quickly">Sending messages quickly</a></li>
<li><a class="reference internal" href="#sending-emails-from-cli">Sending emails from CLI</a></li>
</ul>
</li>
</ul>

</div>
	</div>

</div>

<div class="content row">
	<ul class="related-pages inline">
	<li>
		<a href="../genindex.html" title="General Index" accesskey="I">index</a>
	</li>
	<li>
		<a href="file-folder.html" title="Folder &amp; File" accesskey="N">next</a>
	</li>
	<li>
		<a href="../core-libraries/caching.html" title="Caching" accesskey="P">previous</a>
	</li>
	</ul>
</div>

	<div class="footer-push"> </div>
</div>






<div class="footer">
	<div class="row">
		<div class="columns six offset-by-three contribute">
			<strong>发现翻译错误?</strong>
			请在下面留言<br />
			<a href="https://github.com/blackpuppy/docs/wiki" target="_blank">[ 我要加入翻译 ]</a>
		</div>
	</div>
	
	<div class="row">
		<div class="columns nine offset-by-three copyright">
					&copy; Copyright 2014, Cake Software Foundation, Inc.
				Last updated on Jul 10, 2016.
				Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
		</div>
	</div>
</div>

<div id="nav-modal" class="reveal-modal"> </div>
<div id="inline-search-results"></div>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F201cbc61deaf9f7ffb521fb23e83db40' type='text/javascript'%3E%3C/script%3E"));
</script>

<!-- Duoshuo Comment BEGIN -->
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"cakephpchina"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Duoshuo Comment END -->

<!-- Grunt Live Reload -->
<script src="http://192.168.56.113:35729/livereload.js"></script>
  </body>
</html>