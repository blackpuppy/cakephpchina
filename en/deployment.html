
<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="Deployment" lang="en" name="title" />
<meta content="stack traces,application extensions,set document,installation documentation,development features,generic error,document root,func,debug,caches,error messages,configuration files,webroot,deployment,cakephp,applications" lang="en" name="keywords" />

    <title>Deployment &mdash; CakePHP Cookbook 2.x documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/app.js"></script>
    <script type="text/javascript" src="_static/modernizr.foundation.js"></script>
    <script type="text/javascript" src="_static/foundation.js"></script>
    <link rel="top" title="CakePHP Cookbook 2.x documentation" href="index.html" />
    <link rel="next" title="Tutorials &amp; Examples" href="tutorials-and-examples.html" />
    <link rel="prev" title="Dispatcher Filters" href="development/dispatch-filters.html" />
<link href="_static/favicon.ico" type="image/x-icon" rel="icon" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="alternate" hreflang="pt" href="../pt/deployment.html" /><link rel="alternate" hreflang="es" href="../es/deployment.html" /><link rel="alternate" hreflang="ja" href="../ja/deployment.html" /><link rel="alternate" hreflang="fr" href="../fr/deployment.html" /><link rel="alternate" hreflang="zh_CN" href="../zh/deployment.html" />

<link rel="search" type="application/opensearchdescription+xml" title="CakePHP Book 2.x Search" href="_static/opensearchdescription-book-2-x.xml">
<script type="text/javascript">
window.lang = "en";
</script>

  </head>
  <body>

<div id="container">

<div id="cakephp-global-navigation">
	<ul>
		<li class="main"><a href="http://cakephp.org">CakePHP</a></li>
		<li class="primary"><a href="#" class="empty">Downloads</a>
			<ul class="second-level">
				<li><a href="https://github.com/cakephp/cakephp/tags">Releases</a></li>
				<li><a href="http://pear.cakephp.org">Pear channel</a></li>
			</ul>
		</li>
		<li class="primary"><a href="#" class="empty">Documentation</a>
			<ul class="second-level">
				<li><a href="http://api.cakephp.org">API</a></li>
				<li><a href="http://book.cakephp.org">Book</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://community.cakephp.org">Community</a>
			<ul class="second-level">
				<li><a href="http://webchat.freenode.net/?channels=cakephp&uio=MT1mYWxzZSY5PXRydWUmMTE9MjQ2b8">Help &amp; Support</a></li>
				<li><a href="https://github.com/cakephp/cakephp/issues">Issues</a></li>
				<li><a href="http://bakery.cakephp.org">The Bakery</a></li>
				<li><a href="http://stackoverflow.com/tags/cakephp">Stack Overflow</a></li>
				<li><a href="http://www.facebook.com/groups/cake.community">Facebook Group</a></li>
				<li><a href="http://goo.gl/mSC0s">Google+ Community</a></li>
				<li><a href="http://www.youtube.com/user/CakePHP">YouTube Channel</a></li>
				<li><a href="http://podcast.cakephp.org">CakePHP Podcast</a></li>
				<li><a href="http://twitter.com/CakePHP">Follow us on Twitter</a></li>
				<li><a href="http://groups.google.com/group/cake-php">Google Group</a></li>
				<li><a href="http://github.com/cakephp/cakephp/contributors">Contributors</a></li>
				<li><a href="http://plugins.cakephp.org">Plugins &amp; Packages</a></li>
				<li><a href="http://community.cakephp.org/get-involved">Get Involved</a></li>
				<li><a href="http://community.cakephp.org/guidelines">Guidelines</a></li>
				<li><a href="http://cakefest.org">CakeFest</a></li>
				<li><a href="http://cakephp.org/logos">Logo</a></li>
			</ul>
		</li>
		<li class="primary"><a href="http://cakephp.org/services">Services</a>
			<ul class="second-level">
				<li><a href="http://cakephp.org/services/certification">Certification</a></li>
				<li><a href="http://cakephp.org/services/consultation">Consultation</a></li>
				<li><a href="http://cakephp.org/services/support">Support</a></li>
				<li><a href="http://training.cakephp.org">Training</a></li>
			</ul>
		</li>
	</ul>
</div>

<div class="masthead">
	<div class="header-backing"></div>
	<div class="searchbar row">
		<div class="columns three phone-one">
			<a class="logo" href="contents.html">
			<img src="_static/cake-logo.png" alt="CakePHP" width="70" />
			</a>
		</div>
		
<div id="searchbox" class="columns nine phone-three">

	<form id="searchform" class="search" action="search.html" method="get">
		<input class="search-input" autocomplete="off" type="search" name="q" size="18" />
		<input class="search-submit search-big button red" type="submit" value="Search" />
		<input type="hidden" name="check_keywords" value="yes" />
		<input type="hidden" name="area" value="default" />

		<a href="#" id="tablet-nav" class="show-on-phones pale button small">Nav</a>
	</form>

</div>
	</div>
</div>
<div class="breadcrumb-header">
	<div class="related row">
		<div class="columns three root-link">
			<a href="contents.html">Cookbook 2.x</a>
		</div>
		<div class="columns nine">
			<ul class="inline breadcrumb">
			</ul>
			<div class="versions dropdown">
				<a href="#">2.x Book</a>
				<ul>
					<li><a href="http://book.cakephp.org/3.0/en">3.0 Book</a></li>
					<li><a href="http://book.cakephp.org/1.3/en/">1.3 Book</a></li>
					<li><a href="http://book.cakephp.org/1.2/en/">1.2 Book</a></li>
					<li><a href="http://book.cakephp.org/1.1/en">1.1 Book</a></li>
				</ul>
			</div>

			<div class="languages dropdown">
				<a href="#">en</a>

				<ul>
				
					<li></li>
				
					<li><a href="../pt/deployment.html">pt</a></li>
				
					<li><a href="../es/deployment.html">es</a></li>
				
					<li><a href="../ja/deployment.html">ja</a></li>
				
					<li><a href="../fr/deployment.html">fr</a></li>
				
					<li><a href="../zh/deployment.html">zh_CN</a></li>
				
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="content row">
	<div class="document columns nine push-three">
		<div class="body"><a class="button pale improve" href="https://github.com/cakephp/docs/edit/master/en/deployment.rst" target="_blank">Improve this Doc</a>
  <div class="section" id="deployment">
<h1>Deployment<a class="headerlink" href="#deployment" title="Permalink to this headline">¶</a></h1>
<p>Once your application is complete, or even before that you&#8217;ll want to deploy it.
There are a few things you should do when deploying a CakePHP application.</p>
<div class="section" id="check-your-security">
<h2>Check your security<a class="headerlink" href="#check-your-security" title="Permalink to this headline">¶</a></h2>
<p>If you&#8217;re throwing your application out into the wild, it&#8217;s a good idea to make
sure it doesn&#8217;t have any leaks. Check the <a class="reference internal" href="core-libraries/components/security-component.html"><em>Security</em></a> to guard against
CSRF attacks, form field tampering, and others. Doing <a class="reference internal" href="models/data-validation.html"><em>Data Validation</em></a>, and/or
<a class="reference internal" href="core-utility-libraries/sanitize.html"><em>Data Sanitization</em></a> is also a great idea, for protecting your
database and also against XSS attacks. Check that only your <tt class="docutils literal"><span class="pre">webroot</span></tt> directory
is publicly visible, and that your secrets (such as your app salt and
any security keys) are private and unique as well!</p>
</div>
<div class="section" id="set-document-root">
<h2>Set document root<a class="headerlink" href="#set-document-root" title="Permalink to this headline">¶</a></h2>
<p>Setting the document root correctly on your application is an important step to
keeping your code secure and your application safer. CakePHP applications
should have the document root set to the application&#8217;s <tt class="docutils literal"><span class="pre">app/webroot</span></tt>. This
makes the application and configuration files inaccessible through a URL.
Setting the document root is different for different webservers. See the
<a class="reference internal" href="installation/url-rewriting.html"><em>URL Rewriting</em></a> documentation for webserver specific
information.</p>
<p>In all cases you will want to set the virtual host/domain&#8217;s document to be
<tt class="docutils literal"><span class="pre">app/webroot/</span></tt>. This removes the possibility of files outside of the webroot
directory being executed.</p>
</div>
<div class="section" id="update-core-php">
<h2>Update core.php<a class="headerlink" href="#update-core-php" title="Permalink to this headline">¶</a></h2>
<p>Updating core.php, specifically the value of <tt class="docutils literal"><span class="pre">debug</span></tt> is extremely important.
Turning debug = 0 disables a number of development features that should never be
exposed to the Internet at large. Disabling debug changes the following types of
things:</p>
<ul class="simple">
<li>Debug messages, created with <a class="reference internal" href="core-libraries/global-constants-and-functions.html#pr" title="pr"><tt class="xref php php-func docutils literal"><span class="pre">pr()</span></tt></a> and <a class="reference internal" href="development/debugging.html#debug" title="debug"><tt class="xref php php-func docutils literal"><span class="pre">debug()</span></tt></a> are
disabled.</li>
<li>Core CakePHP caches are by default flushed every 999 days, instead of every
10 seconds as in development.</li>
<li>Error views are less informative, and give generic error messages instead.</li>
<li>Errors are not displayed.</li>
<li>Exception stack traces are disabled.</li>
</ul>
<p>In addition to the above, many plugins and application extensions use <tt class="docutils literal"><span class="pre">debug</span></tt>
to modify their behavior.</p>
<p>You can check against an environment variable to set the debug level dynamically
between environments. This will avoid deploying an application with debug &gt; 0 and
also save yourself from having to change the debug level each time before deploying
to a production environment.</p>
<p>For example, you can set an environment variable in your Apache configuration:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">SetEnv</span> <span class="nx">CAKEPHP_DEBUG</span> <span class="mi">2</span>
</pre></div>
</div>
<p>And then you can set the debug level dynamically in <tt class="docutils literal"><span class="pre">core.php</span></tt>:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nb">getenv</span><span class="p">(</span><span class="s1">&#39;CAKEPHP_DEBUG&#39;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">Configure</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">Configure</span><span class="o">::</span><span class="na">write</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="improve-your-application-s-performance">
<h2>Improve your application&#8217;s performance<a class="headerlink" href="#improve-your-application-s-performance" title="Permalink to this headline">¶</a></h2>
<p>Since handling static assets, such as images, JavaScript and CSS files of plugins,
through the Dispatcher is incredibly inefficient, it is strongly recommended to symlink
them for production. For example like this:</p>
<div class="highlight-phpinline"><div class="highlight"><pre><span class="nx">ln</span> <span class="o">-</span><span class="nx">s</span> <span class="nx">app</span><span class="o">/</span><span class="nx">Plugin</span><span class="o">/</span><span class="nx">YourPlugin</span><span class="o">/</span><span class="nx">webroot</span><span class="o">/</span><span class="nx">css</span><span class="o">/</span><span class="nx">yourplugin</span><span class="o">.</span><span class="nx">css</span> <span class="nx">app</span><span class="o">/</span><span class="nx">webroot</span><span class="o">/</span><span class="nx">css</span><span class="o">/</span><span class="nx">yourplugin</span><span class="o">.</span><span class="nx">css</span>
</pre></div>
</div>
</div>
</div>


		</div>
	</div>

	<div class="sidebar columns three pull-nine">
<div id="sidebar-navigation" class="hide-on-phones">
	<h2 class="hide-on-desktops">Table of Contents</h2>
	<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="cakephp-overview.html">CakePHP Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="core-libraries.html">Core Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="console-and-shells.html">Console and Shells</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Deployment</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials-and-examples.html">Tutorials &amp; Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendices.html">Appendices</a></li>
</ul>

</div>

<div class="page-contents">
	<h3>Page contents</h3>
	<ul>
<li><a class="reference internal" href="#">Deployment</a><ul>
<li><a class="reference internal" href="#check-your-security">Check your security</a></li>
<li><a class="reference internal" href="#set-document-root">Set document root</a></li>
<li><a class="reference internal" href="#update-core-php">Update core.php</a></li>
<li><a class="reference internal" href="#improve-your-application-s-performance">Improve your application&#8217;s performance</a></li>
</ul>
</li>
</ul>

</div>
	</div>

</div>

<div class="content row">
	<ul class="related-pages inline">
	<li>
		<a href="genindex.html" title="General Index" accesskey="I">index</a>
	</li>
	<li>
		<a href="tutorials-and-examples.html" title="Tutorials &amp; Examples" accesskey="N">next</a>
	</li>
	<li>
		<a href="development/dispatch-filters.html" title="Dispatcher Filters" accesskey="P">previous</a>
	</li>
	</ul>
</div>

	<div class="footer-push"> </div>
</div>






<div class="footer">
	<div class="row">
		<div class="columns six offset-by-three contribute">
			<strong>Found an issue?</strong>
			Submit a correction on <a href="https://github.com/cakephp/docs">GitHub</a><br />
			<a href="http://book.cakephp.org/2.0/en/contributing/documentation.html">[ documentation on how to contribute ]</a>
		</div>
	</div>
	
	<div class="row">
		<div class="columns nine offset-by-three copyright">
					&copy; Copyright 2014, Cake Software Foundation, Inc.
				Last updated on Aug 24, 2015.
				Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.
		</div>
	</div>
</div>

<div id="nav-modal" class="reveal-modal"> </div>
<div id="inline-search-results"></div>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-743287-3']);
	_gaq.push(['_trackPageview']);
	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
  </body>
</html>